(function(){const q=document.createElement("link").relList;if(q&&q.supports&&q.supports("modulepreload"))return;for(const X of document.querySelectorAll('link[rel="modulepreload"]'))D(X);new MutationObserver(X=>{for(const $ of X)if($.type==="childList")for(const Q of $.addedNodes)Q.tagName==="LINK"&&Q.rel==="modulepreload"&&D(Q)}).observe(document,{childList:!0,subtree:!0});function C(X){const $={};return X.integrity&&($.integrity=X.integrity),X.referrerPolicy&&($.referrerPolicy=X.referrerPolicy),X.crossOrigin==="use-credentials"?$.credentials="include":X.crossOrigin==="anonymous"?$.credentials="omit":$.credentials="same-origin",$}function D(X){if(X.ep)return;X.ep=!0;const $=C(X);fetch(X.href,$)}})();var Ff=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Dd(y){return y&&y.__esModule&&Object.prototype.hasOwnProperty.call(y,"default")?y.default:y}var ru={exports:{}},ha={},su={exports:{}},$e={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var od;function zf(){if(od)return $e;od=1;var y=Symbol.for("react.element"),q=Symbol.for("react.portal"),C=Symbol.for("react.fragment"),D=Symbol.for("react.strict_mode"),X=Symbol.for("react.profiler"),$=Symbol.for("react.provider"),Q=Symbol.for("react.context"),B=Symbol.for("react.forward_ref"),Z=Symbol.for("react.suspense"),Y=Symbol.for("react.memo"),ce=Symbol.for("react.lazy"),A=Symbol.iterator;function H(P){return P===null||typeof P!="object"?null:(P=A&&P[A]||P["@@iterator"],typeof P=="function"?P:null)}var ee={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},xe=Object.assign,Me={};function Re(P,V,Ee){this.props=P,this.context=V,this.refs=Me,this.updater=Ee||ee}Re.prototype.isReactComponent={},Re.prototype.setState=function(P,V){if(typeof P!="object"&&typeof P!="function"&&P!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,P,V,"setState")},Re.prototype.forceUpdate=function(P){this.updater.enqueueForceUpdate(this,P,"forceUpdate")};function Ne(){}Ne.prototype=Re.prototype;function Fe(P,V,Ee){this.props=P,this.context=V,this.refs=Me,this.updater=Ee||ee}var Ze=Fe.prototype=new Ne;Ze.constructor=Fe,xe(Ze,Re.prototype),Ze.isPureReactComponent=!0;var Ke=Array.isArray,pt=Object.prototype.hasOwnProperty,Ye={current:null},x={key:!0,ref:!0,__self:!0,__source:!0};function se(P,V,Ee){var Te,qe={},Ue=null,et=null;if(V!=null)for(Te in V.ref!==void 0&&(et=V.ref),V.key!==void 0&&(Ue=""+V.key),V)pt.call(V,Te)&&!x.hasOwnProperty(Te)&&(qe[Te]=V[Te]);var tt=arguments.length-2;if(tt===1)qe.children=Ee;else if(1<tt){for(var ct=Array(tt),be=0;be<tt;be++)ct[be]=arguments[be+2];qe.children=ct}if(P&&P.defaultProps)for(Te in tt=P.defaultProps,tt)qe[Te]===void 0&&(qe[Te]=tt[Te]);return{$$typeof:y,type:P,key:Ue,ref:et,props:qe,_owner:Ye.current}}function de(P,V){return{$$typeof:y,type:P.type,key:V,ref:P.ref,props:P.props,_owner:P._owner}}function Ge(P){return typeof P=="object"&&P!==null&&P.$$typeof===y}function lt(P){var V={"=":"=0",":":"=2"};return"$"+P.replace(/[=:]/g,function(Ee){return V[Ee]})}var Ve=/\/+/g;function He(P,V){return typeof P=="object"&&P!==null&&P.key!=null?lt(""+P.key):V.toString(36)}function Nt(P,V,Ee,Te,qe){var Ue=typeof P;(Ue==="undefined"||Ue==="boolean")&&(P=null);var et=!1;if(P===null)et=!0;else switch(Ue){case"string":case"number":et=!0;break;case"object":switch(P.$$typeof){case y:case q:et=!0}}if(et)return et=P,qe=qe(et),P=Te===""?"."+He(et,0):Te,Ke(qe)?(Ee="",P!=null&&(Ee=P.replace(Ve,"$&/")+"/"),Nt(qe,V,Ee,"",function(be){return be})):qe!=null&&(Ge(qe)&&(qe=de(qe,Ee+(!qe.key||et&&et.key===qe.key?"":(""+qe.key).replace(Ve,"$&/")+"/")+P)),V.push(qe)),1;if(et=0,Te=Te===""?".":Te+":",Ke(P))for(var tt=0;tt<P.length;tt++){Ue=P[tt];var ct=Te+He(Ue,tt);et+=Nt(Ue,V,Ee,ct,qe)}else if(ct=H(P),typeof ct=="function")for(P=ct.call(P),tt=0;!(Ue=P.next()).done;)Ue=Ue.value,ct=Te+He(Ue,tt++),et+=Nt(Ue,V,Ee,ct,qe);else if(Ue==="object")throw V=String(P),Error("Objects are not valid as a React child (found: "+(V==="[object Object]"?"object with keys {"+Object.keys(P).join(", ")+"}":V)+"). If you meant to render a collection of children, use an array instead.");return et}function I(P,V,Ee){if(P==null)return P;var Te=[],qe=0;return Nt(P,Te,"","",function(Ue){return V.call(Ee,Ue,qe++)}),Te}function U(P){if(P._status===-1){var V=P._result;V=V(),V.then(function(Ee){(P._status===0||P._status===-1)&&(P._status=1,P._result=Ee)},function(Ee){(P._status===0||P._status===-1)&&(P._status=2,P._result=Ee)}),P._status===-1&&(P._status=0,P._result=V)}if(P._status===1)return P._result.default;throw P._result}var ve={current:null},W={transition:null},we={ReactCurrentDispatcher:ve,ReactCurrentBatchConfig:W,ReactCurrentOwner:Ye};function le(){throw Error("act(...) is not supported in production builds of React.")}return $e.Children={map:I,forEach:function(P,V,Ee){I(P,function(){V.apply(this,arguments)},Ee)},count:function(P){var V=0;return I(P,function(){V++}),V},toArray:function(P){return I(P,function(V){return V})||[]},only:function(P){if(!Ge(P))throw Error("React.Children.only expected to receive a single React element child.");return P}},$e.Component=Re,$e.Fragment=C,$e.Profiler=X,$e.PureComponent=Fe,$e.StrictMode=D,$e.Suspense=Z,$e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=we,$e.act=le,$e.cloneElement=function(P,V,Ee){if(P==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+P+".");var Te=xe({},P.props),qe=P.key,Ue=P.ref,et=P._owner;if(V!=null){if(V.ref!==void 0&&(Ue=V.ref,et=Ye.current),V.key!==void 0&&(qe=""+V.key),P.type&&P.type.defaultProps)var tt=P.type.defaultProps;for(ct in V)pt.call(V,ct)&&!x.hasOwnProperty(ct)&&(Te[ct]=V[ct]===void 0&&tt!==void 0?tt[ct]:V[ct])}var ct=arguments.length-2;if(ct===1)Te.children=Ee;else if(1<ct){tt=Array(ct);for(var be=0;be<ct;be++)tt[be]=arguments[be+2];Te.children=tt}return{$$typeof:y,type:P.type,key:qe,ref:Ue,props:Te,_owner:et}},$e.createContext=function(P){return P={$$typeof:Q,_currentValue:P,_currentValue2:P,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},P.Provider={$$typeof:$,_context:P},P.Consumer=P},$e.createElement=se,$e.createFactory=function(P){var V=se.bind(null,P);return V.type=P,V},$e.createRef=function(){return{current:null}},$e.forwardRef=function(P){return{$$typeof:B,render:P}},$e.isValidElement=Ge,$e.lazy=function(P){return{$$typeof:ce,_payload:{_status:-1,_result:P},_init:U}},$e.memo=function(P,V){return{$$typeof:Y,type:P,compare:V===void 0?null:V}},$e.startTransition=function(P){var V=W.transition;W.transition={};try{P()}finally{W.transition=V}},$e.unstable_act=le,$e.useCallback=function(P,V){return ve.current.useCallback(P,V)},$e.useContext=function(P){return ve.current.useContext(P)},$e.useDebugValue=function(){},$e.useDeferredValue=function(P){return ve.current.useDeferredValue(P)},$e.useEffect=function(P,V){return ve.current.useEffect(P,V)},$e.useId=function(){return ve.current.useId()},$e.useImperativeHandle=function(P,V,Ee){return ve.current.useImperativeHandle(P,V,Ee)},$e.useInsertionEffect=function(P,V){return ve.current.useInsertionEffect(P,V)},$e.useLayoutEffect=function(P,V){return ve.current.useLayoutEffect(P,V)},$e.useMemo=function(P,V){return ve.current.useMemo(P,V)},$e.useReducer=function(P,V,Ee){return ve.current.useReducer(P,V,Ee)},$e.useRef=function(P){return ve.current.useRef(P)},$e.useState=function(P){return ve.current.useState(P)},$e.useSyncExternalStore=function(P,V,Ee){return ve.current.useSyncExternalStore(P,V,Ee)},$e.useTransition=function(){return ve.current.useTransition()},$e.version="18.3.1",$e}var ld;function mu(){return ld||(ld=1,su.exports=zf()),su.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ud;function Bf(){if(ud)return ha;ud=1;var y=mu(),q=Symbol.for("react.element"),C=Symbol.for("react.fragment"),D=Object.prototype.hasOwnProperty,X=y.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,$={key:!0,ref:!0,__self:!0,__source:!0};function Q(B,Z,Y){var ce,A={},H=null,ee=null;Y!==void 0&&(H=""+Y),Z.key!==void 0&&(H=""+Z.key),Z.ref!==void 0&&(ee=Z.ref);for(ce in Z)D.call(Z,ce)&&!$.hasOwnProperty(ce)&&(A[ce]=Z[ce]);if(B&&B.defaultProps)for(ce in Z=B.defaultProps,Z)A[ce]===void 0&&(A[ce]=Z[ce]);return{$$typeof:q,type:B,key:H,ref:ee,props:A,_owner:X.current}}return ha.Fragment=C,ha.jsx=Q,ha.jsxs=Q,ha}var cd;function Uf(){return cd||(cd=1,ru.exports=Bf()),ru.exports}var r=Uf(),Do={},iu={exports:{}},sn={},au={exports:{}},ou={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dd;function Kf(){return dd||(dd=1,(function(y){function q(W,we){var le=W.length;W.push(we);e:for(;0<le;){var P=le-1>>>1,V=W[P];if(0<X(V,we))W[P]=we,W[le]=V,le=P;else break e}}function C(W){return W.length===0?null:W[0]}function D(W){if(W.length===0)return null;var we=W[0],le=W.pop();if(le!==we){W[0]=le;e:for(var P=0,V=W.length,Ee=V>>>1;P<Ee;){var Te=2*(P+1)-1,qe=W[Te],Ue=Te+1,et=W[Ue];if(0>X(qe,le))Ue<V&&0>X(et,qe)?(W[P]=et,W[Ue]=le,P=Ue):(W[P]=qe,W[Te]=le,P=Te);else if(Ue<V&&0>X(et,le))W[P]=et,W[Ue]=le,P=Ue;else break e}}return we}function X(W,we){var le=W.sortIndex-we.sortIndex;return le!==0?le:W.id-we.id}if(typeof performance=="object"&&typeof performance.now=="function"){var $=performance;y.unstable_now=function(){return $.now()}}else{var Q=Date,B=Q.now();y.unstable_now=function(){return Q.now()-B}}var Z=[],Y=[],ce=1,A=null,H=3,ee=!1,xe=!1,Me=!1,Re=typeof setTimeout=="function"?setTimeout:null,Ne=typeof clearTimeout=="function"?clearTimeout:null,Fe=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function Ze(W){for(var we=C(Y);we!==null;){if(we.callback===null)D(Y);else if(we.startTime<=W)D(Y),we.sortIndex=we.expirationTime,q(Z,we);else break;we=C(Y)}}function Ke(W){if(Me=!1,Ze(W),!xe)if(C(Z)!==null)xe=!0,U(pt);else{var we=C(Y);we!==null&&ve(Ke,we.startTime-W)}}function pt(W,we){xe=!1,Me&&(Me=!1,Ne(se),se=-1),ee=!0;var le=H;try{for(Ze(we),A=C(Z);A!==null&&(!(A.expirationTime>we)||W&&!lt());){var P=A.callback;if(typeof P=="function"){A.callback=null,H=A.priorityLevel;var V=P(A.expirationTime<=we);we=y.unstable_now(),typeof V=="function"?A.callback=V:A===C(Z)&&D(Z),Ze(we)}else D(Z);A=C(Z)}if(A!==null)var Ee=!0;else{var Te=C(Y);Te!==null&&ve(Ke,Te.startTime-we),Ee=!1}return Ee}finally{A=null,H=le,ee=!1}}var Ye=!1,x=null,se=-1,de=5,Ge=-1;function lt(){return!(y.unstable_now()-Ge<de)}function Ve(){if(x!==null){var W=y.unstable_now();Ge=W;var we=!0;try{we=x(!0,W)}finally{we?He():(Ye=!1,x=null)}}else Ye=!1}var He;if(typeof Fe=="function")He=function(){Fe(Ve)};else if(typeof MessageChannel<"u"){var Nt=new MessageChannel,I=Nt.port2;Nt.port1.onmessage=Ve,He=function(){I.postMessage(null)}}else He=function(){Re(Ve,0)};function U(W){x=W,Ye||(Ye=!0,He())}function ve(W,we){se=Re(function(){W(y.unstable_now())},we)}y.unstable_IdlePriority=5,y.unstable_ImmediatePriority=1,y.unstable_LowPriority=4,y.unstable_NormalPriority=3,y.unstable_Profiling=null,y.unstable_UserBlockingPriority=2,y.unstable_cancelCallback=function(W){W.callback=null},y.unstable_continueExecution=function(){xe||ee||(xe=!0,U(pt))},y.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):de=0<W?Math.floor(1e3/W):5},y.unstable_getCurrentPriorityLevel=function(){return H},y.unstable_getFirstCallbackNode=function(){return C(Z)},y.unstable_next=function(W){switch(H){case 1:case 2:case 3:var we=3;break;default:we=H}var le=H;H=we;try{return W()}finally{H=le}},y.unstable_pauseExecution=function(){},y.unstable_requestPaint=function(){},y.unstable_runWithPriority=function(W,we){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var le=H;H=W;try{return we()}finally{H=le}},y.unstable_scheduleCallback=function(W,we,le){var P=y.unstable_now();switch(typeof le=="object"&&le!==null?(le=le.delay,le=typeof le=="number"&&0<le?P+le:P):le=P,W){case 1:var V=-1;break;case 2:V=250;break;case 5:V=1073741823;break;case 4:V=1e4;break;default:V=5e3}return V=le+V,W={id:ce++,callback:we,priorityLevel:W,startTime:le,expirationTime:V,sortIndex:-1},le>P?(W.sortIndex=le,q(Y,W),C(Z)===null&&W===C(Y)&&(Me?(Ne(se),se=-1):Me=!0,ve(Ke,le-P))):(W.sortIndex=V,q(Z,W),xe||ee||(xe=!0,U(pt))),W},y.unstable_shouldYield=lt,y.unstable_wrapCallback=function(W){var we=H;return function(){var le=H;H=we;try{return W.apply(this,arguments)}finally{H=le}}}})(ou)),ou}var fd;function qf(){return fd||(fd=1,au.exports=Kf()),au.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pd;function Vf(){if(pd)return sn;pd=1;var y=mu(),q=qf();function C(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var D=new Set,X={};function $(e,t){Q(e,t),Q(e+"Capture",t)}function Q(e,t){for(X[e]=t,e=0;e<t.length;e++)D.add(t[e])}var B=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Z=Object.prototype.hasOwnProperty,Y=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,ce={},A={};function H(e){return Z.call(A,e)?!0:Z.call(ce,e)?!1:Y.test(e)?A[e]=!0:(ce[e]=!0,!1)}function ee(e,t,n,i){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return i?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function xe(e,t,n,i){if(t===null||typeof t>"u"||ee(e,t,n,i))return!0;if(i)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Me(e,t,n,i,o,u,p){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=i,this.attributeNamespace=o,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=u,this.removeEmptyString=p}var Re={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Re[e]=new Me(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Re[t]=new Me(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){Re[e]=new Me(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Re[e]=new Me(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Re[e]=new Me(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){Re[e]=new Me(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){Re[e]=new Me(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){Re[e]=new Me(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){Re[e]=new Me(e,5,!1,e.toLowerCase(),null,!1,!1)});var Ne=/[\-:]([a-z])/g;function Fe(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Ne,Fe);Re[t]=new Me(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Ne,Fe);Re[t]=new Me(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Ne,Fe);Re[t]=new Me(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){Re[e]=new Me(e,1,!1,e.toLowerCase(),null,!1,!1)}),Re.xlinkHref=new Me("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){Re[e]=new Me(e,1,!1,e.toLowerCase(),null,!0,!0)});function Ze(e,t,n,i){var o=Re.hasOwnProperty(t)?Re[t]:null;(o!==null?o.type!==0:i||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(xe(t,n,o,i)&&(n=null),i||o===null?H(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):o.mustUseProperty?e[o.propertyName]=n===null?o.type===3?!1:"":n:(t=o.attributeName,i=o.attributeNamespace,n===null?e.removeAttribute(t):(o=o.type,n=o===3||o===4&&n===!0?"":""+n,i?e.setAttributeNS(i,t,n):e.setAttribute(t,n))))}var Ke=y.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,pt=Symbol.for("react.element"),Ye=Symbol.for("react.portal"),x=Symbol.for("react.fragment"),se=Symbol.for("react.strict_mode"),de=Symbol.for("react.profiler"),Ge=Symbol.for("react.provider"),lt=Symbol.for("react.context"),Ve=Symbol.for("react.forward_ref"),He=Symbol.for("react.suspense"),Nt=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),U=Symbol.for("react.lazy"),ve=Symbol.for("react.offscreen"),W=Symbol.iterator;function we(e){return e===null||typeof e!="object"?null:(e=W&&e[W]||e["@@iterator"],typeof e=="function"?e:null)}var le=Object.assign,P;function V(e){if(P===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);P=t&&t[1]||""}return`
`+P+e}var Ee=!1;function Te(e,t){if(!e||Ee)return"";Ee=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(z){var i=z}Reflect.construct(e,[],t)}else{try{t.call()}catch(z){i=z}e.call(t.prototype)}else{try{throw Error()}catch(z){i=z}e()}}catch(z){if(z&&i&&typeof z.stack=="string"){for(var o=z.stack.split(`
`),u=i.stack.split(`
`),p=o.length-1,g=u.length-1;1<=p&&0<=g&&o[p]!==u[g];)g--;for(;1<=p&&0<=g;p--,g--)if(o[p]!==u[g]){if(p!==1||g!==1)do if(p--,g--,0>g||o[p]!==u[g]){var w=`
`+o[p].replace(" at new "," at ");return e.displayName&&w.includes("<anonymous>")&&(w=w.replace("<anonymous>",e.displayName)),w}while(1<=p&&0<=g);break}}}finally{Ee=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?V(e):""}function qe(e){switch(e.tag){case 5:return V(e.type);case 16:return V("Lazy");case 13:return V("Suspense");case 19:return V("SuspenseList");case 0:case 2:case 15:return e=Te(e.type,!1),e;case 11:return e=Te(e.type.render,!1),e;case 1:return e=Te(e.type,!0),e;default:return""}}function Ue(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case x:return"Fragment";case Ye:return"Portal";case de:return"Profiler";case se:return"StrictMode";case He:return"Suspense";case Nt:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case lt:return(e.displayName||"Context")+".Consumer";case Ge:return(e._context.displayName||"Context")+".Provider";case Ve:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case I:return t=e.displayName||null,t!==null?t:Ue(e.type)||"Memo";case U:t=e._payload,e=e._init;try{return Ue(e(t))}catch{}}return null}function et(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ue(t);case 8:return t===se?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function tt(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function ct(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function be(e){var t=ct(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),i=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var o=n.get,u=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(p){i=""+p,u.call(this,p)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return i},setValue:function(p){i=""+p},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function ds(e){e._valueTracker||(e._valueTracker=be(e))}function st(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),i="";return e&&(i=ct(e)?e.checked?"true":"false":e.value),e=i,e!==n?(t.setValue(e),!0):!1}function An(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function _i(e,t){var n=t.checked;return le({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Dn(e,t){var n=t.defaultValue==null?"":t.defaultValue,i=t.checked!=null?t.checked:t.defaultChecked;n=tt(t.value!=null?t.value:n),e._wrapperState={initialChecked:i,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function xa(e,t){t=t.checked,t!=null&&Ze(e,"checked",t,!1)}function Ci(e,t){xa(e,t);var n=tt(t.value),i=t.type;if(n!=null)i==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(i==="submit"||i==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Ei(e,t.type,n):t.hasOwnProperty("defaultValue")&&Ei(e,t.type,tt(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function va(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var i=t.type;if(!(i!=="submit"&&i!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Ei(e,t,n){(t!=="number"||An(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Jn=Array.isArray;function Ot(e,t,n,i){if(e=e.options,t){t={};for(var o=0;o<n.length;o++)t["$"+n[o]]=!0;for(n=0;n<e.length;n++)o=t.hasOwnProperty("$"+e[n].value),e[n].selected!==o&&(e[n].selected=o),o&&i&&(e[n].defaultSelected=!0)}else{for(n=""+tt(n),t=null,o=0;o<e.length;o++){if(e[o].value===n){e[o].selected=!0,i&&(e[o].defaultSelected=!0);return}t!==null||e[o].disabled||(t=e[o])}t!==null&&(t.selected=!0)}}function Us(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(C(91));return le({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Er(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(C(92));if(Jn(n)){if(1<n.length)throw Error(C(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:tt(n)}}function Pi(e,t){var n=tt(t.value),i=tt(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),i!=null&&(e.defaultValue=""+i)}function Pr(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Ut(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function yn(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Ut(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Tr,Rr=(function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,i,o){MSApp.execUnsafeLocalFunction(function(){return e(t,n,i,o)})}:e})(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Tr=Tr||document.createElement("div"),Tr.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Tr.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function er(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Mn={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},tr=["Webkit","ms","Moz","O"];Object.keys(Mn).forEach(function(e){tr.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Mn[t]=Mn[e]})});function fs(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Mn.hasOwnProperty(e)&&Mn[e]?(""+t).trim():t+"px"}function Ks(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var i=n.indexOf("--")===0,o=fs(n,t[n],i);n==="float"&&(n="cssFloat"),i?e.setProperty(n,o):e[n]=o}}var In=le({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Se(e,t){if(t){if(In[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(C(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(C(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(C(61))}if(t.style!=null&&typeof t.style!="object")throw Error(C(62))}}function nr(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var xn=null;function Ar(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var fe=null,On=null,rr=null;function qs(e){if(e=ea(e)){if(typeof fe!="function")throw Error(C(280));var t=e.stateNode;t&&(t=Wa(t),fe(e.stateNode,e.type,t))}}function Ti(e){On?rr?rr.push(e):rr=[e]:On=e}function Vs(){if(On){var e=On,t=rr;if(rr=On=null,qs(e),t)for(e=0;e<t.length;e++)qs(t[e])}}function wa(e,t){return e(t)}function ba(){}var Ln=!1;function sr(e,t,n){if(Ln)return e(t,n);Ln=!0;try{return wa(e,t,n)}finally{Ln=!1,(On!==null||rr!==null)&&(ba(),Vs())}}function ir(e,t){var n=e.stateNode;if(n===null)return null;var i=Wa(n);if(i===null)return null;n=i[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(e=e.type,i=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!i;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(C(231,t,typeof n));return n}var Dr=!1;if(B)try{var ot={};Object.defineProperty(ot,"passive",{get:function(){Dr=!0}}),window.addEventListener("test",ot,ot),window.removeEventListener("test",ot,ot)}catch{Dr=!1}function St(e,t,n,i,o,u,p,g,w){var z=Array.prototype.slice.call(arguments,3);try{t.apply(n,z)}catch(ne){this.onError(ne)}}var ps=!1,ar=null,or=!1,Mr=null,Bo={onError:function(e){ps=!0,ar=e}};function Fn(e,t,n,i,o,u,p,g,w){ps=!1,ar=null,St.apply(Bo,arguments)}function Ir(e,t,n,i,o,u,p,g,w){if(Fn.apply(this,arguments),ps){if(ps){var z=ar;ps=!1,ar=null}else throw Error(C(198));or||(or=!0,Mr=z)}}function Kt(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function ms(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function ja(e){if(Kt(e)!==e)throw Error(C(188))}function zn(e){var t=e.alternate;if(!t){if(t=Kt(e),t===null)throw Error(C(188));return t!==e?null:e}for(var n=e,i=t;;){var o=n.return;if(o===null)break;var u=o.alternate;if(u===null){if(i=o.return,i!==null){n=i;continue}break}if(o.child===u.child){for(u=o.child;u;){if(u===n)return ja(o),e;if(u===i)return ja(o),t;u=u.sibling}throw Error(C(188))}if(n.return!==i.return)n=o,i=u;else{for(var p=!1,g=o.child;g;){if(g===n){p=!0,n=o,i=u;break}if(g===i){p=!0,i=o,n=u;break}g=g.sibling}if(!p){for(g=u.child;g;){if(g===n){p=!0,n=u,i=o;break}if(g===i){p=!0,i=u,n=o;break}g=g.sibling}if(!p)throw Error(C(189))}}if(n.alternate!==i)throw Error(C(190))}if(n.tag!==3)throw Error(C(188));return n.stateNode.current===n?e:t}function Ri(e){return e=zn(e),e!==null?Bn(e):null}function Bn(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Bn(e);if(t!==null)return t;e=e.sibling}return null}var Ai=q.unstable_scheduleCallback,$s=q.unstable_cancelCallback,xt=q.unstable_shouldYield,lr=q.unstable_requestPaint,it=q.unstable_now,Na=q.unstable_getCurrentPriorityLevel,Un=q.unstable_ImmediatePriority,hs=q.unstable_UserBlockingPriority,Or=q.unstable_NormalPriority,Di=q.unstable_LowPriority,Kn=q.unstable_IdlePriority,gs=null,Wt=null;function ka(e){if(Wt&&typeof Wt.onCommitFiberRoot=="function")try{Wt.onCommitFiberRoot(gs,e,void 0,(e.current.flags&128)===128)}catch{}}var Oe=Math.clz32?Math.clz32:Hs,Sa=Math.log,_a=Math.LN2;function Hs(e){return e>>>=0,e===0?32:31-(Sa(e)/_a|0)|0}var qn=64,ys=4194304;function Lr(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function xs(e,t){var n=e.pendingLanes;if(n===0)return 0;var i=0,o=e.suspendedLanes,u=e.pingedLanes,p=n&268435455;if(p!==0){var g=p&~o;g!==0?i=Lr(g):(u&=p,u!==0&&(i=Lr(u)))}else p=n&~o,p!==0?i=Lr(p):u!==0&&(i=Lr(u));if(i===0)return 0;if(t!==0&&t!==i&&(t&o)===0&&(o=i&-i,u=t&-t,o>=u||o===16&&(u&4194240)!==0))return t;if((i&4)!==0&&(i|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=i;0<t;)n=31-Oe(t),o=1<<n,i|=e[n],t&=~o;return i}function ut(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function vs(e,t){for(var n=e.suspendedLanes,i=e.pingedLanes,o=e.expirationTimes,u=e.pendingLanes;0<u;){var p=31-Oe(u),g=1<<p,w=o[p];w===-1?((g&n)===0||(g&i)!==0)&&(o[p]=ut(g,t)):w<=t&&(e.expiredLanes|=g),u&=~g}}function ur(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function cr(){var e=qn;return qn<<=1,(qn&4194240)===0&&(qn=64),e}function ws(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function dr(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Oe(t),e[t]=n}function Ws(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var i=e.eventTimes;for(e=e.expirationTimes;0<n;){var o=31-Oe(n),u=1<<o;t[o]=0,i[o]=-1,e[o]=-1,n&=~u}}function Ys(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var i=31-Oe(n),o=1<<i;o&t|e[i]&t&&(e[i]|=t),n&=~o}}var Je=0;function Mi(e){return e&=-e,1<e?4<e?(e&268435455)!==0?16:536870912:4:1}var Ca,Qe,Ii,Ea,Pa,Lt=!1,vn=[],an=null,Ft=null,wn=null,Fr=new Map,gt=new Map,Ct=[],bs="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function zr(e,t){switch(e){case"focusin":case"focusout":an=null;break;case"dragenter":case"dragleave":Ft=null;break;case"mouseover":case"mouseout":wn=null;break;case"pointerover":case"pointerout":Fr.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":gt.delete(t.pointerId)}}function fr(e,t,n,i,o,u){return e===null||e.nativeEvent!==u?(e={blockedOn:t,domEventName:n,eventSystemFlags:i,nativeEvent:u,targetContainers:[o]},t!==null&&(t=ea(t),t!==null&&Qe(t)),e):(e.eventSystemFlags|=i,t=e.targetContainers,o!==null&&t.indexOf(o)===-1&&t.push(o),e)}function Vn(e,t,n,i,o){switch(t){case"focusin":return an=fr(an,e,t,n,i,o),!0;case"dragenter":return Ft=fr(Ft,e,t,n,i,o),!0;case"mouseover":return wn=fr(wn,e,t,n,i,o),!0;case"pointerover":var u=o.pointerId;return Fr.set(u,fr(Fr.get(u)||null,e,t,n,i,o)),!0;case"gotpointercapture":return u=o.pointerId,gt.set(u,fr(gt.get(u)||null,e,t,n,i,o)),!0}return!1}function Ta(e){var t=Ps(e.target);if(t!==null){var n=Kt(t);if(n!==null){if(t=n.tag,t===13){if(t=ms(n),t!==null){e.blockedOn=t,Pa(e.priority,function(){Ii(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Yt(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Br(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var i=new n.constructor(n.type,n);xn=i,n.target.dispatchEvent(i),xn=null}else return t=ea(n),t!==null&&Qe(t),e.blockedOn=n,!1;t.shift()}return!0}function Qs(e,t,n){Yt(e)&&n.delete(t)}function Ra(){Lt=!1,an!==null&&Yt(an)&&(an=null),Ft!==null&&Yt(Ft)&&(Ft=null),wn!==null&&Yt(wn)&&(wn=null),Fr.forEach(Qs),gt.forEach(Qs)}function pr(e,t){e.blockedOn===t&&(e.blockedOn=null,Lt||(Lt=!0,q.unstable_scheduleCallback(q.unstable_NormalPriority,Ra)))}function bn(e){function t(o){return pr(o,e)}if(0<vn.length){pr(vn[0],e);for(var n=1;n<vn.length;n++){var i=vn[n];i.blockedOn===e&&(i.blockedOn=null)}}for(an!==null&&pr(an,e),Ft!==null&&pr(Ft,e),wn!==null&&pr(wn,e),Fr.forEach(t),gt.forEach(t),n=0;n<Ct.length;n++)i=Ct[n],i.blockedOn===e&&(i.blockedOn=null);for(;0<Ct.length&&(n=Ct[0],n.blockedOn===null);)Ta(n),n.blockedOn===null&&Ct.shift()}var $n=Ke.ReactCurrentBatchConfig,js=!0;function Uo(e,t,n,i){var o=Je,u=$n.transition;$n.transition=null;try{Je=1,Oi(e,t,n,i)}finally{Je=o,$n.transition=u}}function Ns(e,t,n,i){var o=Je,u=$n.transition;$n.transition=null;try{Je=4,Oi(e,t,n,i)}finally{Je=o,$n.transition=u}}function Oi(e,t,n,i){if(js){var o=Br(e,t,n,i);if(o===null)Wo(e,t,i,Gs,n),zr(e,i);else if(Vn(o,e,t,n,i))i.stopPropagation();else if(zr(e,i),t&4&&-1<bs.indexOf(e)){for(;o!==null;){var u=ea(o);if(u!==null&&Ca(u),u=Br(e,t,n,i),u===null&&Wo(e,t,i,Gs,n),u===o)break;o=u}o!==null&&i.stopPropagation()}else Wo(e,t,i,null,n)}}var Gs=null;function Br(e,t,n,i){if(Gs=null,e=Ar(i),e=Ps(e),e!==null)if(t=Kt(e),t===null)e=null;else if(n=t.tag,n===13){if(e=ms(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Gs=e,null}function ks(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Na()){case Un:return 1;case hs:return 4;case Or:case Di:return 16;case Kn:return 536870912;default:return 16}default:return 16}}var cn=null,Li=null,Xs=null;function Aa(){if(Xs)return Xs;var e,t=Li,n=t.length,i,o="value"in cn?cn.value:cn.textContent,u=o.length;for(e=0;e<n&&t[e]===o[e];e++);var p=n-e;for(i=1;i<=p&&t[n-i]===o[u-i];i++);return Xs=o.slice(e,1<i?1-i:void 0)}function Ur(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Kr(){return!0}function Fi(){return!1}function Rt(e){function t(n,i,o,u,p){this._reactName=n,this._targetInst=o,this.type=i,this.nativeEvent=u,this.target=p,this.currentTarget=null;for(var g in e)e.hasOwnProperty(g)&&(n=e[g],this[g]=n?n(u):u[g]);return this.isDefaultPrevented=(u.defaultPrevented!=null?u.defaultPrevented:u.returnValue===!1)?Kr:Fi,this.isPropagationStopped=Fi,this}return le(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Kr)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Kr)},persist:function(){},isPersistent:Kr}),t}var jn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},qr=Rt(jn),Vr=le({},jn,{view:0,detail:0}),Ko=Rt(Vr),Hn,Ss,mr,$r=le({},Vr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ri,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==mr&&(mr&&e.type==="mousemove"?(Hn=e.screenX-mr.screenX,Ss=e.screenY-mr.screenY):Ss=Hn=0,mr=e),Hn)},movementY:function(e){return"movementY"in e?e.movementY:Ss}}),Zs=Rt($r),At=le({},$r,{dataTransfer:0}),_s=Rt(At),Cs=le({},Vr,{relatedTarget:0}),Js=Rt(Cs),ei=le({},jn,{animationName:0,elapsedTime:0,pseudoElement:0}),Da=Rt(ei),Ma=le({},jn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),ti=Rt(Ma),zi=le({},jn,{data:0}),Wn=Rt(zi),Bi={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ui={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ni={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ki(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=ni[e])?!!t[e]:!1}function ri(){return Ki}var qo=le({},Vr,{key:function(e){if(e.key){var t=Bi[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Ur(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Ui[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ri,charCode:function(e){return e.type==="keypress"?Ur(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ur(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),qi=Rt(qo),si=le({},$r,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ia=Rt(si),Vi=le({},Vr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ri}),$i=Rt(Vi),Vo=le({},jn,{propertyName:0,elapsedTime:0,pseudoElement:0}),Oa=Rt(Vo),$o=le({},$r,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),La=Rt($o),Fa=[9,13,27,32],Hi=B&&"CompositionEvent"in window,Hr=null;B&&"documentMode"in document&&(Hr=document.documentMode);var Wi=B&&"TextEvent"in window&&!Hr,Yi=B&&(!Hi||Hr&&8<Hr&&11>=Hr),Qi=" ",za=!1;function Ba(e,t){switch(e){case"keyup":return Fa.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ua(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Nn=!1;function kn(e,t){switch(e){case"compositionend":return Ua(t);case"keypress":return t.which!==32?null:(za=!0,Qi);case"textInput":return e=t.data,e===Qi&&za?null:e;default:return null}}function vt(e,t){if(Nn)return e==="compositionend"||!Hi&&Ba(e,t)?(e=Aa(),Xs=Li=cn=null,Nn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Yi&&t.locale!=="ko"?null:t.data;default:return null}}var ii={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function hr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!ii[e.type]:t==="textarea"}function Ka(e,t,n,i){Ti(i),t=Va(t,"onChange"),0<t.length&&(n=new qr("onChange","change",null,n,i),e.push({event:n,listeners:t}))}var gr=null,Wr=null;function yr(e){Nu(e,0)}function Yr(e){var t=ui(e);if(st(t))return e}function Qr(e,t){if(e==="change")return t}var Sn=!1;if(B){var ai;if(B){var s="oninput"in document;if(!s){var a=document.createElement("div");a.setAttribute("oninput","return;"),s=typeof a.oninput=="function"}ai=s}else ai=!1;Sn=ai&&(!document.documentMode||9<document.documentMode)}function l(){gr&&(gr.detachEvent("onpropertychange",c),Wr=gr=null)}function c(e){if(e.propertyName==="value"&&Yr(Wr)){var t=[];Ka(t,Wr,e,Ar(e)),sr(yr,t)}}function d(e,t,n){e==="focusin"?(l(),gr=t,Wr=n,gr.attachEvent("onpropertychange",c)):e==="focusout"&&l()}function f(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Yr(Wr)}function m(e,t){if(e==="click")return Yr(t)}function h(e,t){if(e==="input"||e==="change")return Yr(t)}function k(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var T=typeof Object.is=="function"?Object.is:k;function b(e,t){if(T(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var o=n[i];if(!Z.call(t,o)||!T(e[o],t[o]))return!1}return!0}function v(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function S(e,t){var n=v(e);e=0;for(var i;n;){if(n.nodeType===3){if(i=e+n.textContent.length,e<=t&&i>=t)return{node:n,offset:t-e};e=i}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=v(n)}}function _(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?_(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function N(){for(var e=window,t=An();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=An(e.document)}return t}function j(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function O(e){var t=N(),n=e.focusedElem,i=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&_(n.ownerDocument.documentElement,n)){if(i!==null&&j(n)){if(t=i.start,e=i.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var o=n.textContent.length,u=Math.min(i.start,o);i=i.end===void 0?u:Math.min(i.end,o),!e.extend&&u>i&&(o=i,i=u,u=o),o=S(n,u);var p=S(n,i);o&&p&&(e.rangeCount!==1||e.anchorNode!==o.node||e.anchorOffset!==o.offset||e.focusNode!==p.node||e.focusOffset!==p.offset)&&(t=t.createRange(),t.setStart(o.node,o.offset),e.removeAllRanges(),u>i?(e.addRange(t),e.extend(p.node,p.offset)):(t.setEnd(p.node,p.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var F=B&&"documentMode"in document&&11>=document.documentMode,R=null,K=null,G=null,oe=!1;function ue(e,t,n){var i=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;oe||R==null||R!==An(i)||(i=R,"selectionStart"in i&&j(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),G&&b(G,i)||(G=i,i=Va(K,"onSelect"),0<i.length&&(t=new qr("onSelect","select",null,t,n),e.push({event:t,listeners:i}),t.target=R)))}function te(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var me={animationend:te("Animation","AnimationEnd"),animationiteration:te("Animation","AnimationIteration"),animationstart:te("Animation","AnimationStart"),transitionend:te("Transition","TransitionEnd")},pe={},ie={};B&&(ie=document.createElement("div").style,"AnimationEvent"in window||(delete me.animationend.animation,delete me.animationiteration.animation,delete me.animationstart.animation),"TransitionEvent"in window||delete me.transitionend.transition);function ge(e){if(pe[e])return pe[e];if(!me[e])return e;var t=me[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in ie)return pe[e]=t[n];return e}var We=ge("animationend"),Xe=ge("animationiteration"),Pe=ge("animationstart"),Be=ge("transitionend"),dt=new Map,Qt="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function at(e,t){dt.set(e,t),$(t,[e])}for(var _n=0;_n<Qt.length;_n++){var Es=Qt[_n],Hd=Es.toLowerCase(),Wd=Es[0].toUpperCase()+Es.slice(1);at(Hd,"on"+Wd)}at(We,"onAnimationEnd"),at(Xe,"onAnimationIteration"),at(Pe,"onAnimationStart"),at("dblclick","onDoubleClick"),at("focusin","onFocus"),at("focusout","onBlur"),at(Be,"onTransitionEnd"),Q("onMouseEnter",["mouseout","mouseover"]),Q("onMouseLeave",["mouseout","mouseover"]),Q("onPointerEnter",["pointerout","pointerover"]),Q("onPointerLeave",["pointerout","pointerover"]),$("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),$("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),$("onBeforeInput",["compositionend","keypress","textInput","paste"]),$("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),$("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),$("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Gi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Yd=new Set("cancel close invalid load scroll toggle".split(" ").concat(Gi));function ju(e,t,n){var i=e.type||"unknown-event";e.currentTarget=n,Ir(i,t,void 0,e),e.currentTarget=null}function Nu(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var i=e[n],o=i.event;i=i.listeners;e:{var u=void 0;if(t)for(var p=i.length-1;0<=p;p--){var g=i[p],w=g.instance,z=g.currentTarget;if(g=g.listener,w!==u&&o.isPropagationStopped())break e;ju(o,g,z),u=w}else for(p=0;p<i.length;p++){if(g=i[p],w=g.instance,z=g.currentTarget,g=g.listener,w!==u&&o.isPropagationStopped())break e;ju(o,g,z),u=w}}}if(or)throw e=Mr,or=!1,Mr=null,e}function mt(e,t){var n=t[Jo];n===void 0&&(n=t[Jo]=new Set);var i=e+"__bubble";n.has(i)||(ku(t,e,2,!1),n.add(i))}function Ho(e,t,n){var i=0;t&&(i|=4),ku(n,e,i,t)}var qa="_reactListening"+Math.random().toString(36).slice(2);function Xi(e){if(!e[qa]){e[qa]=!0,D.forEach(function(n){n!=="selectionchange"&&(Yd.has(n)||Ho(n,!1,e),Ho(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[qa]||(t[qa]=!0,Ho("selectionchange",!1,t))}}function ku(e,t,n,i){switch(ks(t)){case 1:var o=Uo;break;case 4:o=Ns;break;default:o=Oi}n=o.bind(null,t,n,e),o=void 0,!Dr||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(o=!0),i?o!==void 0?e.addEventListener(t,n,{capture:!0,passive:o}):e.addEventListener(t,n,!0):o!==void 0?e.addEventListener(t,n,{passive:o}):e.addEventListener(t,n,!1)}function Wo(e,t,n,i,o){var u=i;if((t&1)===0&&(t&2)===0&&i!==null)e:for(;;){if(i===null)return;var p=i.tag;if(p===3||p===4){var g=i.stateNode.containerInfo;if(g===o||g.nodeType===8&&g.parentNode===o)break;if(p===4)for(p=i.return;p!==null;){var w=p.tag;if((w===3||w===4)&&(w=p.stateNode.containerInfo,w===o||w.nodeType===8&&w.parentNode===o))return;p=p.return}for(;g!==null;){if(p=Ps(g),p===null)return;if(w=p.tag,w===5||w===6){i=u=p;continue e}g=g.parentNode}}i=i.return}sr(function(){var z=u,ne=Ar(n),re=[];e:{var J=dt.get(e);if(J!==void 0){var ye=qr,ke=e;switch(e){case"keypress":if(Ur(n)===0)break e;case"keydown":case"keyup":ye=qi;break;case"focusin":ke="focus",ye=Js;break;case"focusout":ke="blur",ye=Js;break;case"beforeblur":case"afterblur":ye=Js;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ye=Zs;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ye=_s;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ye=$i;break;case We:case Xe:case Pe:ye=Da;break;case Be:ye=Oa;break;case"scroll":ye=Ko;break;case"wheel":ye=La;break;case"copy":case"cut":case"paste":ye=ti;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ye=Ia}var _e=(t&4)!==0,kt=!_e&&e==="scroll",M=_e?J!==null?J+"Capture":null:J;_e=[];for(var E=z,L;E!==null;){L=E;var ae=L.stateNode;if(L.tag===5&&ae!==null&&(L=ae,M!==null&&(ae=ir(E,M),ae!=null&&_e.push(Zi(E,ae,L)))),kt)break;E=E.return}0<_e.length&&(J=new ye(J,ke,null,n,ne),re.push({event:J,listeners:_e}))}}if((t&7)===0){e:{if(J=e==="mouseover"||e==="pointerover",ye=e==="mouseout"||e==="pointerout",J&&n!==xn&&(ke=n.relatedTarget||n.fromElement)&&(Ps(ke)||ke[xr]))break e;if((ye||J)&&(J=ne.window===ne?ne:(J=ne.ownerDocument)?J.defaultView||J.parentWindow:window,ye?(ke=n.relatedTarget||n.toElement,ye=z,ke=ke?Ps(ke):null,ke!==null&&(kt=Kt(ke),ke!==kt||ke.tag!==5&&ke.tag!==6)&&(ke=null)):(ye=null,ke=z),ye!==ke)){if(_e=Zs,ae="onMouseLeave",M="onMouseEnter",E="mouse",(e==="pointerout"||e==="pointerover")&&(_e=Ia,ae="onPointerLeave",M="onPointerEnter",E="pointer"),kt=ye==null?J:ui(ye),L=ke==null?J:ui(ke),J=new _e(ae,E+"leave",ye,n,ne),J.target=kt,J.relatedTarget=L,ae=null,Ps(ne)===z&&(_e=new _e(M,E+"enter",ke,n,ne),_e.target=L,_e.relatedTarget=kt,ae=_e),kt=ae,ye&&ke)t:{for(_e=ye,M=ke,E=0,L=_e;L;L=oi(L))E++;for(L=0,ae=M;ae;ae=oi(ae))L++;for(;0<E-L;)_e=oi(_e),E--;for(;0<L-E;)M=oi(M),L--;for(;E--;){if(_e===M||M!==null&&_e===M.alternate)break t;_e=oi(_e),M=oi(M)}_e=null}else _e=null;ye!==null&&Su(re,J,ye,_e,!1),ke!==null&&kt!==null&&Su(re,kt,ke,_e,!0)}}e:{if(J=z?ui(z):window,ye=J.nodeName&&J.nodeName.toLowerCase(),ye==="select"||ye==="input"&&J.type==="file")var Ce=Qr;else if(hr(J))if(Sn)Ce=h;else{Ce=f;var Ae=d}else(ye=J.nodeName)&&ye.toLowerCase()==="input"&&(J.type==="checkbox"||J.type==="radio")&&(Ce=m);if(Ce&&(Ce=Ce(e,z))){Ka(re,Ce,n,ne);break e}Ae&&Ae(e,J,z),e==="focusout"&&(Ae=J._wrapperState)&&Ae.controlled&&J.type==="number"&&Ei(J,"number",J.value)}switch(Ae=z?ui(z):window,e){case"focusin":(hr(Ae)||Ae.contentEditable==="true")&&(R=Ae,K=z,G=null);break;case"focusout":G=K=R=null;break;case"mousedown":oe=!0;break;case"contextmenu":case"mouseup":case"dragend":oe=!1,ue(re,n,ne);break;case"selectionchange":if(F)break;case"keydown":case"keyup":ue(re,n,ne)}var De;if(Hi)e:{switch(e){case"compositionstart":var Le="onCompositionStart";break e;case"compositionend":Le="onCompositionEnd";break e;case"compositionupdate":Le="onCompositionUpdate";break e}Le=void 0}else Nn?Ba(e,n)&&(Le="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(Le="onCompositionStart");Le&&(Yi&&n.locale!=="ko"&&(Nn||Le!=="onCompositionStart"?Le==="onCompositionEnd"&&Nn&&(De=Aa()):(cn=ne,Li="value"in cn?cn.value:cn.textContent,Nn=!0)),Ae=Va(z,Le),0<Ae.length&&(Le=new Wn(Le,e,null,n,ne),re.push({event:Le,listeners:Ae}),De?Le.data=De:(De=Ua(n),De!==null&&(Le.data=De)))),(De=Wi?kn(e,n):vt(e,n))&&(z=Va(z,"onBeforeInput"),0<z.length&&(ne=new Wn("onBeforeInput","beforeinput",null,n,ne),re.push({event:ne,listeners:z}),ne.data=De))}Nu(re,t)})}function Zi(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Va(e,t){for(var n=t+"Capture",i=[];e!==null;){var o=e,u=o.stateNode;o.tag===5&&u!==null&&(o=u,u=ir(e,n),u!=null&&i.unshift(Zi(e,u,o)),u=ir(e,t),u!=null&&i.push(Zi(e,u,o))),e=e.return}return i}function oi(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Su(e,t,n,i,o){for(var u=t._reactName,p=[];n!==null&&n!==i;){var g=n,w=g.alternate,z=g.stateNode;if(w!==null&&w===i)break;g.tag===5&&z!==null&&(g=z,o?(w=ir(n,u),w!=null&&p.unshift(Zi(n,w,g))):o||(w=ir(n,u),w!=null&&p.push(Zi(n,w,g)))),n=n.return}p.length!==0&&e.push({event:t,listeners:p})}var Qd=/\r\n?/g,Gd=/\u0000|\uFFFD/g;function _u(e){return(typeof e=="string"?e:""+e).replace(Qd,`
`).replace(Gd,"")}function $a(e,t,n){if(t=_u(t),_u(e)!==t&&n)throw Error(C(425))}function Ha(){}var Yo=null,Qo=null;function Go(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Xo=typeof setTimeout=="function"?setTimeout:void 0,Xd=typeof clearTimeout=="function"?clearTimeout:void 0,Cu=typeof Promise=="function"?Promise:void 0,Zd=typeof queueMicrotask=="function"?queueMicrotask:typeof Cu<"u"?function(e){return Cu.resolve(null).then(e).catch(Jd)}:Xo;function Jd(e){setTimeout(function(){throw e})}function Zo(e,t){var n=t,i=0;do{var o=n.nextSibling;if(e.removeChild(n),o&&o.nodeType===8)if(n=o.data,n==="/$"){if(i===0){e.removeChild(o),bn(t);return}i--}else n!=="$"&&n!=="$?"&&n!=="$!"||i++;n=o}while(n);bn(t)}function Gr(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Eu(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var li=Math.random().toString(36).slice(2),Yn="__reactFiber$"+li,Ji="__reactProps$"+li,xr="__reactContainer$"+li,Jo="__reactEvents$"+li,ef="__reactListeners$"+li,tf="__reactHandles$"+li;function Ps(e){var t=e[Yn];if(t)return t;for(var n=e.parentNode;n;){if(t=n[xr]||n[Yn]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Eu(e);e!==null;){if(n=e[Yn])return n;e=Eu(e)}return t}e=n,n=e.parentNode}return null}function ea(e){return e=e[Yn]||e[xr],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function ui(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(C(33))}function Wa(e){return e[Ji]||null}var el=[],ci=-1;function Xr(e){return{current:e}}function ht(e){0>ci||(e.current=el[ci],el[ci]=null,ci--)}function ft(e,t){ci++,el[ci]=e.current,e.current=t}var Zr={},qt=Xr(Zr),Jt=Xr(!1),Ts=Zr;function di(e,t){var n=e.type.contextTypes;if(!n)return Zr;var i=e.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===t)return i.__reactInternalMemoizedMaskedChildContext;var o={},u;for(u in n)o[u]=t[u];return i&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function en(e){return e=e.childContextTypes,e!=null}function Ya(){ht(Jt),ht(qt)}function Pu(e,t,n){if(qt.current!==Zr)throw Error(C(168));ft(qt,t),ft(Jt,n)}function Tu(e,t,n){var i=e.stateNode;if(t=t.childContextTypes,typeof i.getChildContext!="function")return n;i=i.getChildContext();for(var o in i)if(!(o in t))throw Error(C(108,et(e)||"Unknown",o));return le({},n,i)}function Qa(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Zr,Ts=qt.current,ft(qt,e),ft(Jt,Jt.current),!0}function Ru(e,t,n){var i=e.stateNode;if(!i)throw Error(C(169));n?(e=Tu(e,t,Ts),i.__reactInternalMemoizedMergedChildContext=e,ht(Jt),ht(qt),ft(qt,e)):ht(Jt),ft(Jt,n)}var vr=null,Ga=!1,tl=!1;function Au(e){vr===null?vr=[e]:vr.push(e)}function nf(e){Ga=!0,Au(e)}function Jr(){if(!tl&&vr!==null){tl=!0;var e=0,t=Je;try{var n=vr;for(Je=1;e<n.length;e++){var i=n[e];do i=i(!0);while(i!==null)}vr=null,Ga=!1}catch(o){throw vr!==null&&(vr=vr.slice(e+1)),Ai(Un,Jr),o}finally{Je=t,tl=!1}}return null}var fi=[],pi=0,Xa=null,Za=0,dn=[],fn=0,Rs=null,wr=1,br="";function As(e,t){fi[pi++]=Za,fi[pi++]=Xa,Xa=e,Za=t}function Du(e,t,n){dn[fn++]=wr,dn[fn++]=br,dn[fn++]=Rs,Rs=e;var i=wr;e=br;var o=32-Oe(i)-1;i&=~(1<<o),n+=1;var u=32-Oe(t)+o;if(30<u){var p=o-o%5;u=(i&(1<<p)-1).toString(32),i>>=p,o-=p,wr=1<<32-Oe(t)+o|n<<o|i,br=u+e}else wr=1<<u|n<<o|i,br=e}function nl(e){e.return!==null&&(As(e,1),Du(e,1,0))}function rl(e){for(;e===Xa;)Xa=fi[--pi],fi[pi]=null,Za=fi[--pi],fi[pi]=null;for(;e===Rs;)Rs=dn[--fn],dn[fn]=null,br=dn[--fn],dn[fn]=null,wr=dn[--fn],dn[fn]=null}var on=null,ln=null,yt=!1,Cn=null;function Mu(e,t){var n=gn(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Iu(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,on=e,ln=Gr(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,on=e,ln=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Rs!==null?{id:wr,overflow:br}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=gn(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,on=e,ln=null,!0):!1;default:return!1}}function sl(e){return(e.mode&1)!==0&&(e.flags&128)===0}function il(e){if(yt){var t=ln;if(t){var n=t;if(!Iu(e,t)){if(sl(e))throw Error(C(418));t=Gr(n.nextSibling);var i=on;t&&Iu(e,t)?Mu(i,n):(e.flags=e.flags&-4097|2,yt=!1,on=e)}}else{if(sl(e))throw Error(C(418));e.flags=e.flags&-4097|2,yt=!1,on=e}}}function Ou(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;on=e}function Ja(e){if(e!==on)return!1;if(!yt)return Ou(e),yt=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Go(e.type,e.memoizedProps)),t&&(t=ln)){if(sl(e))throw Lu(),Error(C(418));for(;t;)Mu(e,t),t=Gr(t.nextSibling)}if(Ou(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(C(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){ln=Gr(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}ln=null}}else ln=on?Gr(e.stateNode.nextSibling):null;return!0}function Lu(){for(var e=ln;e;)e=Gr(e.nextSibling)}function mi(){ln=on=null,yt=!1}function al(e){Cn===null?Cn=[e]:Cn.push(e)}var rf=Ke.ReactCurrentBatchConfig;function ta(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(C(309));var i=n.stateNode}if(!i)throw Error(C(147,e));var o=i,u=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===u?t.ref:(t=function(p){var g=o.refs;p===null?delete g[u]:g[u]=p},t._stringRef=u,t)}if(typeof e!="string")throw Error(C(284));if(!n._owner)throw Error(C(290,e))}return e}function eo(e,t){throw e=Object.prototype.toString.call(t),Error(C(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Fu(e){var t=e._init;return t(e._payload)}function zu(e){function t(M,E){if(e){var L=M.deletions;L===null?(M.deletions=[E],M.flags|=16):L.push(E)}}function n(M,E){if(!e)return null;for(;E!==null;)t(M,E),E=E.sibling;return null}function i(M,E){for(M=new Map;E!==null;)E.key!==null?M.set(E.key,E):M.set(E.index,E),E=E.sibling;return M}function o(M,E){return M=os(M,E),M.index=0,M.sibling=null,M}function u(M,E,L){return M.index=L,e?(L=M.alternate,L!==null?(L=L.index,L<E?(M.flags|=2,E):L):(M.flags|=2,E)):(M.flags|=1048576,E)}function p(M){return e&&M.alternate===null&&(M.flags|=2),M}function g(M,E,L,ae){return E===null||E.tag!==6?(E=Xl(L,M.mode,ae),E.return=M,E):(E=o(E,L),E.return=M,E)}function w(M,E,L,ae){var Ce=L.type;return Ce===x?ne(M,E,L.props.children,ae,L.key):E!==null&&(E.elementType===Ce||typeof Ce=="object"&&Ce!==null&&Ce.$$typeof===U&&Fu(Ce)===E.type)?(ae=o(E,L.props),ae.ref=ta(M,E,L),ae.return=M,ae):(ae=So(L.type,L.key,L.props,null,M.mode,ae),ae.ref=ta(M,E,L),ae.return=M,ae)}function z(M,E,L,ae){return E===null||E.tag!==4||E.stateNode.containerInfo!==L.containerInfo||E.stateNode.implementation!==L.implementation?(E=Zl(L,M.mode,ae),E.return=M,E):(E=o(E,L.children||[]),E.return=M,E)}function ne(M,E,L,ae,Ce){return E===null||E.tag!==7?(E=Bs(L,M.mode,ae,Ce),E.return=M,E):(E=o(E,L),E.return=M,E)}function re(M,E,L){if(typeof E=="string"&&E!==""||typeof E=="number")return E=Xl(""+E,M.mode,L),E.return=M,E;if(typeof E=="object"&&E!==null){switch(E.$$typeof){case pt:return L=So(E.type,E.key,E.props,null,M.mode,L),L.ref=ta(M,null,E),L.return=M,L;case Ye:return E=Zl(E,M.mode,L),E.return=M,E;case U:var ae=E._init;return re(M,ae(E._payload),L)}if(Jn(E)||we(E))return E=Bs(E,M.mode,L,null),E.return=M,E;eo(M,E)}return null}function J(M,E,L,ae){var Ce=E!==null?E.key:null;if(typeof L=="string"&&L!==""||typeof L=="number")return Ce!==null?null:g(M,E,""+L,ae);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case pt:return L.key===Ce?w(M,E,L,ae):null;case Ye:return L.key===Ce?z(M,E,L,ae):null;case U:return Ce=L._init,J(M,E,Ce(L._payload),ae)}if(Jn(L)||we(L))return Ce!==null?null:ne(M,E,L,ae,null);eo(M,L)}return null}function ye(M,E,L,ae,Ce){if(typeof ae=="string"&&ae!==""||typeof ae=="number")return M=M.get(L)||null,g(E,M,""+ae,Ce);if(typeof ae=="object"&&ae!==null){switch(ae.$$typeof){case pt:return M=M.get(ae.key===null?L:ae.key)||null,w(E,M,ae,Ce);case Ye:return M=M.get(ae.key===null?L:ae.key)||null,z(E,M,ae,Ce);case U:var Ae=ae._init;return ye(M,E,L,Ae(ae._payload),Ce)}if(Jn(ae)||we(ae))return M=M.get(L)||null,ne(E,M,ae,Ce,null);eo(E,ae)}return null}function ke(M,E,L,ae){for(var Ce=null,Ae=null,De=E,Le=E=0,It=null;De!==null&&Le<L.length;Le++){De.index>Le?(It=De,De=null):It=De.sibling;var rt=J(M,De,L[Le],ae);if(rt===null){De===null&&(De=It);break}e&&De&&rt.alternate===null&&t(M,De),E=u(rt,E,Le),Ae===null?Ce=rt:Ae.sibling=rt,Ae=rt,De=It}if(Le===L.length)return n(M,De),yt&&As(M,Le),Ce;if(De===null){for(;Le<L.length;Le++)De=re(M,L[Le],ae),De!==null&&(E=u(De,E,Le),Ae===null?Ce=De:Ae.sibling=De,Ae=De);return yt&&As(M,Le),Ce}for(De=i(M,De);Le<L.length;Le++)It=ye(De,M,Le,L[Le],ae),It!==null&&(e&&It.alternate!==null&&De.delete(It.key===null?Le:It.key),E=u(It,E,Le),Ae===null?Ce=It:Ae.sibling=It,Ae=It);return e&&De.forEach(function(ls){return t(M,ls)}),yt&&As(M,Le),Ce}function _e(M,E,L,ae){var Ce=we(L);if(typeof Ce!="function")throw Error(C(150));if(L=Ce.call(L),L==null)throw Error(C(151));for(var Ae=Ce=null,De=E,Le=E=0,It=null,rt=L.next();De!==null&&!rt.done;Le++,rt=L.next()){De.index>Le?(It=De,De=null):It=De.sibling;var ls=J(M,De,rt.value,ae);if(ls===null){De===null&&(De=It);break}e&&De&&ls.alternate===null&&t(M,De),E=u(ls,E,Le),Ae===null?Ce=ls:Ae.sibling=ls,Ae=ls,De=It}if(rt.done)return n(M,De),yt&&As(M,Le),Ce;if(De===null){for(;!rt.done;Le++,rt=L.next())rt=re(M,rt.value,ae),rt!==null&&(E=u(rt,E,Le),Ae===null?Ce=rt:Ae.sibling=rt,Ae=rt);return yt&&As(M,Le),Ce}for(De=i(M,De);!rt.done;Le++,rt=L.next())rt=ye(De,M,Le,rt.value,ae),rt!==null&&(e&&rt.alternate!==null&&De.delete(rt.key===null?Le:rt.key),E=u(rt,E,Le),Ae===null?Ce=rt:Ae.sibling=rt,Ae=rt);return e&&De.forEach(function(Lf){return t(M,Lf)}),yt&&As(M,Le),Ce}function kt(M,E,L,ae){if(typeof L=="object"&&L!==null&&L.type===x&&L.key===null&&(L=L.props.children),typeof L=="object"&&L!==null){switch(L.$$typeof){case pt:e:{for(var Ce=L.key,Ae=E;Ae!==null;){if(Ae.key===Ce){if(Ce=L.type,Ce===x){if(Ae.tag===7){n(M,Ae.sibling),E=o(Ae,L.props.children),E.return=M,M=E;break e}}else if(Ae.elementType===Ce||typeof Ce=="object"&&Ce!==null&&Ce.$$typeof===U&&Fu(Ce)===Ae.type){n(M,Ae.sibling),E=o(Ae,L.props),E.ref=ta(M,Ae,L),E.return=M,M=E;break e}n(M,Ae);break}else t(M,Ae);Ae=Ae.sibling}L.type===x?(E=Bs(L.props.children,M.mode,ae,L.key),E.return=M,M=E):(ae=So(L.type,L.key,L.props,null,M.mode,ae),ae.ref=ta(M,E,L),ae.return=M,M=ae)}return p(M);case Ye:e:{for(Ae=L.key;E!==null;){if(E.key===Ae)if(E.tag===4&&E.stateNode.containerInfo===L.containerInfo&&E.stateNode.implementation===L.implementation){n(M,E.sibling),E=o(E,L.children||[]),E.return=M,M=E;break e}else{n(M,E);break}else t(M,E);E=E.sibling}E=Zl(L,M.mode,ae),E.return=M,M=E}return p(M);case U:return Ae=L._init,kt(M,E,Ae(L._payload),ae)}if(Jn(L))return ke(M,E,L,ae);if(we(L))return _e(M,E,L,ae);eo(M,L)}return typeof L=="string"&&L!==""||typeof L=="number"?(L=""+L,E!==null&&E.tag===6?(n(M,E.sibling),E=o(E,L),E.return=M,M=E):(n(M,E),E=Xl(L,M.mode,ae),E.return=M,M=E),p(M)):n(M,E)}return kt}var hi=zu(!0),Bu=zu(!1),to=Xr(null),no=null,gi=null,ol=null;function ll(){ol=gi=no=null}function ul(e){var t=to.current;ht(to),e._currentValue=t}function cl(e,t,n){for(;e!==null;){var i=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,i!==null&&(i.childLanes|=t)):i!==null&&(i.childLanes&t)!==t&&(i.childLanes|=t),e===n)break;e=e.return}}function yi(e,t){no=e,ol=gi=null,e=e.dependencies,e!==null&&e.firstContext!==null&&((e.lanes&t)!==0&&(tn=!0),e.firstContext=null)}function pn(e){var t=e._currentValue;if(ol!==e)if(e={context:e,memoizedValue:t,next:null},gi===null){if(no===null)throw Error(C(308));gi=e,no.dependencies={lanes:0,firstContext:e}}else gi=gi.next=e;return t}var Ds=null;function dl(e){Ds===null?Ds=[e]:Ds.push(e)}function Uu(e,t,n,i){var o=t.interleaved;return o===null?(n.next=n,dl(t)):(n.next=o.next,o.next=n),t.interleaved=n,jr(e,i)}function jr(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var es=!1;function fl(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ku(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Nr(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function ts(e,t,n){var i=e.updateQueue;if(i===null)return null;if(i=i.shared,(nt&2)!==0){var o=i.pending;return o===null?t.next=t:(t.next=o.next,o.next=t),i.pending=t,jr(e,n)}return o=i.interleaved,o===null?(t.next=t,dl(i)):(t.next=o.next,o.next=t),i.interleaved=t,jr(e,n)}function ro(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var i=t.lanes;i&=e.pendingLanes,n|=i,t.lanes=n,Ys(e,n)}}function qu(e,t){var n=e.updateQueue,i=e.alternate;if(i!==null&&(i=i.updateQueue,n===i)){var o=null,u=null;if(n=n.firstBaseUpdate,n!==null){do{var p={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};u===null?o=u=p:u=u.next=p,n=n.next}while(n!==null);u===null?o=u=t:u=u.next=t}else o=u=t;n={baseState:i.baseState,firstBaseUpdate:o,lastBaseUpdate:u,shared:i.shared,effects:i.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function so(e,t,n,i){var o=e.updateQueue;es=!1;var u=o.firstBaseUpdate,p=o.lastBaseUpdate,g=o.shared.pending;if(g!==null){o.shared.pending=null;var w=g,z=w.next;w.next=null,p===null?u=z:p.next=z,p=w;var ne=e.alternate;ne!==null&&(ne=ne.updateQueue,g=ne.lastBaseUpdate,g!==p&&(g===null?ne.firstBaseUpdate=z:g.next=z,ne.lastBaseUpdate=w))}if(u!==null){var re=o.baseState;p=0,ne=z=w=null,g=u;do{var J=g.lane,ye=g.eventTime;if((i&J)===J){ne!==null&&(ne=ne.next={eventTime:ye,lane:0,tag:g.tag,payload:g.payload,callback:g.callback,next:null});e:{var ke=e,_e=g;switch(J=t,ye=n,_e.tag){case 1:if(ke=_e.payload,typeof ke=="function"){re=ke.call(ye,re,J);break e}re=ke;break e;case 3:ke.flags=ke.flags&-65537|128;case 0:if(ke=_e.payload,J=typeof ke=="function"?ke.call(ye,re,J):ke,J==null)break e;re=le({},re,J);break e;case 2:es=!0}}g.callback!==null&&g.lane!==0&&(e.flags|=64,J=o.effects,J===null?o.effects=[g]:J.push(g))}else ye={eventTime:ye,lane:J,tag:g.tag,payload:g.payload,callback:g.callback,next:null},ne===null?(z=ne=ye,w=re):ne=ne.next=ye,p|=J;if(g=g.next,g===null){if(g=o.shared.pending,g===null)break;J=g,g=J.next,J.next=null,o.lastBaseUpdate=J,o.shared.pending=null}}while(!0);if(ne===null&&(w=re),o.baseState=w,o.firstBaseUpdate=z,o.lastBaseUpdate=ne,t=o.shared.interleaved,t!==null){o=t;do p|=o.lane,o=o.next;while(o!==t)}else u===null&&(o.shared.lanes=0);Os|=p,e.lanes=p,e.memoizedState=re}}function Vu(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var i=e[t],o=i.callback;if(o!==null){if(i.callback=null,i=n,typeof o!="function")throw Error(C(191,o));o.call(i)}}}var na={},Qn=Xr(na),ra=Xr(na),sa=Xr(na);function Ms(e){if(e===na)throw Error(C(174));return e}function pl(e,t){switch(ft(sa,t),ft(ra,e),ft(Qn,na),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:yn(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=yn(t,e)}ht(Qn),ft(Qn,t)}function xi(){ht(Qn),ht(ra),ht(sa)}function $u(e){Ms(sa.current);var t=Ms(Qn.current),n=yn(t,e.type);t!==n&&(ft(ra,e),ft(Qn,n))}function ml(e){ra.current===e&&(ht(Qn),ht(ra))}var wt=Xr(0);function io(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var hl=[];function gl(){for(var e=0;e<hl.length;e++)hl[e]._workInProgressVersionPrimary=null;hl.length=0}var ao=Ke.ReactCurrentDispatcher,yl=Ke.ReactCurrentBatchConfig,Is=0,bt=null,Et=null,Dt=null,oo=!1,ia=!1,aa=0,sf=0;function Vt(){throw Error(C(321))}function xl(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!T(e[n],t[n]))return!1;return!0}function vl(e,t,n,i,o,u){if(Is=u,bt=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ao.current=e===null||e.memoizedState===null?uf:cf,e=n(i,o),ia){u=0;do{if(ia=!1,aa=0,25<=u)throw Error(C(301));u+=1,Dt=Et=null,t.updateQueue=null,ao.current=df,e=n(i,o)}while(ia)}if(ao.current=co,t=Et!==null&&Et.next!==null,Is=0,Dt=Et=bt=null,oo=!1,t)throw Error(C(300));return e}function wl(){var e=aa!==0;return aa=0,e}function Gn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Dt===null?bt.memoizedState=Dt=e:Dt=Dt.next=e,Dt}function mn(){if(Et===null){var e=bt.alternate;e=e!==null?e.memoizedState:null}else e=Et.next;var t=Dt===null?bt.memoizedState:Dt.next;if(t!==null)Dt=t,Et=e;else{if(e===null)throw Error(C(310));Et=e,e={memoizedState:Et.memoizedState,baseState:Et.baseState,baseQueue:Et.baseQueue,queue:Et.queue,next:null},Dt===null?bt.memoizedState=Dt=e:Dt=Dt.next=e}return Dt}function oa(e,t){return typeof t=="function"?t(e):t}function bl(e){var t=mn(),n=t.queue;if(n===null)throw Error(C(311));n.lastRenderedReducer=e;var i=Et,o=i.baseQueue,u=n.pending;if(u!==null){if(o!==null){var p=o.next;o.next=u.next,u.next=p}i.baseQueue=o=u,n.pending=null}if(o!==null){u=o.next,i=i.baseState;var g=p=null,w=null,z=u;do{var ne=z.lane;if((Is&ne)===ne)w!==null&&(w=w.next={lane:0,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),i=z.hasEagerState?z.eagerState:e(i,z.action);else{var re={lane:ne,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null};w===null?(g=w=re,p=i):w=w.next=re,bt.lanes|=ne,Os|=ne}z=z.next}while(z!==null&&z!==u);w===null?p=i:w.next=g,T(i,t.memoizedState)||(tn=!0),t.memoizedState=i,t.baseState=p,t.baseQueue=w,n.lastRenderedState=i}if(e=n.interleaved,e!==null){o=e;do u=o.lane,bt.lanes|=u,Os|=u,o=o.next;while(o!==e)}else o===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function jl(e){var t=mn(),n=t.queue;if(n===null)throw Error(C(311));n.lastRenderedReducer=e;var i=n.dispatch,o=n.pending,u=t.memoizedState;if(o!==null){n.pending=null;var p=o=o.next;do u=e(u,p.action),p=p.next;while(p!==o);T(u,t.memoizedState)||(tn=!0),t.memoizedState=u,t.baseQueue===null&&(t.baseState=u),n.lastRenderedState=u}return[u,i]}function Hu(){}function Wu(e,t){var n=bt,i=mn(),o=t(),u=!T(i.memoizedState,o);if(u&&(i.memoizedState=o,tn=!0),i=i.queue,Nl(Gu.bind(null,n,i,e),[e]),i.getSnapshot!==t||u||Dt!==null&&Dt.memoizedState.tag&1){if(n.flags|=2048,la(9,Qu.bind(null,n,i,o,t),void 0,null),Mt===null)throw Error(C(349));(Is&30)!==0||Yu(n,t,o)}return o}function Yu(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=bt.updateQueue,t===null?(t={lastEffect:null,stores:null},bt.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Qu(e,t,n,i){t.value=n,t.getSnapshot=i,Xu(t)&&Zu(e)}function Gu(e,t,n){return n(function(){Xu(t)&&Zu(e)})}function Xu(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!T(e,n)}catch{return!0}}function Zu(e){var t=jr(e,1);t!==null&&Rn(t,e,1,-1)}function Ju(e){var t=Gn();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:oa,lastRenderedState:e},t.queue=e,e=e.dispatch=lf.bind(null,bt,e),[t.memoizedState,e]}function la(e,t,n,i){return e={tag:e,create:t,destroy:n,deps:i,next:null},t=bt.updateQueue,t===null?(t={lastEffect:null,stores:null},bt.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(i=n.next,n.next=e,e.next=i,t.lastEffect=e)),e}function ec(){return mn().memoizedState}function lo(e,t,n,i){var o=Gn();bt.flags|=e,o.memoizedState=la(1|t,n,void 0,i===void 0?null:i)}function uo(e,t,n,i){var o=mn();i=i===void 0?null:i;var u=void 0;if(Et!==null){var p=Et.memoizedState;if(u=p.destroy,i!==null&&xl(i,p.deps)){o.memoizedState=la(t,n,u,i);return}}bt.flags|=e,o.memoizedState=la(1|t,n,u,i)}function tc(e,t){return lo(8390656,8,e,t)}function Nl(e,t){return uo(2048,8,e,t)}function nc(e,t){return uo(4,2,e,t)}function rc(e,t){return uo(4,4,e,t)}function sc(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function ic(e,t,n){return n=n!=null?n.concat([e]):null,uo(4,4,sc.bind(null,t,e),n)}function kl(){}function ac(e,t){var n=mn();t=t===void 0?null:t;var i=n.memoizedState;return i!==null&&t!==null&&xl(t,i[1])?i[0]:(n.memoizedState=[e,t],e)}function oc(e,t){var n=mn();t=t===void 0?null:t;var i=n.memoizedState;return i!==null&&t!==null&&xl(t,i[1])?i[0]:(e=e(),n.memoizedState=[e,t],e)}function lc(e,t,n){return(Is&21)===0?(e.baseState&&(e.baseState=!1,tn=!0),e.memoizedState=n):(T(n,t)||(n=cr(),bt.lanes|=n,Os|=n,e.baseState=!0),t)}function af(e,t){var n=Je;Je=n!==0&&4>n?n:4,e(!0);var i=yl.transition;yl.transition={};try{e(!1),t()}finally{Je=n,yl.transition=i}}function uc(){return mn().memoizedState}function of(e,t,n){var i=is(e);if(n={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null},cc(e))dc(t,n);else if(n=Uu(e,t,n,i),n!==null){var o=Xt();Rn(n,e,i,o),fc(n,t,i)}}function lf(e,t,n){var i=is(e),o={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null};if(cc(e))dc(t,o);else{var u=e.alternate;if(e.lanes===0&&(u===null||u.lanes===0)&&(u=t.lastRenderedReducer,u!==null))try{var p=t.lastRenderedState,g=u(p,n);if(o.hasEagerState=!0,o.eagerState=g,T(g,p)){var w=t.interleaved;w===null?(o.next=o,dl(t)):(o.next=w.next,w.next=o),t.interleaved=o;return}}catch{}finally{}n=Uu(e,t,o,i),n!==null&&(o=Xt(),Rn(n,e,i,o),fc(n,t,i))}}function cc(e){var t=e.alternate;return e===bt||t!==null&&t===bt}function dc(e,t){ia=oo=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function fc(e,t,n){if((n&4194240)!==0){var i=t.lanes;i&=e.pendingLanes,n|=i,t.lanes=n,Ys(e,n)}}var co={readContext:pn,useCallback:Vt,useContext:Vt,useEffect:Vt,useImperativeHandle:Vt,useInsertionEffect:Vt,useLayoutEffect:Vt,useMemo:Vt,useReducer:Vt,useRef:Vt,useState:Vt,useDebugValue:Vt,useDeferredValue:Vt,useTransition:Vt,useMutableSource:Vt,useSyncExternalStore:Vt,useId:Vt,unstable_isNewReconciler:!1},uf={readContext:pn,useCallback:function(e,t){return Gn().memoizedState=[e,t===void 0?null:t],e},useContext:pn,useEffect:tc,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,lo(4194308,4,sc.bind(null,t,e),n)},useLayoutEffect:function(e,t){return lo(4194308,4,e,t)},useInsertionEffect:function(e,t){return lo(4,2,e,t)},useMemo:function(e,t){var n=Gn();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var i=Gn();return t=n!==void 0?n(t):t,i.memoizedState=i.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},i.queue=e,e=e.dispatch=of.bind(null,bt,e),[i.memoizedState,e]},useRef:function(e){var t=Gn();return e={current:e},t.memoizedState=e},useState:Ju,useDebugValue:kl,useDeferredValue:function(e){return Gn().memoizedState=e},useTransition:function(){var e=Ju(!1),t=e[0];return e=af.bind(null,e[1]),Gn().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var i=bt,o=Gn();if(yt){if(n===void 0)throw Error(C(407));n=n()}else{if(n=t(),Mt===null)throw Error(C(349));(Is&30)!==0||Yu(i,t,n)}o.memoizedState=n;var u={value:n,getSnapshot:t};return o.queue=u,tc(Gu.bind(null,i,u,e),[e]),i.flags|=2048,la(9,Qu.bind(null,i,u,n,t),void 0,null),n},useId:function(){var e=Gn(),t=Mt.identifierPrefix;if(yt){var n=br,i=wr;n=(i&~(1<<32-Oe(i)-1)).toString(32)+n,t=":"+t+"R"+n,n=aa++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=sf++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},cf={readContext:pn,useCallback:ac,useContext:pn,useEffect:Nl,useImperativeHandle:ic,useInsertionEffect:nc,useLayoutEffect:rc,useMemo:oc,useReducer:bl,useRef:ec,useState:function(){return bl(oa)},useDebugValue:kl,useDeferredValue:function(e){var t=mn();return lc(t,Et.memoizedState,e)},useTransition:function(){var e=bl(oa)[0],t=mn().memoizedState;return[e,t]},useMutableSource:Hu,useSyncExternalStore:Wu,useId:uc,unstable_isNewReconciler:!1},df={readContext:pn,useCallback:ac,useContext:pn,useEffect:Nl,useImperativeHandle:ic,useInsertionEffect:nc,useLayoutEffect:rc,useMemo:oc,useReducer:jl,useRef:ec,useState:function(){return jl(oa)},useDebugValue:kl,useDeferredValue:function(e){var t=mn();return Et===null?t.memoizedState=e:lc(t,Et.memoizedState,e)},useTransition:function(){var e=jl(oa)[0],t=mn().memoizedState;return[e,t]},useMutableSource:Hu,useSyncExternalStore:Wu,useId:uc,unstable_isNewReconciler:!1};function En(e,t){if(e&&e.defaultProps){t=le({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Sl(e,t,n,i){t=e.memoizedState,n=n(i,t),n=n==null?t:le({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var fo={isMounted:function(e){return(e=e._reactInternals)?Kt(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var i=Xt(),o=is(e),u=Nr(i,o);u.payload=t,n!=null&&(u.callback=n),t=ts(e,u,o),t!==null&&(Rn(t,e,o,i),ro(t,e,o))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var i=Xt(),o=is(e),u=Nr(i,o);u.tag=1,u.payload=t,n!=null&&(u.callback=n),t=ts(e,u,o),t!==null&&(Rn(t,e,o,i),ro(t,e,o))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Xt(),i=is(e),o=Nr(n,i);o.tag=2,t!=null&&(o.callback=t),t=ts(e,o,i),t!==null&&(Rn(t,e,i,n),ro(t,e,i))}};function pc(e,t,n,i,o,u,p){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(i,u,p):t.prototype&&t.prototype.isPureReactComponent?!b(n,i)||!b(o,u):!0}function mc(e,t,n){var i=!1,o=Zr,u=t.contextType;return typeof u=="object"&&u!==null?u=pn(u):(o=en(t)?Ts:qt.current,i=t.contextTypes,u=(i=i!=null)?di(e,o):Zr),t=new t(n,u),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=fo,e.stateNode=t,t._reactInternals=e,i&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=o,e.__reactInternalMemoizedMaskedChildContext=u),t}function hc(e,t,n,i){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,i),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,i),t.state!==e&&fo.enqueueReplaceState(t,t.state,null)}function _l(e,t,n,i){var o=e.stateNode;o.props=n,o.state=e.memoizedState,o.refs={},fl(e);var u=t.contextType;typeof u=="object"&&u!==null?o.context=pn(u):(u=en(t)?Ts:qt.current,o.context=di(e,u)),o.state=e.memoizedState,u=t.getDerivedStateFromProps,typeof u=="function"&&(Sl(e,t,u,n),o.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof o.getSnapshotBeforeUpdate=="function"||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(t=o.state,typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount(),t!==o.state&&fo.enqueueReplaceState(o,o.state,null),so(e,n,o,i),o.state=e.memoizedState),typeof o.componentDidMount=="function"&&(e.flags|=4194308)}function vi(e,t){try{var n="",i=t;do n+=qe(i),i=i.return;while(i);var o=n}catch(u){o=`
Error generating stack: `+u.message+`
`+u.stack}return{value:e,source:t,stack:o,digest:null}}function Cl(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function El(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var ff=typeof WeakMap=="function"?WeakMap:Map;function gc(e,t,n){n=Nr(-1,n),n.tag=3,n.payload={element:null};var i=t.value;return n.callback=function(){vo||(vo=!0,ql=i),El(e,t)},n}function yc(e,t,n){n=Nr(-1,n),n.tag=3;var i=e.type.getDerivedStateFromError;if(typeof i=="function"){var o=t.value;n.payload=function(){return i(o)},n.callback=function(){El(e,t)}}var u=e.stateNode;return u!==null&&typeof u.componentDidCatch=="function"&&(n.callback=function(){El(e,t),typeof i!="function"&&(rs===null?rs=new Set([this]):rs.add(this));var p=t.stack;this.componentDidCatch(t.value,{componentStack:p!==null?p:""})}),n}function xc(e,t,n){var i=e.pingCache;if(i===null){i=e.pingCache=new ff;var o=new Set;i.set(t,o)}else o=i.get(t),o===void 0&&(o=new Set,i.set(t,o));o.has(n)||(o.add(n),e=_f.bind(null,e,t,n),t.then(e,e))}function vc(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function wc(e,t,n,i,o){return(e.mode&1)===0?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Nr(-1,1),t.tag=2,ts(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=o,e)}var pf=Ke.ReactCurrentOwner,tn=!1;function Gt(e,t,n,i){t.child=e===null?Bu(t,null,n,i):hi(t,e.child,n,i)}function bc(e,t,n,i,o){n=n.render;var u=t.ref;return yi(t,o),i=vl(e,t,n,i,u,o),n=wl(),e!==null&&!tn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,kr(e,t,o)):(yt&&n&&nl(t),t.flags|=1,Gt(e,t,i,o),t.child)}function jc(e,t,n,i,o){if(e===null){var u=n.type;return typeof u=="function"&&!Gl(u)&&u.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=u,Nc(e,t,u,i,o)):(e=So(n.type,null,i,t,t.mode,o),e.ref=t.ref,e.return=t,t.child=e)}if(u=e.child,(e.lanes&o)===0){var p=u.memoizedProps;if(n=n.compare,n=n!==null?n:b,n(p,i)&&e.ref===t.ref)return kr(e,t,o)}return t.flags|=1,e=os(u,i),e.ref=t.ref,e.return=t,t.child=e}function Nc(e,t,n,i,o){if(e!==null){var u=e.memoizedProps;if(b(u,i)&&e.ref===t.ref)if(tn=!1,t.pendingProps=i=u,(e.lanes&o)!==0)(e.flags&131072)!==0&&(tn=!0);else return t.lanes=e.lanes,kr(e,t,o)}return Pl(e,t,n,i,o)}function kc(e,t,n){var i=t.pendingProps,o=i.children,u=e!==null?e.memoizedState:null;if(i.mode==="hidden")if((t.mode&1)===0)t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ft(bi,un),un|=n;else{if((n&1073741824)===0)return e=u!==null?u.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ft(bi,un),un|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},i=u!==null?u.baseLanes:n,ft(bi,un),un|=i}else u!==null?(i=u.baseLanes|n,t.memoizedState=null):i=n,ft(bi,un),un|=i;return Gt(e,t,o,n),t.child}function Sc(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Pl(e,t,n,i,o){var u=en(n)?Ts:qt.current;return u=di(t,u),yi(t,o),n=vl(e,t,n,i,u,o),i=wl(),e!==null&&!tn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,kr(e,t,o)):(yt&&i&&nl(t),t.flags|=1,Gt(e,t,n,o),t.child)}function _c(e,t,n,i,o){if(en(n)){var u=!0;Qa(t)}else u=!1;if(yi(t,o),t.stateNode===null)mo(e,t),mc(t,n,i),_l(t,n,i,o),i=!0;else if(e===null){var p=t.stateNode,g=t.memoizedProps;p.props=g;var w=p.context,z=n.contextType;typeof z=="object"&&z!==null?z=pn(z):(z=en(n)?Ts:qt.current,z=di(t,z));var ne=n.getDerivedStateFromProps,re=typeof ne=="function"||typeof p.getSnapshotBeforeUpdate=="function";re||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(g!==i||w!==z)&&hc(t,p,i,z),es=!1;var J=t.memoizedState;p.state=J,so(t,i,p,o),w=t.memoizedState,g!==i||J!==w||Jt.current||es?(typeof ne=="function"&&(Sl(t,n,ne,i),w=t.memoizedState),(g=es||pc(t,n,g,i,J,w,z))?(re||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount()),typeof p.componentDidMount=="function"&&(t.flags|=4194308)):(typeof p.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=i,t.memoizedState=w),p.props=i,p.state=w,p.context=z,i=g):(typeof p.componentDidMount=="function"&&(t.flags|=4194308),i=!1)}else{p=t.stateNode,Ku(e,t),g=t.memoizedProps,z=t.type===t.elementType?g:En(t.type,g),p.props=z,re=t.pendingProps,J=p.context,w=n.contextType,typeof w=="object"&&w!==null?w=pn(w):(w=en(n)?Ts:qt.current,w=di(t,w));var ye=n.getDerivedStateFromProps;(ne=typeof ye=="function"||typeof p.getSnapshotBeforeUpdate=="function")||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(g!==re||J!==w)&&hc(t,p,i,w),es=!1,J=t.memoizedState,p.state=J,so(t,i,p,o);var ke=t.memoizedState;g!==re||J!==ke||Jt.current||es?(typeof ye=="function"&&(Sl(t,n,ye,i),ke=t.memoizedState),(z=es||pc(t,n,z,i,J,ke,w)||!1)?(ne||typeof p.UNSAFE_componentWillUpdate!="function"&&typeof p.componentWillUpdate!="function"||(typeof p.componentWillUpdate=="function"&&p.componentWillUpdate(i,ke,w),typeof p.UNSAFE_componentWillUpdate=="function"&&p.UNSAFE_componentWillUpdate(i,ke,w)),typeof p.componentDidUpdate=="function"&&(t.flags|=4),typeof p.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof p.componentDidUpdate!="function"||g===e.memoizedProps&&J===e.memoizedState||(t.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&J===e.memoizedState||(t.flags|=1024),t.memoizedProps=i,t.memoizedState=ke),p.props=i,p.state=ke,p.context=w,i=z):(typeof p.componentDidUpdate!="function"||g===e.memoizedProps&&J===e.memoizedState||(t.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&J===e.memoizedState||(t.flags|=1024),i=!1)}return Tl(e,t,n,i,u,o)}function Tl(e,t,n,i,o,u){Sc(e,t);var p=(t.flags&128)!==0;if(!i&&!p)return o&&Ru(t,n,!1),kr(e,t,u);i=t.stateNode,pf.current=t;var g=p&&typeof n.getDerivedStateFromError!="function"?null:i.render();return t.flags|=1,e!==null&&p?(t.child=hi(t,e.child,null,u),t.child=hi(t,null,g,u)):Gt(e,t,g,u),t.memoizedState=i.state,o&&Ru(t,n,!0),t.child}function Cc(e){var t=e.stateNode;t.pendingContext?Pu(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Pu(e,t.context,!1),pl(e,t.containerInfo)}function Ec(e,t,n,i,o){return mi(),al(o),t.flags|=256,Gt(e,t,n,i),t.child}var Rl={dehydrated:null,treeContext:null,retryLane:0};function Al(e){return{baseLanes:e,cachePool:null,transitions:null}}function Pc(e,t,n){var i=t.pendingProps,o=wt.current,u=!1,p=(t.flags&128)!==0,g;if((g=p)||(g=e!==null&&e.memoizedState===null?!1:(o&2)!==0),g?(u=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(o|=1),ft(wt,o&1),e===null)return il(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?((t.mode&1)===0?t.lanes=1:e.data==="$!"?t.lanes=8:t.lanes=1073741824,null):(p=i.children,e=i.fallback,u?(i=t.mode,u=t.child,p={mode:"hidden",children:p},(i&1)===0&&u!==null?(u.childLanes=0,u.pendingProps=p):u=_o(p,i,0,null),e=Bs(e,i,n,null),u.return=t,e.return=t,u.sibling=e,t.child=u,t.child.memoizedState=Al(n),t.memoizedState=Rl,e):Dl(t,p));if(o=e.memoizedState,o!==null&&(g=o.dehydrated,g!==null))return mf(e,t,p,i,g,o,n);if(u){u=i.fallback,p=t.mode,o=e.child,g=o.sibling;var w={mode:"hidden",children:i.children};return(p&1)===0&&t.child!==o?(i=t.child,i.childLanes=0,i.pendingProps=w,t.deletions=null):(i=os(o,w),i.subtreeFlags=o.subtreeFlags&14680064),g!==null?u=os(g,u):(u=Bs(u,p,n,null),u.flags|=2),u.return=t,i.return=t,i.sibling=u,t.child=i,i=u,u=t.child,p=e.child.memoizedState,p=p===null?Al(n):{baseLanes:p.baseLanes|n,cachePool:null,transitions:p.transitions},u.memoizedState=p,u.childLanes=e.childLanes&~n,t.memoizedState=Rl,i}return u=e.child,e=u.sibling,i=os(u,{mode:"visible",children:i.children}),(t.mode&1)===0&&(i.lanes=n),i.return=t,i.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Dl(e,t){return t=_o({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function po(e,t,n,i){return i!==null&&al(i),hi(t,e.child,null,n),e=Dl(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function mf(e,t,n,i,o,u,p){if(n)return t.flags&256?(t.flags&=-257,i=Cl(Error(C(422))),po(e,t,p,i)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(u=i.fallback,o=t.mode,i=_o({mode:"visible",children:i.children},o,0,null),u=Bs(u,o,p,null),u.flags|=2,i.return=t,u.return=t,i.sibling=u,t.child=i,(t.mode&1)!==0&&hi(t,e.child,null,p),t.child.memoizedState=Al(p),t.memoizedState=Rl,u);if((t.mode&1)===0)return po(e,t,p,null);if(o.data==="$!"){if(i=o.nextSibling&&o.nextSibling.dataset,i)var g=i.dgst;return i=g,u=Error(C(419)),i=Cl(u,i,void 0),po(e,t,p,i)}if(g=(p&e.childLanes)!==0,tn||g){if(i=Mt,i!==null){switch(p&-p){case 4:o=2;break;case 16:o=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:o=32;break;case 536870912:o=268435456;break;default:o=0}o=(o&(i.suspendedLanes|p))!==0?0:o,o!==0&&o!==u.retryLane&&(u.retryLane=o,jr(e,o),Rn(i,e,o,-1))}return Ql(),i=Cl(Error(C(421))),po(e,t,p,i)}return o.data==="$?"?(t.flags|=128,t.child=e.child,t=Cf.bind(null,e),o._reactRetry=t,null):(e=u.treeContext,ln=Gr(o.nextSibling),on=t,yt=!0,Cn=null,e!==null&&(dn[fn++]=wr,dn[fn++]=br,dn[fn++]=Rs,wr=e.id,br=e.overflow,Rs=t),t=Dl(t,i.children),t.flags|=4096,t)}function Tc(e,t,n){e.lanes|=t;var i=e.alternate;i!==null&&(i.lanes|=t),cl(e.return,t,n)}function Ml(e,t,n,i,o){var u=e.memoizedState;u===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:o}:(u.isBackwards=t,u.rendering=null,u.renderingStartTime=0,u.last=i,u.tail=n,u.tailMode=o)}function Rc(e,t,n){var i=t.pendingProps,o=i.revealOrder,u=i.tail;if(Gt(e,t,i.children,n),i=wt.current,(i&2)!==0)i=i&1|2,t.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Tc(e,n,t);else if(e.tag===19)Tc(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}i&=1}if(ft(wt,i),(t.mode&1)===0)t.memoizedState=null;else switch(o){case"forwards":for(n=t.child,o=null;n!==null;)e=n.alternate,e!==null&&io(e)===null&&(o=n),n=n.sibling;n=o,n===null?(o=t.child,t.child=null):(o=n.sibling,n.sibling=null),Ml(t,!1,o,n,u);break;case"backwards":for(n=null,o=t.child,t.child=null;o!==null;){if(e=o.alternate,e!==null&&io(e)===null){t.child=o;break}e=o.sibling,o.sibling=n,n=o,o=e}Ml(t,!0,n,null,u);break;case"together":Ml(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function mo(e,t){(t.mode&1)===0&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function kr(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Os|=t.lanes,(n&t.childLanes)===0)return null;if(e!==null&&t.child!==e.child)throw Error(C(153));if(t.child!==null){for(e=t.child,n=os(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=os(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function hf(e,t,n){switch(t.tag){case 3:Cc(t),mi();break;case 5:$u(t);break;case 1:en(t.type)&&Qa(t);break;case 4:pl(t,t.stateNode.containerInfo);break;case 10:var i=t.type._context,o=t.memoizedProps.value;ft(to,i._currentValue),i._currentValue=o;break;case 13:if(i=t.memoizedState,i!==null)return i.dehydrated!==null?(ft(wt,wt.current&1),t.flags|=128,null):(n&t.child.childLanes)!==0?Pc(e,t,n):(ft(wt,wt.current&1),e=kr(e,t,n),e!==null?e.sibling:null);ft(wt,wt.current&1);break;case 19:if(i=(n&t.childLanes)!==0,(e.flags&128)!==0){if(i)return Rc(e,t,n);t.flags|=128}if(o=t.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),ft(wt,wt.current),i)break;return null;case 22:case 23:return t.lanes=0,kc(e,t,n)}return kr(e,t,n)}var Ac,Il,Dc,Mc;Ac=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Il=function(){},Dc=function(e,t,n,i){var o=e.memoizedProps;if(o!==i){e=t.stateNode,Ms(Qn.current);var u=null;switch(n){case"input":o=_i(e,o),i=_i(e,i),u=[];break;case"select":o=le({},o,{value:void 0}),i=le({},i,{value:void 0}),u=[];break;case"textarea":o=Us(e,o),i=Us(e,i),u=[];break;default:typeof o.onClick!="function"&&typeof i.onClick=="function"&&(e.onclick=Ha)}Se(n,i);var p;n=null;for(z in o)if(!i.hasOwnProperty(z)&&o.hasOwnProperty(z)&&o[z]!=null)if(z==="style"){var g=o[z];for(p in g)g.hasOwnProperty(p)&&(n||(n={}),n[p]="")}else z!=="dangerouslySetInnerHTML"&&z!=="children"&&z!=="suppressContentEditableWarning"&&z!=="suppressHydrationWarning"&&z!=="autoFocus"&&(X.hasOwnProperty(z)?u||(u=[]):(u=u||[]).push(z,null));for(z in i){var w=i[z];if(g=o?.[z],i.hasOwnProperty(z)&&w!==g&&(w!=null||g!=null))if(z==="style")if(g){for(p in g)!g.hasOwnProperty(p)||w&&w.hasOwnProperty(p)||(n||(n={}),n[p]="");for(p in w)w.hasOwnProperty(p)&&g[p]!==w[p]&&(n||(n={}),n[p]=w[p])}else n||(u||(u=[]),u.push(z,n)),n=w;else z==="dangerouslySetInnerHTML"?(w=w?w.__html:void 0,g=g?g.__html:void 0,w!=null&&g!==w&&(u=u||[]).push(z,w)):z==="children"?typeof w!="string"&&typeof w!="number"||(u=u||[]).push(z,""+w):z!=="suppressContentEditableWarning"&&z!=="suppressHydrationWarning"&&(X.hasOwnProperty(z)?(w!=null&&z==="onScroll"&&mt("scroll",e),u||g===w||(u=[])):(u=u||[]).push(z,w))}n&&(u=u||[]).push("style",n);var z=u;(t.updateQueue=z)&&(t.flags|=4)}},Mc=function(e,t,n,i){n!==i&&(t.flags|=4)};function ua(e,t){if(!yt)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:i.sibling=null}}function $t(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,i=0;if(t)for(var o=e.child;o!==null;)n|=o.lanes|o.childLanes,i|=o.subtreeFlags&14680064,i|=o.flags&14680064,o.return=e,o=o.sibling;else for(o=e.child;o!==null;)n|=o.lanes|o.childLanes,i|=o.subtreeFlags,i|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=i,e.childLanes=n,t}function gf(e,t,n){var i=t.pendingProps;switch(rl(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return $t(t),null;case 1:return en(t.type)&&Ya(),$t(t),null;case 3:return i=t.stateNode,xi(),ht(Jt),ht(qt),gl(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(e===null||e.child===null)&&(Ja(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,Cn!==null&&(Hl(Cn),Cn=null))),Il(e,t),$t(t),null;case 5:ml(t);var o=Ms(sa.current);if(n=t.type,e!==null&&t.stateNode!=null)Dc(e,t,n,i,o),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!i){if(t.stateNode===null)throw Error(C(166));return $t(t),null}if(e=Ms(Qn.current),Ja(t)){i=t.stateNode,n=t.type;var u=t.memoizedProps;switch(i[Yn]=t,i[Ji]=u,e=(t.mode&1)!==0,n){case"dialog":mt("cancel",i),mt("close",i);break;case"iframe":case"object":case"embed":mt("load",i);break;case"video":case"audio":for(o=0;o<Gi.length;o++)mt(Gi[o],i);break;case"source":mt("error",i);break;case"img":case"image":case"link":mt("error",i),mt("load",i);break;case"details":mt("toggle",i);break;case"input":Dn(i,u),mt("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!u.multiple},mt("invalid",i);break;case"textarea":Er(i,u),mt("invalid",i)}Se(n,u),o=null;for(var p in u)if(u.hasOwnProperty(p)){var g=u[p];p==="children"?typeof g=="string"?i.textContent!==g&&(u.suppressHydrationWarning!==!0&&$a(i.textContent,g,e),o=["children",g]):typeof g=="number"&&i.textContent!==""+g&&(u.suppressHydrationWarning!==!0&&$a(i.textContent,g,e),o=["children",""+g]):X.hasOwnProperty(p)&&g!=null&&p==="onScroll"&&mt("scroll",i)}switch(n){case"input":ds(i),va(i,u,!0);break;case"textarea":ds(i),Pr(i);break;case"select":case"option":break;default:typeof u.onClick=="function"&&(i.onclick=Ha)}i=o,t.updateQueue=i,i!==null&&(t.flags|=4)}else{p=o.nodeType===9?o:o.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Ut(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=p.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof i.is=="string"?e=p.createElement(n,{is:i.is}):(e=p.createElement(n),n==="select"&&(p=e,i.multiple?p.multiple=!0:i.size&&(p.size=i.size))):e=p.createElementNS(e,n),e[Yn]=t,e[Ji]=i,Ac(e,t,!1,!1),t.stateNode=e;e:{switch(p=nr(n,i),n){case"dialog":mt("cancel",e),mt("close",e),o=i;break;case"iframe":case"object":case"embed":mt("load",e),o=i;break;case"video":case"audio":for(o=0;o<Gi.length;o++)mt(Gi[o],e);o=i;break;case"source":mt("error",e),o=i;break;case"img":case"image":case"link":mt("error",e),mt("load",e),o=i;break;case"details":mt("toggle",e),o=i;break;case"input":Dn(e,i),o=_i(e,i),mt("invalid",e);break;case"option":o=i;break;case"select":e._wrapperState={wasMultiple:!!i.multiple},o=le({},i,{value:void 0}),mt("invalid",e);break;case"textarea":Er(e,i),o=Us(e,i),mt("invalid",e);break;default:o=i}Se(n,o),g=o;for(u in g)if(g.hasOwnProperty(u)){var w=g[u];u==="style"?Ks(e,w):u==="dangerouslySetInnerHTML"?(w=w?w.__html:void 0,w!=null&&Rr(e,w)):u==="children"?typeof w=="string"?(n!=="textarea"||w!=="")&&er(e,w):typeof w=="number"&&er(e,""+w):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(X.hasOwnProperty(u)?w!=null&&u==="onScroll"&&mt("scroll",e):w!=null&&Ze(e,u,w,p))}switch(n){case"input":ds(e),va(e,i,!1);break;case"textarea":ds(e),Pr(e);break;case"option":i.value!=null&&e.setAttribute("value",""+tt(i.value));break;case"select":e.multiple=!!i.multiple,u=i.value,u!=null?Ot(e,!!i.multiple,u,!1):i.defaultValue!=null&&Ot(e,!!i.multiple,i.defaultValue,!0);break;default:typeof o.onClick=="function"&&(e.onclick=Ha)}switch(n){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}}i&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return $t(t),null;case 6:if(e&&t.stateNode!=null)Mc(e,t,e.memoizedProps,i);else{if(typeof i!="string"&&t.stateNode===null)throw Error(C(166));if(n=Ms(sa.current),Ms(Qn.current),Ja(t)){if(i=t.stateNode,n=t.memoizedProps,i[Yn]=t,(u=i.nodeValue!==n)&&(e=on,e!==null))switch(e.tag){case 3:$a(i.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&$a(i.nodeValue,n,(e.mode&1)!==0)}u&&(t.flags|=4)}else i=(n.nodeType===9?n:n.ownerDocument).createTextNode(i),i[Yn]=t,t.stateNode=i}return $t(t),null;case 13:if(ht(wt),i=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(yt&&ln!==null&&(t.mode&1)!==0&&(t.flags&128)===0)Lu(),mi(),t.flags|=98560,u=!1;else if(u=Ja(t),i!==null&&i.dehydrated!==null){if(e===null){if(!u)throw Error(C(318));if(u=t.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(C(317));u[Yn]=t}else mi(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;$t(t),u=!1}else Cn!==null&&(Hl(Cn),Cn=null),u=!0;if(!u)return t.flags&65536?t:null}return(t.flags&128)!==0?(t.lanes=n,t):(i=i!==null,i!==(e!==null&&e.memoizedState!==null)&&i&&(t.child.flags|=8192,(t.mode&1)!==0&&(e===null||(wt.current&1)!==0?Pt===0&&(Pt=3):Ql())),t.updateQueue!==null&&(t.flags|=4),$t(t),null);case 4:return xi(),Il(e,t),e===null&&Xi(t.stateNode.containerInfo),$t(t),null;case 10:return ul(t.type._context),$t(t),null;case 17:return en(t.type)&&Ya(),$t(t),null;case 19:if(ht(wt),u=t.memoizedState,u===null)return $t(t),null;if(i=(t.flags&128)!==0,p=u.rendering,p===null)if(i)ua(u,!1);else{if(Pt!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(p=io(e),p!==null){for(t.flags|=128,ua(u,!1),i=p.updateQueue,i!==null&&(t.updateQueue=i,t.flags|=4),t.subtreeFlags=0,i=n,n=t.child;n!==null;)u=n,e=i,u.flags&=14680066,p=u.alternate,p===null?(u.childLanes=0,u.lanes=e,u.child=null,u.subtreeFlags=0,u.memoizedProps=null,u.memoizedState=null,u.updateQueue=null,u.dependencies=null,u.stateNode=null):(u.childLanes=p.childLanes,u.lanes=p.lanes,u.child=p.child,u.subtreeFlags=0,u.deletions=null,u.memoizedProps=p.memoizedProps,u.memoizedState=p.memoizedState,u.updateQueue=p.updateQueue,u.type=p.type,e=p.dependencies,u.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return ft(wt,wt.current&1|2),t.child}e=e.sibling}u.tail!==null&&it()>ji&&(t.flags|=128,i=!0,ua(u,!1),t.lanes=4194304)}else{if(!i)if(e=io(p),e!==null){if(t.flags|=128,i=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),ua(u,!0),u.tail===null&&u.tailMode==="hidden"&&!p.alternate&&!yt)return $t(t),null}else 2*it()-u.renderingStartTime>ji&&n!==1073741824&&(t.flags|=128,i=!0,ua(u,!1),t.lanes=4194304);u.isBackwards?(p.sibling=t.child,t.child=p):(n=u.last,n!==null?n.sibling=p:t.child=p,u.last=p)}return u.tail!==null?(t=u.tail,u.rendering=t,u.tail=t.sibling,u.renderingStartTime=it(),t.sibling=null,n=wt.current,ft(wt,i?n&1|2:n&1),t):($t(t),null);case 22:case 23:return Yl(),i=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==i&&(t.flags|=8192),i&&(t.mode&1)!==0?(un&1073741824)!==0&&($t(t),t.subtreeFlags&6&&(t.flags|=8192)):$t(t),null;case 24:return null;case 25:return null}throw Error(C(156,t.tag))}function yf(e,t){switch(rl(t),t.tag){case 1:return en(t.type)&&Ya(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return xi(),ht(Jt),ht(qt),gl(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 5:return ml(t),null;case 13:if(ht(wt),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(C(340));mi()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ht(wt),null;case 4:return xi(),null;case 10:return ul(t.type._context),null;case 22:case 23:return Yl(),null;case 24:return null;default:return null}}var ho=!1,Ht=!1,xf=typeof WeakSet=="function"?WeakSet:Set,je=null;function wi(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(i){jt(e,t,i)}else n.current=null}function Ol(e,t,n){try{n()}catch(i){jt(e,t,i)}}var Ic=!1;function vf(e,t){if(Yo=js,e=N(),j(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var i=n.getSelection&&n.getSelection();if(i&&i.rangeCount!==0){n=i.anchorNode;var o=i.anchorOffset,u=i.focusNode;i=i.focusOffset;try{n.nodeType,u.nodeType}catch{n=null;break e}var p=0,g=-1,w=-1,z=0,ne=0,re=e,J=null;t:for(;;){for(var ye;re!==n||o!==0&&re.nodeType!==3||(g=p+o),re!==u||i!==0&&re.nodeType!==3||(w=p+i),re.nodeType===3&&(p+=re.nodeValue.length),(ye=re.firstChild)!==null;)J=re,re=ye;for(;;){if(re===e)break t;if(J===n&&++z===o&&(g=p),J===u&&++ne===i&&(w=p),(ye=re.nextSibling)!==null)break;re=J,J=re.parentNode}re=ye}n=g===-1||w===-1?null:{start:g,end:w}}else n=null}n=n||{start:0,end:0}}else n=null;for(Qo={focusedElem:e,selectionRange:n},js=!1,je=t;je!==null;)if(t=je,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,je=e;else for(;je!==null;){t=je;try{var ke=t.alternate;if((t.flags&1024)!==0)switch(t.tag){case 0:case 11:case 15:break;case 1:if(ke!==null){var _e=ke.memoizedProps,kt=ke.memoizedState,M=t.stateNode,E=M.getSnapshotBeforeUpdate(t.elementType===t.type?_e:En(t.type,_e),kt);M.__reactInternalSnapshotBeforeUpdate=E}break;case 3:var L=t.stateNode.containerInfo;L.nodeType===1?L.textContent="":L.nodeType===9&&L.documentElement&&L.removeChild(L.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(C(163))}}catch(ae){jt(t,t.return,ae)}if(e=t.sibling,e!==null){e.return=t.return,je=e;break}je=t.return}return ke=Ic,Ic=!1,ke}function ca(e,t,n){var i=t.updateQueue;if(i=i!==null?i.lastEffect:null,i!==null){var o=i=i.next;do{if((o.tag&e)===e){var u=o.destroy;o.destroy=void 0,u!==void 0&&Ol(t,n,u)}o=o.next}while(o!==i)}}function go(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var i=n.create;n.destroy=i()}n=n.next}while(n!==t)}}function Ll(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function Oc(e){var t=e.alternate;t!==null&&(e.alternate=null,Oc(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Yn],delete t[Ji],delete t[Jo],delete t[ef],delete t[tf])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Lc(e){return e.tag===5||e.tag===3||e.tag===4}function Fc(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Lc(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Fl(e,t,n){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Ha));else if(i!==4&&(e=e.child,e!==null))for(Fl(e,t,n),e=e.sibling;e!==null;)Fl(e,t,n),e=e.sibling}function zl(e,t,n){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(i!==4&&(e=e.child,e!==null))for(zl(e,t,n),e=e.sibling;e!==null;)zl(e,t,n),e=e.sibling}var zt=null,Pn=!1;function ns(e,t,n){for(n=n.child;n!==null;)zc(e,t,n),n=n.sibling}function zc(e,t,n){if(Wt&&typeof Wt.onCommitFiberUnmount=="function")try{Wt.onCommitFiberUnmount(gs,n)}catch{}switch(n.tag){case 5:Ht||wi(n,t);case 6:var i=zt,o=Pn;zt=null,ns(e,t,n),zt=i,Pn=o,zt!==null&&(Pn?(e=zt,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):zt.removeChild(n.stateNode));break;case 18:zt!==null&&(Pn?(e=zt,n=n.stateNode,e.nodeType===8?Zo(e.parentNode,n):e.nodeType===1&&Zo(e,n),bn(e)):Zo(zt,n.stateNode));break;case 4:i=zt,o=Pn,zt=n.stateNode.containerInfo,Pn=!0,ns(e,t,n),zt=i,Pn=o;break;case 0:case 11:case 14:case 15:if(!Ht&&(i=n.updateQueue,i!==null&&(i=i.lastEffect,i!==null))){o=i=i.next;do{var u=o,p=u.destroy;u=u.tag,p!==void 0&&((u&2)!==0||(u&4)!==0)&&Ol(n,t,p),o=o.next}while(o!==i)}ns(e,t,n);break;case 1:if(!Ht&&(wi(n,t),i=n.stateNode,typeof i.componentWillUnmount=="function"))try{i.props=n.memoizedProps,i.state=n.memoizedState,i.componentWillUnmount()}catch(g){jt(n,t,g)}ns(e,t,n);break;case 21:ns(e,t,n);break;case 22:n.mode&1?(Ht=(i=Ht)||n.memoizedState!==null,ns(e,t,n),Ht=i):ns(e,t,n);break;default:ns(e,t,n)}}function Bc(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new xf),t.forEach(function(i){var o=Ef.bind(null,e,i);n.has(i)||(n.add(i),i.then(o,o))})}}function Tn(e,t){var n=t.deletions;if(n!==null)for(var i=0;i<n.length;i++){var o=n[i];try{var u=e,p=t,g=p;e:for(;g!==null;){switch(g.tag){case 5:zt=g.stateNode,Pn=!1;break e;case 3:zt=g.stateNode.containerInfo,Pn=!0;break e;case 4:zt=g.stateNode.containerInfo,Pn=!0;break e}g=g.return}if(zt===null)throw Error(C(160));zc(u,p,o),zt=null,Pn=!1;var w=o.alternate;w!==null&&(w.return=null),o.return=null}catch(z){jt(o,t,z)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Uc(t,e),t=t.sibling}function Uc(e,t){var n=e.alternate,i=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Tn(t,e),Xn(e),i&4){try{ca(3,e,e.return),go(3,e)}catch(_e){jt(e,e.return,_e)}try{ca(5,e,e.return)}catch(_e){jt(e,e.return,_e)}}break;case 1:Tn(t,e),Xn(e),i&512&&n!==null&&wi(n,n.return);break;case 5:if(Tn(t,e),Xn(e),i&512&&n!==null&&wi(n,n.return),e.flags&32){var o=e.stateNode;try{er(o,"")}catch(_e){jt(e,e.return,_e)}}if(i&4&&(o=e.stateNode,o!=null)){var u=e.memoizedProps,p=n!==null?n.memoizedProps:u,g=e.type,w=e.updateQueue;if(e.updateQueue=null,w!==null)try{g==="input"&&u.type==="radio"&&u.name!=null&&xa(o,u),nr(g,p);var z=nr(g,u);for(p=0;p<w.length;p+=2){var ne=w[p],re=w[p+1];ne==="style"?Ks(o,re):ne==="dangerouslySetInnerHTML"?Rr(o,re):ne==="children"?er(o,re):Ze(o,ne,re,z)}switch(g){case"input":Ci(o,u);break;case"textarea":Pi(o,u);break;case"select":var J=o._wrapperState.wasMultiple;o._wrapperState.wasMultiple=!!u.multiple;var ye=u.value;ye!=null?Ot(o,!!u.multiple,ye,!1):J!==!!u.multiple&&(u.defaultValue!=null?Ot(o,!!u.multiple,u.defaultValue,!0):Ot(o,!!u.multiple,u.multiple?[]:"",!1))}o[Ji]=u}catch(_e){jt(e,e.return,_e)}}break;case 6:if(Tn(t,e),Xn(e),i&4){if(e.stateNode===null)throw Error(C(162));o=e.stateNode,u=e.memoizedProps;try{o.nodeValue=u}catch(_e){jt(e,e.return,_e)}}break;case 3:if(Tn(t,e),Xn(e),i&4&&n!==null&&n.memoizedState.isDehydrated)try{bn(t.containerInfo)}catch(_e){jt(e,e.return,_e)}break;case 4:Tn(t,e),Xn(e);break;case 13:Tn(t,e),Xn(e),o=e.child,o.flags&8192&&(u=o.memoizedState!==null,o.stateNode.isHidden=u,!u||o.alternate!==null&&o.alternate.memoizedState!==null||(Kl=it())),i&4&&Bc(e);break;case 22:if(ne=n!==null&&n.memoizedState!==null,e.mode&1?(Ht=(z=Ht)||ne,Tn(t,e),Ht=z):Tn(t,e),Xn(e),i&8192){if(z=e.memoizedState!==null,(e.stateNode.isHidden=z)&&!ne&&(e.mode&1)!==0)for(je=e,ne=e.child;ne!==null;){for(re=je=ne;je!==null;){switch(J=je,ye=J.child,J.tag){case 0:case 11:case 14:case 15:ca(4,J,J.return);break;case 1:wi(J,J.return);var ke=J.stateNode;if(typeof ke.componentWillUnmount=="function"){i=J,n=J.return;try{t=i,ke.props=t.memoizedProps,ke.state=t.memoizedState,ke.componentWillUnmount()}catch(_e){jt(i,n,_e)}}break;case 5:wi(J,J.return);break;case 22:if(J.memoizedState!==null){Vc(re);continue}}ye!==null?(ye.return=J,je=ye):Vc(re)}ne=ne.sibling}e:for(ne=null,re=e;;){if(re.tag===5){if(ne===null){ne=re;try{o=re.stateNode,z?(u=o.style,typeof u.setProperty=="function"?u.setProperty("display","none","important"):u.display="none"):(g=re.stateNode,w=re.memoizedProps.style,p=w!=null&&w.hasOwnProperty("display")?w.display:null,g.style.display=fs("display",p))}catch(_e){jt(e,e.return,_e)}}}else if(re.tag===6){if(ne===null)try{re.stateNode.nodeValue=z?"":re.memoizedProps}catch(_e){jt(e,e.return,_e)}}else if((re.tag!==22&&re.tag!==23||re.memoizedState===null||re===e)&&re.child!==null){re.child.return=re,re=re.child;continue}if(re===e)break e;for(;re.sibling===null;){if(re.return===null||re.return===e)break e;ne===re&&(ne=null),re=re.return}ne===re&&(ne=null),re.sibling.return=re.return,re=re.sibling}}break;case 19:Tn(t,e),Xn(e),i&4&&Bc(e);break;case 21:break;default:Tn(t,e),Xn(e)}}function Xn(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Lc(n)){var i=n;break e}n=n.return}throw Error(C(160))}switch(i.tag){case 5:var o=i.stateNode;i.flags&32&&(er(o,""),i.flags&=-33);var u=Fc(e);zl(e,u,o);break;case 3:case 4:var p=i.stateNode.containerInfo,g=Fc(e);Fl(e,g,p);break;default:throw Error(C(161))}}catch(w){jt(e,e.return,w)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function wf(e,t,n){je=e,Kc(e)}function Kc(e,t,n){for(var i=(e.mode&1)!==0;je!==null;){var o=je,u=o.child;if(o.tag===22&&i){var p=o.memoizedState!==null||ho;if(!p){var g=o.alternate,w=g!==null&&g.memoizedState!==null||Ht;g=ho;var z=Ht;if(ho=p,(Ht=w)&&!z)for(je=o;je!==null;)p=je,w=p.child,p.tag===22&&p.memoizedState!==null?$c(o):w!==null?(w.return=p,je=w):$c(o);for(;u!==null;)je=u,Kc(u),u=u.sibling;je=o,ho=g,Ht=z}qc(e)}else(o.subtreeFlags&8772)!==0&&u!==null?(u.return=o,je=u):qc(e)}}function qc(e){for(;je!==null;){var t=je;if((t.flags&8772)!==0){var n=t.alternate;try{if((t.flags&8772)!==0)switch(t.tag){case 0:case 11:case 15:Ht||go(5,t);break;case 1:var i=t.stateNode;if(t.flags&4&&!Ht)if(n===null)i.componentDidMount();else{var o=t.elementType===t.type?n.memoizedProps:En(t.type,n.memoizedProps);i.componentDidUpdate(o,n.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var u=t.updateQueue;u!==null&&Vu(t,u,i);break;case 3:var p=t.updateQueue;if(p!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Vu(t,p,n)}break;case 5:var g=t.stateNode;if(n===null&&t.flags&4){n=g;var w=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":w.autoFocus&&n.focus();break;case"img":w.src&&(n.src=w.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var z=t.alternate;if(z!==null){var ne=z.memoizedState;if(ne!==null){var re=ne.dehydrated;re!==null&&bn(re)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(C(163))}Ht||t.flags&512&&Ll(t)}catch(J){jt(t,t.return,J)}}if(t===e){je=null;break}if(n=t.sibling,n!==null){n.return=t.return,je=n;break}je=t.return}}function Vc(e){for(;je!==null;){var t=je;if(t===e){je=null;break}var n=t.sibling;if(n!==null){n.return=t.return,je=n;break}je=t.return}}function $c(e){for(;je!==null;){var t=je;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{go(4,t)}catch(w){jt(t,n,w)}break;case 1:var i=t.stateNode;if(typeof i.componentDidMount=="function"){var o=t.return;try{i.componentDidMount()}catch(w){jt(t,o,w)}}var u=t.return;try{Ll(t)}catch(w){jt(t,u,w)}break;case 5:var p=t.return;try{Ll(t)}catch(w){jt(t,p,w)}}}catch(w){jt(t,t.return,w)}if(t===e){je=null;break}var g=t.sibling;if(g!==null){g.return=t.return,je=g;break}je=t.return}}var bf=Math.ceil,yo=Ke.ReactCurrentDispatcher,Bl=Ke.ReactCurrentOwner,hn=Ke.ReactCurrentBatchConfig,nt=0,Mt=null,_t=null,Bt=0,un=0,bi=Xr(0),Pt=0,da=null,Os=0,xo=0,Ul=0,fa=null,nn=null,Kl=0,ji=1/0,Sr=null,vo=!1,ql=null,rs=null,wo=!1,ss=null,bo=0,pa=0,Vl=null,jo=-1,No=0;function Xt(){return(nt&6)!==0?it():jo!==-1?jo:jo=it()}function is(e){return(e.mode&1)===0?1:(nt&2)!==0&&Bt!==0?Bt&-Bt:rf.transition!==null?(No===0&&(No=cr()),No):(e=Je,e!==0||(e=window.event,e=e===void 0?16:ks(e.type)),e)}function Rn(e,t,n,i){if(50<pa)throw pa=0,Vl=null,Error(C(185));dr(e,n,i),((nt&2)===0||e!==Mt)&&(e===Mt&&((nt&2)===0&&(xo|=n),Pt===4&&as(e,Bt)),rn(e,i),n===1&&nt===0&&(t.mode&1)===0&&(ji=it()+500,Ga&&Jr()))}function rn(e,t){var n=e.callbackNode;vs(e,t);var i=xs(e,e===Mt?Bt:0);if(i===0)n!==null&&$s(n),e.callbackNode=null,e.callbackPriority=0;else if(t=i&-i,e.callbackPriority!==t){if(n!=null&&$s(n),t===1)e.tag===0?nf(Wc.bind(null,e)):Au(Wc.bind(null,e)),Zd(function(){(nt&6)===0&&Jr()}),n=null;else{switch(Mi(i)){case 1:n=Un;break;case 4:n=hs;break;case 16:n=Or;break;case 536870912:n=Kn;break;default:n=Or}n=td(n,Hc.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Hc(e,t){if(jo=-1,No=0,(nt&6)!==0)throw Error(C(327));var n=e.callbackNode;if(Ni()&&e.callbackNode!==n)return null;var i=xs(e,e===Mt?Bt:0);if(i===0)return null;if((i&30)!==0||(i&e.expiredLanes)!==0||t)t=ko(e,i);else{t=i;var o=nt;nt|=2;var u=Qc();(Mt!==e||Bt!==t)&&(Sr=null,ji=it()+500,Fs(e,t));do try{kf();break}catch(g){Yc(e,g)}while(!0);ll(),yo.current=u,nt=o,_t!==null?t=0:(Mt=null,Bt=0,t=Pt)}if(t!==0){if(t===2&&(o=ur(e),o!==0&&(i=o,t=$l(e,o))),t===1)throw n=da,Fs(e,0),as(e,i),rn(e,it()),n;if(t===6)as(e,i);else{if(o=e.current.alternate,(i&30)===0&&!jf(o)&&(t=ko(e,i),t===2&&(u=ur(e),u!==0&&(i=u,t=$l(e,u))),t===1))throw n=da,Fs(e,0),as(e,i),rn(e,it()),n;switch(e.finishedWork=o,e.finishedLanes=i,t){case 0:case 1:throw Error(C(345));case 2:zs(e,nn,Sr);break;case 3:if(as(e,i),(i&130023424)===i&&(t=Kl+500-it(),10<t)){if(xs(e,0)!==0)break;if(o=e.suspendedLanes,(o&i)!==i){Xt(),e.pingedLanes|=e.suspendedLanes&o;break}e.timeoutHandle=Xo(zs.bind(null,e,nn,Sr),t);break}zs(e,nn,Sr);break;case 4:if(as(e,i),(i&4194240)===i)break;for(t=e.eventTimes,o=-1;0<i;){var p=31-Oe(i);u=1<<p,p=t[p],p>o&&(o=p),i&=~u}if(i=o,i=it()-i,i=(120>i?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*bf(i/1960))-i,10<i){e.timeoutHandle=Xo(zs.bind(null,e,nn,Sr),i);break}zs(e,nn,Sr);break;case 5:zs(e,nn,Sr);break;default:throw Error(C(329))}}}return rn(e,it()),e.callbackNode===n?Hc.bind(null,e):null}function $l(e,t){var n=fa;return e.current.memoizedState.isDehydrated&&(Fs(e,t).flags|=256),e=ko(e,t),e!==2&&(t=nn,nn=n,t!==null&&Hl(t)),e}function Hl(e){nn===null?nn=e:nn.push.apply(nn,e)}function jf(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var i=0;i<n.length;i++){var o=n[i],u=o.getSnapshot;o=o.value;try{if(!T(u(),o))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function as(e,t){for(t&=~Ul,t&=~xo,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Oe(t),i=1<<n;e[n]=-1,t&=~i}}function Wc(e){if((nt&6)!==0)throw Error(C(327));Ni();var t=xs(e,0);if((t&1)===0)return rn(e,it()),null;var n=ko(e,t);if(e.tag!==0&&n===2){var i=ur(e);i!==0&&(t=i,n=$l(e,i))}if(n===1)throw n=da,Fs(e,0),as(e,t),rn(e,it()),n;if(n===6)throw Error(C(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,zs(e,nn,Sr),rn(e,it()),null}function Wl(e,t){var n=nt;nt|=1;try{return e(t)}finally{nt=n,nt===0&&(ji=it()+500,Ga&&Jr())}}function Ls(e){ss!==null&&ss.tag===0&&(nt&6)===0&&Ni();var t=nt;nt|=1;var n=hn.transition,i=Je;try{if(hn.transition=null,Je=1,e)return e()}finally{Je=i,hn.transition=n,nt=t,(nt&6)===0&&Jr()}}function Yl(){un=bi.current,ht(bi)}function Fs(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,Xd(n)),_t!==null)for(n=_t.return;n!==null;){var i=n;switch(rl(i),i.tag){case 1:i=i.type.childContextTypes,i!=null&&Ya();break;case 3:xi(),ht(Jt),ht(qt),gl();break;case 5:ml(i);break;case 4:xi();break;case 13:ht(wt);break;case 19:ht(wt);break;case 10:ul(i.type._context);break;case 22:case 23:Yl()}n=n.return}if(Mt=e,_t=e=os(e.current,null),Bt=un=t,Pt=0,da=null,Ul=xo=Os=0,nn=fa=null,Ds!==null){for(t=0;t<Ds.length;t++)if(n=Ds[t],i=n.interleaved,i!==null){n.interleaved=null;var o=i.next,u=n.pending;if(u!==null){var p=u.next;u.next=o,i.next=p}n.pending=i}Ds=null}return e}function Yc(e,t){do{var n=_t;try{if(ll(),ao.current=co,oo){for(var i=bt.memoizedState;i!==null;){var o=i.queue;o!==null&&(o.pending=null),i=i.next}oo=!1}if(Is=0,Dt=Et=bt=null,ia=!1,aa=0,Bl.current=null,n===null||n.return===null){Pt=1,da=t,_t=null;break}e:{var u=e,p=n.return,g=n,w=t;if(t=Bt,g.flags|=32768,w!==null&&typeof w=="object"&&typeof w.then=="function"){var z=w,ne=g,re=ne.tag;if((ne.mode&1)===0&&(re===0||re===11||re===15)){var J=ne.alternate;J?(ne.updateQueue=J.updateQueue,ne.memoizedState=J.memoizedState,ne.lanes=J.lanes):(ne.updateQueue=null,ne.memoizedState=null)}var ye=vc(p);if(ye!==null){ye.flags&=-257,wc(ye,p,g,u,t),ye.mode&1&&xc(u,z,t),t=ye,w=z;var ke=t.updateQueue;if(ke===null){var _e=new Set;_e.add(w),t.updateQueue=_e}else ke.add(w);break e}else{if((t&1)===0){xc(u,z,t),Ql();break e}w=Error(C(426))}}else if(yt&&g.mode&1){var kt=vc(p);if(kt!==null){(kt.flags&65536)===0&&(kt.flags|=256),wc(kt,p,g,u,t),al(vi(w,g));break e}}u=w=vi(w,g),Pt!==4&&(Pt=2),fa===null?fa=[u]:fa.push(u),u=p;do{switch(u.tag){case 3:u.flags|=65536,t&=-t,u.lanes|=t;var M=gc(u,w,t);qu(u,M);break e;case 1:g=w;var E=u.type,L=u.stateNode;if((u.flags&128)===0&&(typeof E.getDerivedStateFromError=="function"||L!==null&&typeof L.componentDidCatch=="function"&&(rs===null||!rs.has(L)))){u.flags|=65536,t&=-t,u.lanes|=t;var ae=yc(u,g,t);qu(u,ae);break e}}u=u.return}while(u!==null)}Xc(n)}catch(Ce){t=Ce,_t===n&&n!==null&&(_t=n=n.return);continue}break}while(!0)}function Qc(){var e=yo.current;return yo.current=co,e===null?co:e}function Ql(){(Pt===0||Pt===3||Pt===2)&&(Pt=4),Mt===null||(Os&268435455)===0&&(xo&268435455)===0||as(Mt,Bt)}function ko(e,t){var n=nt;nt|=2;var i=Qc();(Mt!==e||Bt!==t)&&(Sr=null,Fs(e,t));do try{Nf();break}catch(o){Yc(e,o)}while(!0);if(ll(),nt=n,yo.current=i,_t!==null)throw Error(C(261));return Mt=null,Bt=0,Pt}function Nf(){for(;_t!==null;)Gc(_t)}function kf(){for(;_t!==null&&!xt();)Gc(_t)}function Gc(e){var t=ed(e.alternate,e,un);e.memoizedProps=e.pendingProps,t===null?Xc(e):_t=t,Bl.current=null}function Xc(e){var t=e;do{var n=t.alternate;if(e=t.return,(t.flags&32768)===0){if(n=gf(n,t,un),n!==null){_t=n;return}}else{if(n=yf(n,t),n!==null){n.flags&=32767,_t=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Pt=6,_t=null;return}}if(t=t.sibling,t!==null){_t=t;return}_t=t=e}while(t!==null);Pt===0&&(Pt=5)}function zs(e,t,n){var i=Je,o=hn.transition;try{hn.transition=null,Je=1,Sf(e,t,n,i)}finally{hn.transition=o,Je=i}return null}function Sf(e,t,n,i){do Ni();while(ss!==null);if((nt&6)!==0)throw Error(C(327));n=e.finishedWork;var o=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(C(177));e.callbackNode=null,e.callbackPriority=0;var u=n.lanes|n.childLanes;if(Ws(e,u),e===Mt&&(_t=Mt=null,Bt=0),(n.subtreeFlags&2064)===0&&(n.flags&2064)===0||wo||(wo=!0,td(Or,function(){return Ni(),null})),u=(n.flags&15990)!==0,(n.subtreeFlags&15990)!==0||u){u=hn.transition,hn.transition=null;var p=Je;Je=1;var g=nt;nt|=4,Bl.current=null,vf(e,n),Uc(n,e),O(Qo),js=!!Yo,Qo=Yo=null,e.current=n,wf(n),lr(),nt=g,Je=p,hn.transition=u}else e.current=n;if(wo&&(wo=!1,ss=e,bo=o),u=e.pendingLanes,u===0&&(rs=null),ka(n.stateNode),rn(e,it()),t!==null)for(i=e.onRecoverableError,n=0;n<t.length;n++)o=t[n],i(o.value,{componentStack:o.stack,digest:o.digest});if(vo)throw vo=!1,e=ql,ql=null,e;return(bo&1)!==0&&e.tag!==0&&Ni(),u=e.pendingLanes,(u&1)!==0?e===Vl?pa++:(pa=0,Vl=e):pa=0,Jr(),null}function Ni(){if(ss!==null){var e=Mi(bo),t=hn.transition,n=Je;try{if(hn.transition=null,Je=16>e?16:e,ss===null)var i=!1;else{if(e=ss,ss=null,bo=0,(nt&6)!==0)throw Error(C(331));var o=nt;for(nt|=4,je=e.current;je!==null;){var u=je,p=u.child;if((je.flags&16)!==0){var g=u.deletions;if(g!==null){for(var w=0;w<g.length;w++){var z=g[w];for(je=z;je!==null;){var ne=je;switch(ne.tag){case 0:case 11:case 15:ca(8,ne,u)}var re=ne.child;if(re!==null)re.return=ne,je=re;else for(;je!==null;){ne=je;var J=ne.sibling,ye=ne.return;if(Oc(ne),ne===z){je=null;break}if(J!==null){J.return=ye,je=J;break}je=ye}}}var ke=u.alternate;if(ke!==null){var _e=ke.child;if(_e!==null){ke.child=null;do{var kt=_e.sibling;_e.sibling=null,_e=kt}while(_e!==null)}}je=u}}if((u.subtreeFlags&2064)!==0&&p!==null)p.return=u,je=p;else e:for(;je!==null;){if(u=je,(u.flags&2048)!==0)switch(u.tag){case 0:case 11:case 15:ca(9,u,u.return)}var M=u.sibling;if(M!==null){M.return=u.return,je=M;break e}je=u.return}}var E=e.current;for(je=E;je!==null;){p=je;var L=p.child;if((p.subtreeFlags&2064)!==0&&L!==null)L.return=p,je=L;else e:for(p=E;je!==null;){if(g=je,(g.flags&2048)!==0)try{switch(g.tag){case 0:case 11:case 15:go(9,g)}}catch(Ce){jt(g,g.return,Ce)}if(g===p){je=null;break e}var ae=g.sibling;if(ae!==null){ae.return=g.return,je=ae;break e}je=g.return}}if(nt=o,Jr(),Wt&&typeof Wt.onPostCommitFiberRoot=="function")try{Wt.onPostCommitFiberRoot(gs,e)}catch{}i=!0}return i}finally{Je=n,hn.transition=t}}return!1}function Zc(e,t,n){t=vi(n,t),t=gc(e,t,1),e=ts(e,t,1),t=Xt(),e!==null&&(dr(e,1,t),rn(e,t))}function jt(e,t,n){if(e.tag===3)Zc(e,e,n);else for(;t!==null;){if(t.tag===3){Zc(t,e,n);break}else if(t.tag===1){var i=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(rs===null||!rs.has(i))){e=vi(n,e),e=yc(t,e,1),t=ts(t,e,1),e=Xt(),t!==null&&(dr(t,1,e),rn(t,e));break}}t=t.return}}function _f(e,t,n){var i=e.pingCache;i!==null&&i.delete(t),t=Xt(),e.pingedLanes|=e.suspendedLanes&n,Mt===e&&(Bt&n)===n&&(Pt===4||Pt===3&&(Bt&130023424)===Bt&&500>it()-Kl?Fs(e,0):Ul|=n),rn(e,t)}function Jc(e,t){t===0&&((e.mode&1)===0?t=1:(t=ys,ys<<=1,(ys&130023424)===0&&(ys=4194304)));var n=Xt();e=jr(e,t),e!==null&&(dr(e,t,n),rn(e,n))}function Cf(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Jc(e,n)}function Ef(e,t){var n=0;switch(e.tag){case 13:var i=e.stateNode,o=e.memoizedState;o!==null&&(n=o.retryLane);break;case 19:i=e.stateNode;break;default:throw Error(C(314))}i!==null&&i.delete(t),Jc(e,n)}var ed;ed=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Jt.current)tn=!0;else{if((e.lanes&n)===0&&(t.flags&128)===0)return tn=!1,hf(e,t,n);tn=(e.flags&131072)!==0}else tn=!1,yt&&(t.flags&1048576)!==0&&Du(t,Za,t.index);switch(t.lanes=0,t.tag){case 2:var i=t.type;mo(e,t),e=t.pendingProps;var o=di(t,qt.current);yi(t,n),o=vl(null,t,i,e,o,n);var u=wl();return t.flags|=1,typeof o=="object"&&o!==null&&typeof o.render=="function"&&o.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,en(i)?(u=!0,Qa(t)):u=!1,t.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,fl(t),o.updater=fo,t.stateNode=o,o._reactInternals=t,_l(t,i,e,n),t=Tl(null,t,i,!0,u,n)):(t.tag=0,yt&&u&&nl(t),Gt(null,t,o,n),t=t.child),t;case 16:i=t.elementType;e:{switch(mo(e,t),e=t.pendingProps,o=i._init,i=o(i._payload),t.type=i,o=t.tag=Tf(i),e=En(i,e),o){case 0:t=Pl(null,t,i,e,n);break e;case 1:t=_c(null,t,i,e,n);break e;case 11:t=bc(null,t,i,e,n);break e;case 14:t=jc(null,t,i,En(i.type,e),n);break e}throw Error(C(306,i,""))}return t;case 0:return i=t.type,o=t.pendingProps,o=t.elementType===i?o:En(i,o),Pl(e,t,i,o,n);case 1:return i=t.type,o=t.pendingProps,o=t.elementType===i?o:En(i,o),_c(e,t,i,o,n);case 3:e:{if(Cc(t),e===null)throw Error(C(387));i=t.pendingProps,u=t.memoizedState,o=u.element,Ku(e,t),so(t,i,null,n);var p=t.memoizedState;if(i=p.element,u.isDehydrated)if(u={element:i,isDehydrated:!1,cache:p.cache,pendingSuspenseBoundaries:p.pendingSuspenseBoundaries,transitions:p.transitions},t.updateQueue.baseState=u,t.memoizedState=u,t.flags&256){o=vi(Error(C(423)),t),t=Ec(e,t,i,n,o);break e}else if(i!==o){o=vi(Error(C(424)),t),t=Ec(e,t,i,n,o);break e}else for(ln=Gr(t.stateNode.containerInfo.firstChild),on=t,yt=!0,Cn=null,n=Bu(t,null,i,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(mi(),i===o){t=kr(e,t,n);break e}Gt(e,t,i,n)}t=t.child}return t;case 5:return $u(t),e===null&&il(t),i=t.type,o=t.pendingProps,u=e!==null?e.memoizedProps:null,p=o.children,Go(i,o)?p=null:u!==null&&Go(i,u)&&(t.flags|=32),Sc(e,t),Gt(e,t,p,n),t.child;case 6:return e===null&&il(t),null;case 13:return Pc(e,t,n);case 4:return pl(t,t.stateNode.containerInfo),i=t.pendingProps,e===null?t.child=hi(t,null,i,n):Gt(e,t,i,n),t.child;case 11:return i=t.type,o=t.pendingProps,o=t.elementType===i?o:En(i,o),bc(e,t,i,o,n);case 7:return Gt(e,t,t.pendingProps,n),t.child;case 8:return Gt(e,t,t.pendingProps.children,n),t.child;case 12:return Gt(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(i=t.type._context,o=t.pendingProps,u=t.memoizedProps,p=o.value,ft(to,i._currentValue),i._currentValue=p,u!==null)if(T(u.value,p)){if(u.children===o.children&&!Jt.current){t=kr(e,t,n);break e}}else for(u=t.child,u!==null&&(u.return=t);u!==null;){var g=u.dependencies;if(g!==null){p=u.child;for(var w=g.firstContext;w!==null;){if(w.context===i){if(u.tag===1){w=Nr(-1,n&-n),w.tag=2;var z=u.updateQueue;if(z!==null){z=z.shared;var ne=z.pending;ne===null?w.next=w:(w.next=ne.next,ne.next=w),z.pending=w}}u.lanes|=n,w=u.alternate,w!==null&&(w.lanes|=n),cl(u.return,n,t),g.lanes|=n;break}w=w.next}}else if(u.tag===10)p=u.type===t.type?null:u.child;else if(u.tag===18){if(p=u.return,p===null)throw Error(C(341));p.lanes|=n,g=p.alternate,g!==null&&(g.lanes|=n),cl(p,n,t),p=u.sibling}else p=u.child;if(p!==null)p.return=u;else for(p=u;p!==null;){if(p===t){p=null;break}if(u=p.sibling,u!==null){u.return=p.return,p=u;break}p=p.return}u=p}Gt(e,t,o.children,n),t=t.child}return t;case 9:return o=t.type,i=t.pendingProps.children,yi(t,n),o=pn(o),i=i(o),t.flags|=1,Gt(e,t,i,n),t.child;case 14:return i=t.type,o=En(i,t.pendingProps),o=En(i.type,o),jc(e,t,i,o,n);case 15:return Nc(e,t,t.type,t.pendingProps,n);case 17:return i=t.type,o=t.pendingProps,o=t.elementType===i?o:En(i,o),mo(e,t),t.tag=1,en(i)?(e=!0,Qa(t)):e=!1,yi(t,n),mc(t,i,o),_l(t,i,o,n),Tl(null,t,i,!0,e,n);case 19:return Rc(e,t,n);case 22:return kc(e,t,n)}throw Error(C(156,t.tag))};function td(e,t){return Ai(e,t)}function Pf(e,t,n,i){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function gn(e,t,n,i){return new Pf(e,t,n,i)}function Gl(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Tf(e){if(typeof e=="function")return Gl(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Ve)return 11;if(e===I)return 14}return 2}function os(e,t){var n=e.alternate;return n===null?(n=gn(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function So(e,t,n,i,o,u){var p=2;if(i=e,typeof e=="function")Gl(e)&&(p=1);else if(typeof e=="string")p=5;else e:switch(e){case x:return Bs(n.children,o,u,t);case se:p=8,o|=8;break;case de:return e=gn(12,n,t,o|2),e.elementType=de,e.lanes=u,e;case He:return e=gn(13,n,t,o),e.elementType=He,e.lanes=u,e;case Nt:return e=gn(19,n,t,o),e.elementType=Nt,e.lanes=u,e;case ve:return _o(n,o,u,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Ge:p=10;break e;case lt:p=9;break e;case Ve:p=11;break e;case I:p=14;break e;case U:p=16,i=null;break e}throw Error(C(130,e==null?e:typeof e,""))}return t=gn(p,n,t,o),t.elementType=e,t.type=i,t.lanes=u,t}function Bs(e,t,n,i){return e=gn(7,e,i,t),e.lanes=n,e}function _o(e,t,n,i){return e=gn(22,e,i,t),e.elementType=ve,e.lanes=n,e.stateNode={isHidden:!1},e}function Xl(e,t,n){return e=gn(6,e,null,t),e.lanes=n,e}function Zl(e,t,n){return t=gn(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Rf(e,t,n,i,o){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ws(0),this.expirationTimes=ws(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ws(0),this.identifierPrefix=i,this.onRecoverableError=o,this.mutableSourceEagerHydrationData=null}function Jl(e,t,n,i,o,u,p,g,w){return e=new Rf(e,t,n,g,w),t===1?(t=1,u===!0&&(t|=8)):t=0,u=gn(3,null,null,t),e.current=u,u.stateNode=e,u.memoizedState={element:i,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},fl(u),e}function Af(e,t,n){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ye,key:i==null?null:""+i,children:e,containerInfo:t,implementation:n}}function nd(e){if(!e)return Zr;e=e._reactInternals;e:{if(Kt(e)!==e||e.tag!==1)throw Error(C(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(en(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(C(171))}if(e.tag===1){var n=e.type;if(en(n))return Tu(e,n,t)}return t}function rd(e,t,n,i,o,u,p,g,w){return e=Jl(n,i,!0,e,o,u,p,g,w),e.context=nd(null),n=e.current,i=Xt(),o=is(n),u=Nr(i,o),u.callback=t??null,ts(n,u,o),e.current.lanes=o,dr(e,o,i),rn(e,i),e}function Co(e,t,n,i){var o=t.current,u=Xt(),p=is(o);return n=nd(n),t.context===null?t.context=n:t.pendingContext=n,t=Nr(u,p),t.payload={element:e},i=i===void 0?null:i,i!==null&&(t.callback=i),e=ts(o,t,p),e!==null&&(Rn(e,o,p,u),ro(e,o,p)),p}function Eo(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function sd(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function eu(e,t){sd(e,t),(e=e.alternate)&&sd(e,t)}function Df(){return null}var id=typeof reportError=="function"?reportError:function(e){console.error(e)};function tu(e){this._internalRoot=e}Po.prototype.render=tu.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(C(409));Co(e,t,null,null)},Po.prototype.unmount=tu.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Ls(function(){Co(null,e,null,null)}),t[xr]=null}};function Po(e){this._internalRoot=e}Po.prototype.unstable_scheduleHydration=function(e){if(e){var t=Ea();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Ct.length&&t!==0&&t<Ct[n].priority;n++);Ct.splice(n,0,e),n===0&&Ta(e)}};function nu(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function To(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function ad(){}function Mf(e,t,n,i,o){if(o){if(typeof i=="function"){var u=i;i=function(){var z=Eo(p);u.call(z)}}var p=rd(t,i,e,0,null,!1,!1,"",ad);return e._reactRootContainer=p,e[xr]=p.current,Xi(e.nodeType===8?e.parentNode:e),Ls(),p}for(;o=e.lastChild;)e.removeChild(o);if(typeof i=="function"){var g=i;i=function(){var z=Eo(w);g.call(z)}}var w=Jl(e,0,!1,null,null,!1,!1,"",ad);return e._reactRootContainer=w,e[xr]=w.current,Xi(e.nodeType===8?e.parentNode:e),Ls(function(){Co(t,w,n,i)}),w}function Ro(e,t,n,i,o){var u=n._reactRootContainer;if(u){var p=u;if(typeof o=="function"){var g=o;o=function(){var w=Eo(p);g.call(w)}}Co(t,p,e,o)}else p=Mf(n,t,e,o,i);return Eo(p)}Ca=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Lr(t.pendingLanes);n!==0&&(Ys(t,n|1),rn(t,it()),(nt&6)===0&&(ji=it()+500,Jr()))}break;case 13:Ls(function(){var i=jr(e,1);if(i!==null){var o=Xt();Rn(i,e,1,o)}}),eu(e,1)}},Qe=function(e){if(e.tag===13){var t=jr(e,134217728);if(t!==null){var n=Xt();Rn(t,e,134217728,n)}eu(e,134217728)}},Ii=function(e){if(e.tag===13){var t=is(e),n=jr(e,t);if(n!==null){var i=Xt();Rn(n,e,t,i)}eu(e,t)}},Ea=function(){return Je},Pa=function(e,t){var n=Je;try{return Je=e,t()}finally{Je=n}},fe=function(e,t,n){switch(t){case"input":if(Ci(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var i=n[t];if(i!==e&&i.form===e.form){var o=Wa(i);if(!o)throw Error(C(90));st(i),Ci(i,o)}}}break;case"textarea":Pi(e,n);break;case"select":t=n.value,t!=null&&Ot(e,!!n.multiple,t,!1)}},wa=Wl,ba=Ls;var If={usingClientEntryPoint:!1,Events:[ea,ui,Wa,Ti,Vs,Wl]},ma={findFiberByHostInstance:Ps,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Of={bundleType:ma.bundleType,version:ma.version,rendererPackageName:ma.rendererPackageName,rendererConfig:ma.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ke.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Ri(e),e===null?null:e.stateNode},findFiberByHostInstance:ma.findFiberByHostInstance||Df,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ao=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ao.isDisabled&&Ao.supportsFiber)try{gs=Ao.inject(Of),Wt=Ao}catch{}}return sn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=If,sn.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!nu(t))throw Error(C(200));return Af(e,t,null,n)},sn.createRoot=function(e,t){if(!nu(e))throw Error(C(299));var n=!1,i="",o=id;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(i=t.identifierPrefix),t.onRecoverableError!==void 0&&(o=t.onRecoverableError)),t=Jl(e,1,!1,null,null,n,!1,i,o),e[xr]=t.current,Xi(e.nodeType===8?e.parentNode:e),new tu(t)},sn.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(C(188)):(e=Object.keys(e).join(","),Error(C(268,e)));return e=Ri(t),e=e===null?null:e.stateNode,e},sn.flushSync=function(e){return Ls(e)},sn.hydrate=function(e,t,n){if(!To(t))throw Error(C(200));return Ro(null,e,t,!0,n)},sn.hydrateRoot=function(e,t,n){if(!nu(e))throw Error(C(405));var i=n!=null&&n.hydratedSources||null,o=!1,u="",p=id;if(n!=null&&(n.unstable_strictMode===!0&&(o=!0),n.identifierPrefix!==void 0&&(u=n.identifierPrefix),n.onRecoverableError!==void 0&&(p=n.onRecoverableError)),t=rd(t,null,e,1,n??null,o,!1,u,p),e[xr]=t.current,Xi(e),i)for(e=0;e<i.length;e++)n=i[e],o=n._getVersion,o=o(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,o]:t.mutableSourceEagerHydrationData.push(n,o);return new Po(t)},sn.render=function(e,t,n){if(!To(t))throw Error(C(200));return Ro(null,e,t,!1,n)},sn.unmountComponentAtNode=function(e){if(!To(e))throw Error(C(40));return e._reactRootContainer?(Ls(function(){Ro(null,null,e,!1,function(){e._reactRootContainer=null,e[xr]=null})}),!0):!1},sn.unstable_batchedUpdates=Wl,sn.unstable_renderSubtreeIntoContainer=function(e,t,n,i){if(!To(n))throw Error(C(200));if(e==null||e._reactInternals===void 0)throw Error(C(38));return Ro(e,t,n,!1,i)},sn.version="18.3.1-next-f1338f8080-20240426",sn}var md;function $f(){if(md)return iu.exports;md=1;function y(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(y)}catch(q){console.error(q)}}return y(),iu.exports=Vf(),iu.exports}var hd;function Hf(){if(hd)return Do;hd=1;var y=$f();return Do.createRoot=y.createRoot,Do.hydrateRoot=y.hydrateRoot,Do}var Wf=Hf(),he=mu();const ga=Dd(he);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yf=y=>y.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Qf=y=>y.replace(/^([A-Z])|[\s-_]+(\w)/g,(q,C,D)=>D?D.toUpperCase():C.toLowerCase()),gd=y=>{const q=Qf(y);return q.charAt(0).toUpperCase()+q.slice(1)},Md=(...y)=>y.filter((q,C,D)=>!!q&&q.trim()!==""&&D.indexOf(q)===C).join(" ").trim();/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Gf={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xf=he.forwardRef(({color:y="currentColor",size:q=24,strokeWidth:C=2,absoluteStrokeWidth:D,className:X="",children:$,iconNode:Q,...B},Z)=>he.createElement("svg",{ref:Z,...Gf,width:q,height:q,stroke:y,strokeWidth:D?Number(C)*24/Number(q):C,className:Md("lucide",X),...B},[...Q.map(([Y,ce])=>he.createElement(Y,ce)),...Array.isArray($)?$:[$]]));/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ze=(y,q)=>{const C=he.forwardRef(({className:D,...X},$)=>he.createElement(Xf,{ref:$,iconNode:q,className:Md(`lucide-${Yf(gd(y))}`,`lucide-${y}`,D),...X}));return C.displayName=gd(y),C};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zf=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],Jf=ze("bell",Zf);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ep=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],hu=ze("calendar",ep);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tp=[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],np=ze("camera",tp);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rp=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],yd=ze("check",rp);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sp=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],xd=ze("chevron-down",sp);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ip=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],vd=ze("chevron-up",ip);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ap=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],op=ze("circle-alert",ap);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lp=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],up=ze("circle-check-big",lp);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cp=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]],cu=ze("circle-user",cp);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dp=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],Id=ze("clock",dp);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fp=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],wd=ze("database",fp);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pp=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]],du=ze("download",pp);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mp=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]],hp=ze("ellipsis-vertical",mp);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gp=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],bd=ze("eye-off",gp);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yp=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],jd=ze("eye",yp);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xp=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],vp=ze("file-text",xp);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wp=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],bp=ze("funnel",wp);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jp=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],Np=ze("globe",jp);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kp=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],Od=ze("history",kp);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sp=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],_p=ze("key",Sp);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cp=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],Ep=ze("layout-dashboard",Cp);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pp=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],Tp=ze("lock",Pp);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rp=[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]],Ap=ze("log-in",Rp);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dp=[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]],Mp=ze("log-out",Dp);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ip=[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]],gu=ze("mail",Ip);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Op=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],Lp=ze("map-pin",Op);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fp=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],Oo=ze("package",Fp);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zp=[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]],Ld=ze("phone",zp);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bp=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],yu=ze("plus",Bp);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Up=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],Lo=ze("rotate-ccw",Up);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kp=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],fu=ze("save",Kp);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qp=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]],zo=ze("search",qp);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vp=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Fd=ze("settings",Vp);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $p=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],ya=ze("shield",$p);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hp=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],zd=ze("square-pen",Hp);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wp=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],Bd=ze("trash-2",Wp);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yp=[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]],Qp=ze("trending-down",Yp);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gp=[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]],Nd=ze("trending-up",Gp);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xp=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],kd=ze("triangle-alert",Xp);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zp=[["circle",{cx:"18",cy:"15",r:"3",key:"gjjjvw"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M10 15H6a4 4 0 0 0-4 4v2",key:"1nfge6"}],["path",{d:"m21.7 16.4-.9-.3",key:"12j9ji"}],["path",{d:"m15.2 13.9-.9-.3",key:"1fdjdi"}],["path",{d:"m16.6 18.7.3-.9",key:"heedtr"}],["path",{d:"m19.1 12.2.3-.9",key:"1af3ki"}],["path",{d:"m19.6 18.7-.4-1",key:"1x9vze"}],["path",{d:"m16.8 12.3-.4-1",key:"vqeiwj"}],["path",{d:"m14.3 16.6 1-.4",key:"1qlj63"}],["path",{d:"m20.7 13.8 1-.4",key:"1v5t8k"}]],Ud=ze("user-cog",Zp);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jp=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],em=ze("user-plus",Jp);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tm=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]],xu=ze("users",tm);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nm=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],us=ze("x",nm);var Io={exports:{}},rm=Io.exports,Sd;function sm(){return Sd||(Sd=1,(function(y,q){((C,D)=>{y.exports=D()})(rm,function(){var C=function(s,a){return(C=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(l,c){l.__proto__=c}:function(l,c){for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(l[d]=c[d])}))(s,a)},D=function(){return(D=Object.assign||function(s){for(var a,l=1,c=arguments.length;l<c;l++)for(var d in a=arguments[l])Object.prototype.hasOwnProperty.call(a,d)&&(s[d]=a[d]);return s}).apply(this,arguments)};function X(s,a,l){for(var c,d=0,f=a.length;d<f;d++)!c&&d in a||((c=c||Array.prototype.slice.call(a,0,d))[d]=a[d]);return s.concat(c||Array.prototype.slice.call(a))}var $=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:Ff,Q=Object.keys,B=Array.isArray;function Z(s,a){return typeof a=="object"&&Q(a).forEach(function(l){s[l]=a[l]}),s}typeof Promise>"u"||$.Promise||($.Promise=Promise);var Y=Object.getPrototypeOf,ce={}.hasOwnProperty;function A(s,a){return ce.call(s,a)}function H(s,a){typeof a=="function"&&(a=a(Y(s))),(typeof Reflect>"u"?Q:Reflect.ownKeys)(a).forEach(function(l){xe(s,l,a[l])})}var ee=Object.defineProperty;function xe(s,a,l,c){ee(s,a,Z(l&&A(l,"get")&&typeof l.get=="function"?{get:l.get,set:l.set,configurable:!0}:{value:l,configurable:!0,writable:!0},c))}function Me(s){return{from:function(a){return s.prototype=Object.create(a.prototype),xe(s.prototype,"constructor",s),{extend:H.bind(null,s.prototype)}}}}var Re=Object.getOwnPropertyDescriptor,Ne=[].slice;function Fe(s,a,l){return Ne.call(s,a,l)}function Ze(s,a){return a(s)}function Ke(s){if(!s)throw new Error("Assertion Failed")}function pt(s){$.setImmediate?setImmediate(s):setTimeout(s,0)}function Ye(s,a){if(typeof a=="string"&&A(s,a))return s[a];if(!a)return s;if(typeof a!="string"){for(var l=[],c=0,d=a.length;c<d;++c){var f=Ye(s,a[c]);l.push(f)}return l}var m,h=a.indexOf(".");return h===-1||(m=s[a.substr(0,h)])==null?void 0:Ye(m,a.substr(h+1))}function x(s,a,l){if(s&&a!==void 0&&!("isFrozen"in Object&&Object.isFrozen(s)))if(typeof a!="string"&&"length"in a){Ke(typeof l!="string"&&"length"in l);for(var c=0,d=a.length;c<d;++c)x(s,a[c],l[c])}else{var f,m,h=a.indexOf(".");h!==-1?(f=a.substr(0,h),(h=a.substr(h+1))===""?l===void 0?B(s)&&!isNaN(parseInt(f))?s.splice(f,1):delete s[f]:s[f]=l:x(m=(m=s[f])&&A(s,f)?m:s[f]={},h,l)):l===void 0?B(s)&&!isNaN(parseInt(a))?s.splice(a,1):delete s[a]:s[a]=l}}function se(s){var a,l={};for(a in s)A(s,a)&&(l[a]=s[a]);return l}var de=[].concat;function Ge(s){return de.apply([],s)}var V="BigUint64Array,BigInt64Array,Array,Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,FileSystemDirectoryHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(Ge([8,16,32,64].map(function(s){return["Int","Uint","Float"].map(function(a){return a+s+"Array"})}))).filter(function(s){return $[s]}),lt=new Set(V.map(function(s){return $[s]})),Ve=null;function He(s){return Ve=new WeakMap,s=(function a(l){if(!l||typeof l!="object")return l;var c=Ve.get(l);if(c)return c;if(B(l)){c=[],Ve.set(l,c);for(var d=0,f=l.length;d<f;++d)c.push(a(l[d]))}else if(lt.has(l.constructor))c=l;else{var m,h=Y(l);for(m in c=h===Object.prototype?{}:Object.create(h),Ve.set(l,c),l)A(l,m)&&(c[m]=a(l[m]))}return c})(s),Ve=null,s}var Nt={}.toString;function I(s){return Nt.call(s).slice(8,-1)}var U=typeof Symbol<"u"?Symbol.iterator:"@@iterator",ve=typeof U=="symbol"?function(s){var a;return s!=null&&(a=s[U])&&a.apply(s)}:function(){return null};function W(s,a){a=s.indexOf(a),0<=a&&s.splice(a,1)}var we={};function le(s){var a,l,c,d;if(arguments.length===1){if(B(s))return s.slice();if(this===we&&typeof s=="string")return[s];if(d=ve(s))for(l=[];!(c=d.next()).done;)l.push(c.value);else{if(s==null)return[s];if(typeof(a=s.length)!="number")return[s];for(l=new Array(a);a--;)l[a]=s[a]}}else for(a=arguments.length,l=new Array(a);a--;)l[a]=arguments[a];return l}var P=typeof Symbol<"u"?function(s){return s[Symbol.toStringTag]==="AsyncFunction"}:function(){return!1},V=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],Ut=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(V),Ee={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function Te(s,a){this.name=s,this.message=a}function qe(s,a){return s+". Errors: "+Object.keys(a).map(function(l){return a[l].toString()}).filter(function(l,c,d){return d.indexOf(l)===c}).join(`
`)}function Ue(s,a,l,c){this.failures=a,this.failedKeys=c,this.successCount=l,this.message=qe(s,a)}function et(s,a){this.name="BulkError",this.failures=Object.keys(a).map(function(l){return a[l]}),this.failuresByPos=a,this.message=qe(s,this.failures)}Me(Te).from(Error).extend({toString:function(){return this.name+": "+this.message}}),Me(Ue).from(Te),Me(et).from(Te);var tt=Ut.reduce(function(s,a){return s[a]=a+"Error",s},{}),ct=Te,be=Ut.reduce(function(s,a){var l=a+"Error";function c(d,f){this.name=l,d?typeof d=="string"?(this.message="".concat(d).concat(f?`
 `+f:""),this.inner=f||null):typeof d=="object"&&(this.message="".concat(d.name," ").concat(d.message),this.inner=d):(this.message=Ee[a]||l,this.inner=null)}return Me(c).from(ct),s[a]=c,s},{}),ds=(be.Syntax=SyntaxError,be.Type=TypeError,be.Range=RangeError,V.reduce(function(s,a){return s[a+"Error"]=be[a],s},{}));V=Ut.reduce(function(s,a){return["Syntax","Type","Range"].indexOf(a)===-1&&(s[a+"Error"]=be[a]),s},{});function st(){}function An(s){return s}function _i(s,a){return s==null||s===An?a:function(l){return a(s(l))}}function Dn(s,a){return function(){s.apply(this,arguments),a.apply(this,arguments)}}function xa(s,a){return s===st?a:function(){var l=s.apply(this,arguments),c=(l!==void 0&&(arguments[0]=l),this.onsuccess),d=this.onerror,f=(this.onsuccess=null,this.onerror=null,a.apply(this,arguments));return c&&(this.onsuccess=this.onsuccess?Dn(c,this.onsuccess):c),d&&(this.onerror=this.onerror?Dn(d,this.onerror):d),f!==void 0?f:l}}function Ci(s,a){return s===st?a:function(){s.apply(this,arguments);var l=this.onsuccess,c=this.onerror;this.onsuccess=this.onerror=null,a.apply(this,arguments),l&&(this.onsuccess=this.onsuccess?Dn(l,this.onsuccess):l),c&&(this.onerror=this.onerror?Dn(c,this.onerror):c)}}function va(s,a){return s===st?a:function(d){var c=s.apply(this,arguments),d=(Z(d,c),this.onsuccess),f=this.onerror,m=(this.onsuccess=null,this.onerror=null,a.apply(this,arguments));return d&&(this.onsuccess=this.onsuccess?Dn(d,this.onsuccess):d),f&&(this.onerror=this.onerror?Dn(f,this.onerror):f),c===void 0?m===void 0?void 0:m:Z(c,m)}}function Ei(s,a){return s===st?a:function(){return a.apply(this,arguments)!==!1&&s.apply(this,arguments)}}function Jn(s,a){return s===st?a:function(){var l=s.apply(this,arguments);if(l&&typeof l.then=="function"){for(var c=this,d=arguments.length,f=new Array(d);d--;)f[d]=arguments[d];return l.then(function(){return a.apply(c,f)})}return a.apply(this,arguments)}}V.ModifyError=Ue,V.DexieError=Te,V.BulkError=et;var Ot=typeof location<"u"&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function Us(s){Ot=s}var Er={},Pi=100,Pr=typeof Promise>"u"?[]:(Ut=Promise.resolve(),typeof crypto<"u"&&crypto.subtle?[Pr=crypto.subtle.digest("SHA-512",new Uint8Array([0])),Y(Pr),Ut]:[Ut,Y(Ut),Ut]),Ut=Pr[0],hr=Pr[1],hr=hr&&hr.then,yn=Ut&&Ut.constructor,Tr=!!Pr[2],Rr=function(s,a){nr.push([s,a]),Mn&&(queueMicrotask(ba),Mn=!1)},er=!0,Mn=!0,tr=[],fs=[],Ks=An,In={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:st,pgp:!1,env:{},finalize:st},Se=In,nr=[],xn=0,Ar=[];function fe(s){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");this._listeners=[],this._lib=!1;var a=this._PSD=Se;if(typeof s!="function"){if(s!==Er)throw new TypeError("Not a function");this._state=arguments[1],this._value=arguments[2],this._state===!1&&qs(this,this._value)}else this._state=null,this._value=null,++a.ref,(function l(c,d){try{d(function(f){if(c._state===null){if(f===c)throw new TypeError("A promise cannot be resolved with itself.");var m=c._lib&&Ln();f&&typeof f.then=="function"?l(c,function(h,k){f instanceof fe?f._then(h,k):f.then(h,k)}):(c._state=!0,c._value=f,Ti(c)),m&&sr()}},qs.bind(null,c))}catch(f){qs(c,f)}})(this,s)}var On={get:function(){var s=Se,a=Mr;function l(c,d){var f=this,m=!s.global&&(s!==Se||a!==Mr),h=m&&!Kt(),k=new fe(function(T,b){Vs(f,new rr(Ai(c,s,m,h),Ai(d,s,m,h),T,b,s))});return this._consoleTask&&(k._consoleTask=this._consoleTask),k}return l.prototype=Er,l},set:function(s){xe(this,"then",s&&s.prototype===Er?On:{get:function(){return s},set:On.set})}};function rr(s,a,l,c,d){this.onFulfilled=typeof s=="function"?s:null,this.onRejected=typeof a=="function"?a:null,this.resolve=l,this.reject=c,this.psd=d}function qs(s,a){var l,c;fs.push(a),s._state===null&&(l=s._lib&&Ln(),a=Ks(a),s._state=!1,s._value=a,c=s,tr.some(function(d){return d._value===c._value})||tr.push(c),Ti(s),l)&&sr()}function Ti(s){var a=s._listeners;s._listeners=[];for(var l=0,c=a.length;l<c;++l)Vs(s,a[l]);var d=s._PSD;--d.ref||d.finalize(),xn===0&&(++xn,Rr(function(){--xn==0&&ir()},[]))}function Vs(s,a){if(s._state===null)s._listeners.push(a);else{var l=s._state?a.onFulfilled:a.onRejected;if(l===null)return(s._state?a.resolve:a.reject)(s._value);++a.psd.ref,++xn,Rr(wa,[l,s,a])}}function wa(s,a,l){try{var c,d=a._value;!a._state&&fs.length&&(fs=[]),c=Ot&&a._consoleTask?a._consoleTask.run(function(){return s(d)}):s(d),a._state||fs.indexOf(d)!==-1||(f=>{for(var m=tr.length;m;)if(tr[--m]._value===f._value)return tr.splice(m,1)})(a),l.resolve(c)}catch(f){l.reject(f)}finally{--xn==0&&ir(),--l.psd.ref||l.psd.finalize()}}function ba(){Bn(In,function(){Ln()&&sr()})}function Ln(){var s=er;return Mn=er=!1,s}function sr(){var s,a,l;do for(;0<nr.length;)for(s=nr,nr=[],l=s.length,a=0;a<l;++a){var c=s[a];c[0].apply(null,c[1])}while(0<nr.length);Mn=er=!0}function ir(){for(var s=tr,a=(tr=[],s.forEach(function(c){c._PSD.onunhandled.call(null,c._value,c)}),Ar.slice(0)),l=a.length;l;)a[--l]()}function Dr(s){return new fe(Er,!1,s)}function ot(s,a){var l=Se;return function(){var c=Ln(),d=Se;try{return zn(l,!0),s.apply(this,arguments)}catch(f){a&&a(f)}finally{zn(d,!1),c&&sr()}}}H(fe.prototype,{then:On,_then:function(s,a){Vs(this,new rr(null,null,s,a,Se))},catch:function(s){var a,l;return arguments.length===1?this.then(null,s):(a=s,l=arguments[1],typeof a=="function"?this.then(null,function(c){return(c instanceof a?l:Dr)(c)}):this.then(null,function(c){return(c&&c.name===a?l:Dr)(c)}))},finally:function(s){return this.then(function(a){return fe.resolve(s()).then(function(){return a})},function(a){return fe.resolve(s()).then(function(){return Dr(a)})})},timeout:function(s,a){var l=this;return s<1/0?new fe(function(c,d){var f=setTimeout(function(){return d(new be.Timeout(a))},s);l.then(c,d).finally(clearTimeout.bind(null,f))}):this}}),typeof Symbol<"u"&&Symbol.toStringTag&&xe(fe.prototype,Symbol.toStringTag,"Dexie.Promise"),In.env=Ri(),H(fe,{all:function(){var s=le.apply(null,arguments).map(ms);return new fe(function(a,l){s.length===0&&a([]);var c=s.length;s.forEach(function(d,f){return fe.resolve(d).then(function(m){s[f]=m,--c||a(s)},l)})})},resolve:function(s){return s instanceof fe?s:s&&typeof s.then=="function"?new fe(function(a,l){s.then(a,l)}):new fe(Er,!0,s)},reject:Dr,race:function(){var s=le.apply(null,arguments).map(ms);return new fe(function(a,l){s.map(function(c){return fe.resolve(c).then(a,l)})})},PSD:{get:function(){return Se},set:function(s){return Se=s}},totalEchoes:{get:function(){return Mr}},newPSD:Fn,usePSD:Bn,scheduler:{get:function(){return Rr},set:function(s){Rr=s}},rejectionMapper:{get:function(){return Ks},set:function(s){Ks=s}},follow:function(s,a){return new fe(function(l,c){return Fn(function(d,f){var m=Se;m.unhandleds=[],m.onunhandled=f,m.finalize=Dn(function(){var h,k=this;h=function(){k.unhandleds.length===0?d():f(k.unhandleds[0])},Ar.push(function T(){h(),Ar.splice(Ar.indexOf(T),1)}),++xn,Rr(function(){--xn==0&&ir()},[])},m.finalize),s()},a,l,c)})}}),yn&&(yn.allSettled&&xe(fe,"allSettled",function(){var s=le.apply(null,arguments).map(ms);return new fe(function(a){s.length===0&&a([]);var l=s.length,c=new Array(l);s.forEach(function(d,f){return fe.resolve(d).then(function(m){return c[f]={status:"fulfilled",value:m}},function(m){return c[f]={status:"rejected",reason:m}}).then(function(){return--l||a(c)})})})}),yn.any&&typeof AggregateError<"u"&&xe(fe,"any",function(){var s=le.apply(null,arguments).map(ms);return new fe(function(a,l){s.length===0&&l(new AggregateError([]));var c=s.length,d=new Array(c);s.forEach(function(f,m){return fe.resolve(f).then(function(h){return a(h)},function(h){d[m]=h,--c||l(new AggregateError(d))})})})}),yn.withResolvers)&&(fe.withResolvers=yn.withResolvers);var St={awaits:0,echoes:0,id:0},ps=0,ar=[],or=0,Mr=0,Bo=0;function Fn(s,m,l,c){var d=Se,f=Object.create(d),m=(f.parent=d,f.ref=0,f.global=!1,f.id=++Bo,In.env,f.env=Tr?{Promise:fe,PromiseProp:{value:fe,configurable:!0,writable:!0},all:fe.all,race:fe.race,allSettled:fe.allSettled,any:fe.any,resolve:fe.resolve,reject:fe.reject}:{},m&&Z(f,m),++d.ref,f.finalize=function(){--this.parent.ref||this.parent.finalize()},Bn(f,s,l,c));return f.ref===0&&f.finalize(),m}function Ir(){return St.id||(St.id=++ps),++St.awaits,St.echoes+=Pi,St.id}function Kt(){return!!St.awaits&&(--St.awaits==0&&(St.id=0),St.echoes=St.awaits*Pi,!0)}function ms(s){return St.echoes&&s&&s.constructor===yn?(Ir(),s.then(function(a){return Kt(),a},function(a){return Kt(),xt(a)})):s}function ja(){var s=ar[ar.length-1];ar.pop(),zn(s,!1)}function zn(s,a){var l,c,d=Se;(a?!St.echoes||or++&&s===Se:!or||--or&&s===Se)||queueMicrotask(a?function(f){++Mr,St.echoes&&--St.echoes!=0||(St.echoes=St.awaits=St.id=0),ar.push(Se),zn(f,!0)}.bind(null,s):ja),s!==Se&&(Se=s,d===In&&(In.env=Ri()),Tr)&&(l=In.env.Promise,c=s.env,d.global||s.global)&&(Object.defineProperty($,"Promise",c.PromiseProp),l.all=c.all,l.race=c.race,l.resolve=c.resolve,l.reject=c.reject,c.allSettled&&(l.allSettled=c.allSettled),c.any)&&(l.any=c.any)}function Ri(){var s=$.Promise;return Tr?{Promise:s,PromiseProp:Object.getOwnPropertyDescriptor($,"Promise"),all:s.all,race:s.race,allSettled:s.allSettled,any:s.any,resolve:s.resolve,reject:s.reject}:{}}function Bn(s,a,l,c,d){var f=Se;try{return zn(s,!0),a(l,c,d)}finally{zn(f,!1)}}function Ai(s,a,l,c){return typeof s!="function"?s:function(){var d=Se;l&&Ir(),zn(a,!0);try{return s.apply(this,arguments)}finally{zn(d,!1),c&&queueMicrotask(Kt)}}}function $s(s){Promise===yn&&St.echoes===0?or===0?s():enqueueNativeMicroTask(s):setTimeout(s,0)}(""+hr).indexOf("[native code]")===-1&&(Ir=Kt=st);var xt=fe.reject,lr="",it="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",Na="String expected.",Un=[],hs="__dbnames",Or="readonly",Di="readwrite";function Kn(s,a){return s?a?function(){return s.apply(this,arguments)&&a.apply(this,arguments)}:s:a}var gs={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function Wt(s){return typeof s!="string"||/\./.test(s)?function(a){return a}:function(a){return a[s]===void 0&&s in a&&delete(a=He(a))[s],a}}function ka(){throw be.Type("Entity instances must never be new:ed. Instances are generated by the framework bypassing the constructor.")}function Oe(s,a){try{var l=Sa(s),c=Sa(a);if(l!==c)return l==="Array"?1:c==="Array"?-1:l==="binary"?1:c==="binary"?-1:l==="string"?1:c==="string"?-1:l==="Date"?1:c!=="Date"?NaN:-1;switch(l){case"number":case"Date":case"string":return a<s?1:s<a?-1:0;case"binary":for(var d=_a(s),f=_a(a),m=d.length,h=f.length,k=m<h?m:h,T=0;T<k;++T)if(d[T]!==f[T])return d[T]<f[T]?-1:1;return m===h?0:m<h?-1:1;case"Array":for(var b=s,v=a,S=b.length,_=v.length,N=S<_?S:_,j=0;j<N;++j){var O=Oe(b[j],v[j]);if(O!==0)return O}return S===_?0:S<_?-1:1}}catch{}return NaN}function Sa(s){var a=typeof s;return a=="object"&&(ArrayBuffer.isView(s)||(a=I(s))==="ArrayBuffer")?"binary":a}function _a(s){return s instanceof Uint8Array?s:ArrayBuffer.isView(s)?new Uint8Array(s.buffer,s.byteOffset,s.byteLength):new Uint8Array(s)}function Hs(s,a,l){var c=s.schema.yProps;return c?(a&&0<l.numFailures&&(a=a.filter(function(d,f){return!l.failures[f]})),Promise.all(c.map(function(d){return d=d.updatesTable,a?s.db.table(d).where("k").anyOf(a).delete():s.db.table(d).clear()})).then(function(){return l})):l}ys.prototype.execute=function(s){var a=this["@@propmod"];if(a.add!==void 0){var l=a.add;if(B(l))return X(X([],B(s)?s:[],!0),l).sort();if(typeof l=="number")return(Number(s)||0)+l;if(typeof l=="bigint")try{return BigInt(s)+l}catch{return BigInt(0)+l}throw new TypeError("Invalid term ".concat(l))}if(a.remove!==void 0){var c=a.remove;if(B(c))return B(s)?s.filter(function(d){return!c.includes(d)}).sort():[];if(typeof c=="number")return Number(s)-c;if(typeof c=="bigint")try{return BigInt(s)-c}catch{return BigInt(0)-c}throw new TypeError("Invalid subtrahend ".concat(c))}return l=(l=a.replacePrefix)==null?void 0:l[0],l&&typeof s=="string"&&s.startsWith(l)?a.replacePrefix[1]+s.substring(l.length):s};var qn=ys;function ys(s){this["@@propmod"]=s}function Lr(s,a){for(var l=Q(a),c=l.length,d=!1,f=0;f<c;++f){var m=l[f],h=a[m],k=Ye(s,m);h instanceof qn?(x(s,m,h.execute(k)),d=!0):k!==h&&(x(s,m,h),d=!0)}return d}ut.prototype._trans=function(s,a,l){var c=this._tx||Se.trans,d=this.name,f=Ot&&typeof console<"u"&&console.createTask&&console.createTask("Dexie: ".concat(s==="readonly"?"read":"write"," ").concat(this.name));function m(T,b,v){if(v.schema[d])return a(v.idbtrans,v);throw new be.NotFound("Table "+d+" not part of transaction")}var h=Ln();try{var k=c&&c.db._novip===this.db._novip?c===Se.trans?c._promise(s,m,l):Fn(function(){return c._promise(s,m,l)},{trans:c,transless:Se.transless||Se}):(function T(b,v,S,_){if(b.idbdb&&(b._state.openComplete||Se.letThrough||b._vip)){var N=b._createTransaction(v,S,b._dbSchema);try{N.create(),b._state.PR1398_maxLoop=3}catch(j){return j.name===tt.InvalidState&&b.isOpen()&&0<--b._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),b.close({disableAutoOpen:!1}),b.open().then(function(){return T(b,v,S,_)})):xt(j)}return N._promise(v,function(j,O){return Fn(function(){return Se.trans=N,_(j,O,N)})}).then(function(j){if(v==="readwrite")try{N.idbtrans.commit()}catch{}return v==="readonly"?j:N._completion.then(function(){return j})})}if(b._state.openComplete)return xt(new be.DatabaseClosed(b._state.dbOpenError));if(!b._state.isBeingOpened){if(!b._state.autoOpen)return xt(new be.DatabaseClosed);b.open().catch(st)}return b._state.dbReadyPromise.then(function(){return T(b,v,S,_)})})(this.db,s,[this.name],m);return f&&(k._consoleTask=f,k=k.catch(function(T){return console.trace(T),xt(T)})),k}finally{h&&sr()}},ut.prototype.get=function(s,a){var l=this;return s&&s.constructor===Object?this.where(s).first(a):s==null?xt(new be.Type("Invalid argument to Table.get()")):this._trans("readonly",function(c){return l.core.get({trans:c,key:s}).then(function(d){return l.hook.reading.fire(d)})}).then(a)},ut.prototype.where=function(s){if(typeof s=="string")return new this.db.WhereClause(this,s);if(B(s))return new this.db.WhereClause(this,"[".concat(s.join("+"),"]"));var a=Q(s);if(a.length===1)return this.where(a[0]).equals(s[a[0]]);var l=this.schema.indexes.concat(this.schema.primKey).filter(function(h){if(h.compound&&a.every(function(T){return 0<=h.keyPath.indexOf(T)})){for(var k=0;k<a.length;++k)if(a.indexOf(h.keyPath[k])===-1)return!1;return!0}return!1}).sort(function(h,k){return h.keyPath.length-k.keyPath.length})[0];if(l&&this.db._maxKey!==lr)return m=l.keyPath.slice(0,a.length),this.where(m).equals(m.map(function(h){return s[h]}));!l&&Ot&&console.warn("The query ".concat(JSON.stringify(s)," on ").concat(this.name," would benefit from a ")+"compound index [".concat(a.join("+"),"]"));var c=this.schema.idxByName;function d(h,k){return Oe(h,k)===0}var m=a.reduce(function(b,k){var T=b[0],b=b[1],v=c[k],S=s[k];return[T||v,T||!v?Kn(b,v&&v.multi?function(_){return _=Ye(_,k),B(_)&&_.some(function(N){return d(S,N)})}:function(_){return d(S,Ye(_,k))}):b]},[null,null]),f=m[0],m=m[1];return f?this.where(f.name).equals(s[f.keyPath]).filter(m):l?this.filter(m):this.where(a).equals("")},ut.prototype.filter=function(s){return this.toCollection().and(s)},ut.prototype.count=function(s){return this.toCollection().count(s)},ut.prototype.offset=function(s){return this.toCollection().offset(s)},ut.prototype.limit=function(s){return this.toCollection().limit(s)},ut.prototype.each=function(s){return this.toCollection().each(s)},ut.prototype.toArray=function(s){return this.toCollection().toArray(s)},ut.prototype.toCollection=function(){return new this.db.Collection(new this.db.WhereClause(this))},ut.prototype.orderBy=function(s){return new this.db.Collection(new this.db.WhereClause(this,B(s)?"[".concat(s.join("+"),"]"):s))},ut.prototype.reverse=function(){return this.toCollection().reverse()},ut.prototype.mapToClass=function(s){for(var a=this.db,l=this.name,c=((this.schema.mappedClass=s).prototype instanceof ka&&(s=(m=>{var h=b,k=m;if(typeof k!="function"&&k!==null)throw new TypeError("Class extends value "+String(k)+" is not a constructor or null");function T(){this.constructor=h}function b(){return m!==null&&m.apply(this,arguments)||this}return C(h,k),h.prototype=k===null?Object.create(k):(T.prototype=k.prototype,new T),Object.defineProperty(b.prototype,"db",{get:function(){return a},enumerable:!1,configurable:!0}),b.prototype.table=function(){return l},b})(s)),new Set),d=s.prototype;d;d=Y(d))Object.getOwnPropertyNames(d).forEach(function(m){return c.add(m)});function f(m){if(!m)return m;var h,k=Object.create(s.prototype);for(h in m)if(!c.has(h))try{k[h]=m[h]}catch{}return k}return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=f,this.hook("reading",f),s},ut.prototype.defineClass=function(){return this.mapToClass(function(s){Z(this,s)})},ut.prototype.add=function(s,a){var l=this,c=this.schema.primKey,d=c.auto,f=c.keyPath,m=s;return f&&d&&(m=Wt(f)(s)),this._trans("readwrite",function(h){return l.core.mutate({trans:h,type:"add",keys:a!=null?[a]:null,values:[m]})}).then(function(h){return h.numFailures?fe.reject(h.failures[0]):h.lastResult}).then(function(h){if(f)try{x(s,f,h)}catch{}return h})},ut.prototype.upsert=function(s,a){var l=this,c=this.schema.primKey.keyPath;return this._trans("readwrite",function(d){return l.core.get({trans:d,key:s}).then(function(f){var m=f??{};return Lr(m,a),c&&x(m,c,s),l.core.mutate({trans:d,type:"put",values:[m],keys:[s],upsert:!0,updates:{keys:[s],changeSpecs:[a]}}).then(function(h){return h.numFailures?fe.reject(h.failures[0]):!!f})})})},ut.prototype.update=function(s,a){return typeof s!="object"||B(s)?this.where(":id").equals(s).modify(a):(s=Ye(s,this.schema.primKey.keyPath))===void 0?xt(new be.InvalidArgument("Given object does not contain its primary key")):this.where(":id").equals(s).modify(a)},ut.prototype.put=function(s,a){var l=this,c=this.schema.primKey,d=c.auto,f=c.keyPath,m=s;return f&&d&&(m=Wt(f)(s)),this._trans("readwrite",function(h){return l.core.mutate({trans:h,type:"put",values:[m],keys:a!=null?[a]:null})}).then(function(h){return h.numFailures?fe.reject(h.failures[0]):h.lastResult}).then(function(h){if(f)try{x(s,f,h)}catch{}return h})},ut.prototype.delete=function(s){var a=this;return this._trans("readwrite",function(l){return a.core.mutate({trans:l,type:"delete",keys:[s]}).then(function(c){return Hs(a,[s],c)}).then(function(c){return c.numFailures?fe.reject(c.failures[0]):void 0})})},ut.prototype.clear=function(){var s=this;return this._trans("readwrite",function(a){return s.core.mutate({trans:a,type:"deleteRange",range:gs}).then(function(l){return Hs(s,null,l)})}).then(function(a){return a.numFailures?fe.reject(a.failures[0]):void 0})},ut.prototype.bulkGet=function(s){var a=this;return this._trans("readonly",function(l){return a.core.getMany({keys:s,trans:l}).then(function(c){return c.map(function(d){return a.hook.reading.fire(d)})})})},ut.prototype.bulkAdd=function(s,a,l){var c=this,d=Array.isArray(a)?a:void 0,f=(l=l||(d?void 0:a))?l.allKeys:void 0;return this._trans("readwrite",function(m){var h=c.schema.primKey,T=h.auto,h=h.keyPath;if(h&&d)throw new be.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(d&&d.length!==s.length)throw new be.InvalidArgument("Arguments objects and keys must have the same length");var k=s.length,T=h&&T?s.map(Wt(h)):s;return c.core.mutate({trans:m,type:"add",keys:d,values:T,wantResults:f}).then(function(b){var v=b.numFailures,S=b.failures;if(v===0)return f?b.results:b.lastResult;throw new et("".concat(c.name,".bulkAdd(): ").concat(v," of ").concat(k," operations failed"),S)})})},ut.prototype.bulkPut=function(s,a,l){var c=this,d=Array.isArray(a)?a:void 0,f=(l=l||(d?void 0:a))?l.allKeys:void 0;return this._trans("readwrite",function(m){var h=c.schema.primKey,T=h.auto,h=h.keyPath;if(h&&d)throw new be.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(d&&d.length!==s.length)throw new be.InvalidArgument("Arguments objects and keys must have the same length");var k=s.length,T=h&&T?s.map(Wt(h)):s;return c.core.mutate({trans:m,type:"put",keys:d,values:T,wantResults:f}).then(function(b){var v=b.numFailures,S=b.failures;if(v===0)return f?b.results:b.lastResult;throw new et("".concat(c.name,".bulkPut(): ").concat(v," of ").concat(k," operations failed"),S)})})},ut.prototype.bulkUpdate=function(s){var a=this,l=this.core,c=s.map(function(m){return m.key}),d=s.map(function(m){return m.changes}),f=[];return this._trans("readwrite",function(m){return l.getMany({trans:m,keys:c,cache:"clone"}).then(function(h){var k=[],T=[],b=(s.forEach(function(v,S){var _=v.key,N=v.changes,j=h[S];if(j){for(var O=0,F=Object.keys(N);O<F.length;O++){var R=F[O],K=N[R];if(R===a.schema.primKey.keyPath){if(Oe(K,_)!==0)throw new be.Constraint("Cannot update primary key in bulkUpdate()")}else x(j,R,K)}f.push(S),k.push(_),T.push(j)}}),k.length);return l.mutate({trans:m,type:"put",keys:k,values:T,updates:{keys:c,changeSpecs:d}}).then(function(v){var S=v.numFailures,_=v.failures;if(S===0)return b;for(var N=0,j=Object.keys(_);N<j.length;N++){var O,F=j[N],R=f[Number(F)];R!=null&&(O=_[F],delete _[F],_[R]=O)}throw new et("".concat(a.name,".bulkUpdate(): ").concat(S," of ").concat(b," operations failed"),_)})})})},ut.prototype.bulkDelete=function(s){var a=this,l=s.length;return this._trans("readwrite",function(c){return a.core.mutate({trans:c,type:"delete",keys:s}).then(function(d){return Hs(a,s,d)})}).then(function(c){var d=c.numFailures,f=c.failures;if(d===0)return c.lastResult;throw new et("".concat(a.name,".bulkDelete(): ").concat(d," of ").concat(l," operations failed"),f)})};var xs=ut;function ut(){}function vs(s){function a(m,h){if(h){for(var k=arguments.length,T=new Array(k-1);--k;)T[k-1]=arguments[k];return l[m].subscribe.apply(null,T),s}if(typeof m=="string")return l[m]}var l={};a.addEventType=f;for(var c=1,d=arguments.length;c<d;++c)f(arguments[c]);return a;function f(m,h,k){var T,b;if(typeof m!="object")return h=h||Ei,b={subscribers:[],fire:k=k||st,subscribe:function(v){b.subscribers.indexOf(v)===-1&&(b.subscribers.push(v),b.fire=h(b.fire,v))},unsubscribe:function(v){b.subscribers=b.subscribers.filter(function(S){return S!==v}),b.fire=b.subscribers.reduce(h,k)}},l[m]=a[m]=b;Q(T=m).forEach(function(v){var S=T[v];if(B(S))f(v,T[v][0],T[v][1]);else{if(S!=="asap")throw new be.InvalidArgument("Invalid event config");var _=f(v,An,function(){for(var N=arguments.length,j=new Array(N);N--;)j[N]=arguments[N];_.subscribers.forEach(function(O){pt(function(){O.apply(null,j)})})})}})}}function ur(s,a){return Me(a).from({prototype:s}),a}function cr(s,a){return!(s.filter||s.algorithm||s.or)&&(a?s.justLimit:!s.replayFilter)}function ws(s,a){s.filter=Kn(s.filter,a)}function dr(s,a,l){var c=s.replayFilter;s.replayFilter=c?function(){return Kn(c(),a())}:a,s.justLimit=l&&!c}function Ws(s,a){if(s.isPrimKey)return a.primaryKey;var l=a.getIndexByKeyPath(s.index);if(l)return l;throw new be.Schema("KeyPath "+s.index+" on object store "+a.name+" is not indexed")}function Ys(s,a,l){var c=Ws(s,a.schema);return a.openCursor({trans:l,values:!s.keysOnly,reverse:s.dir==="prev",unique:!!s.unique,query:{index:c,range:s.range}})}function Je(s,a,l,c){var d,f,m=s.replayFilter?Kn(s.filter,s.replayFilter()):s.filter;return s.or?(d={},f=function(h,k,T){var b,v;m&&!m(k,T,function(S){return k.stop(S)},function(S){return k.fail(S)})||((v=""+(b=k.primaryKey))=="[object ArrayBuffer]"&&(v=""+new Uint8Array(b)),A(d,v))||(d[v]=!0,a(h,k,T))},Promise.all([s.or._iterate(f,l),Mi(Ys(s,c,l),s.algorithm,f,!s.keysOnly&&s.valueMapper)])):Mi(Ys(s,c,l),Kn(s.algorithm,m),a,!s.keysOnly&&s.valueMapper)}function Mi(s,a,l,c){var d=ot(c?function(f,m,h){return l(c(f),m,h)}:l);return s.then(function(f){if(f)return f.start(function(){var m=function(){return f.continue()};a&&!a(f,function(h){return m=h},function(h){f.stop(h),m=st},function(h){f.fail(h),m=st})||d(f.value,f,function(h){return m=h}),m()})})}Qe.prototype._read=function(s,a){var l=this._ctx;return l.error?l.table._trans(null,xt.bind(null,l.error)):l.table._trans("readonly",s).then(a)},Qe.prototype._write=function(s){var a=this._ctx;return a.error?a.table._trans(null,xt.bind(null,a.error)):a.table._trans("readwrite",s,"locked")},Qe.prototype._addAlgorithm=function(s){var a=this._ctx;a.algorithm=Kn(a.algorithm,s)},Qe.prototype._iterate=function(s,a){return Je(this._ctx,s,a,this._ctx.table.core)},Qe.prototype.clone=function(s){var a=Object.create(this.constructor.prototype),l=Object.create(this._ctx);return s&&Z(l,s),a._ctx=l,a},Qe.prototype.raw=function(){return this._ctx.valueMapper=null,this},Qe.prototype.each=function(s){var a=this._ctx;return this._read(function(l){return Je(a,s,l,a.table.core)})},Qe.prototype.count=function(s){var a=this;return this._read(function(l){var c,d=a._ctx,f=d.table.core;return cr(d,!0)?f.count({trans:l,query:{index:Ws(d,f.schema),range:d.range}}).then(function(m){return Math.min(m,d.limit)}):(c=0,Je(d,function(){return++c,!1},l,f).then(function(){return c}))}).then(s)},Qe.prototype.sortBy=function(s,a){var l=s.split(".").reverse(),c=l[0],d=l.length-1;function f(k,T){return T?f(k[l[T]],T-1):k[c]}var m=this._ctx.dir==="next"?1:-1;function h(k,T){return Oe(f(k,d),f(T,d))*m}return this.toArray(function(k){return k.sort(h)}).then(a)},Qe.prototype.toArray=function(s){var a=this;return this._read(function(l){var c,d,f,m=a._ctx;return m.dir==="next"&&cr(m,!0)&&0<m.limit?(c=m.valueMapper,d=Ws(m,m.table.core.schema),m.table.core.query({trans:l,limit:m.limit,values:!0,query:{index:d,range:m.range}}).then(function(h){return h=h.result,c?h.map(c):h})):(f=[],Je(m,function(h){return f.push(h)},l,m.table.core).then(function(){return f}))},s)},Qe.prototype.offset=function(s){var a=this._ctx;return s<=0||(a.offset+=s,cr(a)?dr(a,function(){var l=s;return function(c,d){return l===0||(l===1?--l:d(function(){c.advance(l),l=0}),!1)}}):dr(a,function(){var l=s;return function(){return--l<0}})),this},Qe.prototype.limit=function(s){return this._ctx.limit=Math.min(this._ctx.limit,s),dr(this._ctx,function(){var a=s;return function(l,c,d){return--a<=0&&c(d),0<=a}},!0),this},Qe.prototype.until=function(s,a){return ws(this._ctx,function(l,c,d){return!s(l.value)||(c(d),a)}),this},Qe.prototype.first=function(s){return this.limit(1).toArray(function(a){return a[0]}).then(s)},Qe.prototype.last=function(s){return this.reverse().first(s)},Qe.prototype.filter=function(s){var a;return ws(this._ctx,function(l){return s(l.value)}),(a=this._ctx).isMatch=Kn(a.isMatch,s),this},Qe.prototype.and=function(s){return this.filter(s)},Qe.prototype.or=function(s){return new this.db.WhereClause(this._ctx.table,s,this)},Qe.prototype.reverse=function(){return this._ctx.dir=this._ctx.dir==="prev"?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this},Qe.prototype.desc=function(){return this.reverse()},Qe.prototype.eachKey=function(s){var a=this._ctx;return a.keysOnly=!a.isMatch,this.each(function(l,c){s(c.key,c)})},Qe.prototype.eachUniqueKey=function(s){return this._ctx.unique="unique",this.eachKey(s)},Qe.prototype.eachPrimaryKey=function(s){var a=this._ctx;return a.keysOnly=!a.isMatch,this.each(function(l,c){s(c.primaryKey,c)})},Qe.prototype.keys=function(s){var a=this._ctx,l=(a.keysOnly=!a.isMatch,[]);return this.each(function(c,d){l.push(d.key)}).then(function(){return l}).then(s)},Qe.prototype.primaryKeys=function(s){var a=this._ctx;if(a.dir==="next"&&cr(a,!0)&&0<a.limit)return this._read(function(c){var d=Ws(a,a.table.core.schema);return a.table.core.query({trans:c,values:!1,limit:a.limit,query:{index:d,range:a.range}})}).then(function(c){return c.result}).then(s);a.keysOnly=!a.isMatch;var l=[];return this.each(function(c,d){l.push(d.primaryKey)}).then(function(){return l}).then(s)},Qe.prototype.uniqueKeys=function(s){return this._ctx.unique="unique",this.keys(s)},Qe.prototype.firstKey=function(s){return this.limit(1).keys(function(a){return a[0]}).then(s)},Qe.prototype.lastKey=function(s){return this.reverse().firstKey(s)},Qe.prototype.distinct=function(){var s,a=this._ctx,a=a.index&&a.table.schema.idxByName[a.index];return a&&a.multi&&(s={},ws(this._ctx,function(c){var c=c.primaryKey.toString(),d=A(s,c);return s[c]=!0,!d})),this},Qe.prototype.modify=function(s){var a=this,l=this._ctx;return this._write(function(c){function d(j,O){var F=O.failures;S+=j-O.numFailures;for(var R=0,K=Q(F);R<K.length;R++){var G=K[R];v.push(F[G])}}var f=typeof s=="function"?s:function(j){return Lr(j,s)},m=l.table.core,b=m.schema.primaryKey,h=b.outbound,k=b.extractKey,T=200,b=a.db._options.modifyChunkSize,v=(b&&(T=typeof b=="object"?b[m.name]||b["*"]||200:b),[]),S=0,_=[],N=s===Ii;return a.clone().primaryKeys().then(function(j){function O(R){var K=Math.min(T,j.length-R),G=j.slice(R,R+K);return(N?Promise.resolve([]):m.getMany({trans:c,keys:G,cache:"immutable"})).then(function(oe){var ue=[],te=[],me=h?[]:null,pe=N?G:[];if(!N)for(var ie=0;ie<K;++ie){var ge=oe[ie],We={value:He(ge),primKey:j[R+ie]};f.call(We,We.value,We)!==!1&&(We.value==null?pe.push(j[R+ie]):h||Oe(k(ge),k(We.value))===0?(te.push(We.value),h&&me.push(j[R+ie])):(pe.push(j[R+ie]),ue.push(We.value)))}return Promise.resolve(0<ue.length&&m.mutate({trans:c,type:"add",values:ue}).then(function(Xe){for(var Pe in Xe.failures)pe.splice(parseInt(Pe),1);d(ue.length,Xe)})).then(function(){return(0<te.length||F&&typeof s=="object")&&m.mutate({trans:c,type:"put",keys:me,values:te,criteria:F,changeSpec:typeof s!="function"&&s,isAdditionalChunk:0<R}).then(function(Xe){return d(te.length,Xe)})}).then(function(){return(0<pe.length||F&&N)&&m.mutate({trans:c,type:"delete",keys:pe,criteria:F,isAdditionalChunk:0<R}).then(function(Xe){return Hs(l.table,pe,Xe)}).then(function(Xe){return d(pe.length,Xe)})}).then(function(){return j.length>R+K&&O(R+T)})})}var F=cr(l)&&l.limit===1/0&&(typeof s!="function"||N)&&{index:l.index,range:l.range};return O(0).then(function(){if(0<v.length)throw new Ue("Error modifying one or more objects",v,S,_);return j.length})})})},Qe.prototype.delete=function(){var s=this._ctx,a=s.range;return!cr(s)||s.table.schema.yProps||!s.isPrimKey&&a.type!==3?this.modify(Ii):this._write(function(l){var c=s.table.core.schema.primaryKey,d=a;return s.table.core.count({trans:l,query:{index:c,range:d}}).then(function(f){return s.table.core.mutate({trans:l,type:"deleteRange",range:d}).then(function(k){var h=k.failures,k=k.numFailures;if(k)throw new Ue("Could not delete some values",Object.keys(h).map(function(T){return h[T]}),f-k);return f-k})})})};var Ca=Qe;function Qe(){}var Ii=function(s,a){return a.value=null};function Ea(s,a){return s<a?-1:s===a?0:1}function Pa(s,a){return a<s?-1:s===a?0:1}function Lt(s,a,l){return s=s instanceof Fr?new s.Collection(s):s,s._ctx.error=new(l||TypeError)(a),s}function vn(s){return new s.Collection(s,function(){return wn("")}).limit(0)}function an(_,a,l,c){var d,f,m,h,k,T,b,v=l.length;if(!l.every(function(j){return typeof j=="string"}))return Lt(_,Na);function S(j){d=j==="next"?function(F){return F.toUpperCase()}:function(F){return F.toLowerCase()},f=j==="next"?function(F){return F.toLowerCase()}:function(F){return F.toUpperCase()},m=j==="next"?Ea:Pa;var O=l.map(function(F){return{lower:f(F),upper:d(F)}}).sort(function(F,R){return m(F.lower,R.lower)});h=O.map(function(F){return F.upper}),k=O.map(function(F){return F.lower}),b=(T=j)==="next"?"":c}S("next");var _=new _.Collection(_,function(){return Ft(h[0],k[v-1]+c)}),N=(_._ondirectionchange=function(j){S(j)},0);return _._addAlgorithm(function(j,O,F){var R=j.key;if(typeof R=="string"){var K=f(R);if(a(K,k,N))return!0;for(var G=null,oe=N;oe<v;++oe){var ue=((te,me,pe,ie,ge,We)=>{for(var Xe=Math.min(te.length,ie.length),Pe=-1,Be=0;Be<Xe;++Be){var dt=me[Be];if(dt!==ie[Be])return ge(te[Be],pe[Be])<0?te.substr(0,Be)+pe[Be]+pe.substr(Be+1):ge(te[Be],ie[Be])<0?te.substr(0,Be)+ie[Be]+pe.substr(Be+1):0<=Pe?te.substr(0,Pe)+me[Pe]+pe.substr(Pe+1):null;ge(te[Be],dt)<0&&(Pe=Be)}return Xe<ie.length&&We==="next"?te+pe.substr(te.length):Xe<te.length&&We==="prev"?te.substr(0,pe.length):Pe<0?null:te.substr(0,Pe)+ie[Pe]+pe.substr(Pe+1)})(R,K,h[oe],k[oe],m,T);ue===null&&G===null?N=oe+1:(G===null||0<m(G,ue))&&(G=ue)}O(G!==null?function(){j.continue(G+b)}:F)}return!1}),_}function Ft(s,a,l,c){return{type:2,lower:s,upper:a,lowerOpen:l,upperOpen:c}}function wn(s){return{type:1,lower:s,upper:s}}Object.defineProperty(gt.prototype,"Collection",{get:function(){return this._ctx.table.db.Collection},enumerable:!1,configurable:!0}),gt.prototype.between=function(s,a,l,c){l=l!==!1,c=c===!0;try{return 0<this._cmp(s,a)||this._cmp(s,a)===0&&(l||c)&&(!l||!c)?vn(this):new this.Collection(this,function(){return Ft(s,a,!l,!c)})}catch{return Lt(this,it)}},gt.prototype.equals=function(s){return s==null?Lt(this,it):new this.Collection(this,function(){return wn(s)})},gt.prototype.above=function(s){return s==null?Lt(this,it):new this.Collection(this,function(){return Ft(s,void 0,!0)})},gt.prototype.aboveOrEqual=function(s){return s==null?Lt(this,it):new this.Collection(this,function(){return Ft(s,void 0,!1)})},gt.prototype.below=function(s){return s==null?Lt(this,it):new this.Collection(this,function(){return Ft(void 0,s,!1,!0)})},gt.prototype.belowOrEqual=function(s){return s==null?Lt(this,it):new this.Collection(this,function(){return Ft(void 0,s)})},gt.prototype.startsWith=function(s){return typeof s!="string"?Lt(this,Na):this.between(s,s+lr,!0,!0)},gt.prototype.startsWithIgnoreCase=function(s){return s===""?this.startsWith(s):an(this,function(a,l){return a.indexOf(l[0])===0},[s],lr)},gt.prototype.equalsIgnoreCase=function(s){return an(this,function(a,l){return a===l[0]},[s],"")},gt.prototype.anyOfIgnoreCase=function(){var s=le.apply(we,arguments);return s.length===0?vn(this):an(this,function(a,l){return l.indexOf(a)!==-1},s,"")},gt.prototype.startsWithAnyOfIgnoreCase=function(){var s=le.apply(we,arguments);return s.length===0?vn(this):an(this,function(a,l){return l.some(function(c){return a.indexOf(c)===0})},s,lr)},gt.prototype.anyOf=function(){var s,a,l=this,c=le.apply(we,arguments),d=this._cmp;try{c.sort(d)}catch{return Lt(this,it)}return c.length===0?vn(this):((s=new this.Collection(this,function(){return Ft(c[0],c[c.length-1])}))._ondirectionchange=function(f){d=f==="next"?l._ascending:l._descending,c.sort(d)},a=0,s._addAlgorithm(function(f,m,h){for(var k=f.key;0<d(k,c[a]);)if(++a===c.length)return m(h),!1;return d(k,c[a])===0||(m(function(){f.continue(c[a])}),!1)}),s)},gt.prototype.notEqual=function(s){return this.inAnyRange([[-1/0,s],[s,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})},gt.prototype.noneOf=function(){var s=le.apply(we,arguments);if(s.length===0)return new this.Collection(this);try{s.sort(this._ascending)}catch{return Lt(this,it)}var a=s.reduce(function(l,c){return l?l.concat([[l[l.length-1][1],c]]):[[-1/0,c]]},null);return a.push([s[s.length-1],this.db._maxKey]),this.inAnyRange(a,{includeLowers:!1,includeUppers:!1})},gt.prototype.inAnyRange=function(s,F){var l=this,c=this._cmp,d=this._ascending,f=this._descending,m=this._min,h=this._max;if(s.length===0)return vn(this);if(!s.every(function(R){return R[0]!==void 0&&R[1]!==void 0&&d(R[0],R[1])<=0}))return Lt(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",be.InvalidArgument);var k=!F||F.includeLowers!==!1,T=F&&F.includeUppers===!0,b,v=d;function S(R,K){return v(R[0],K[0])}try{(b=s.reduce(function(R,K){for(var G=0,oe=R.length;G<oe;++G){var ue=R[G];if(c(K[0],ue[1])<0&&0<c(K[1],ue[0])){ue[0]=m(ue[0],K[0]),ue[1]=h(ue[1],K[1]);break}}return G===oe&&R.push(K),R},[])).sort(S)}catch{return Lt(this,it)}var _=0,N=T?function(R){return 0<d(R,b[_][1])}:function(R){return 0<=d(R,b[_][1])},j=k?function(R){return 0<f(R,b[_][0])}:function(R){return 0<=f(R,b[_][0])},O=N,F=new this.Collection(this,function(){return Ft(b[0][0],b[b.length-1][1],!k,!T)});return F._ondirectionchange=function(R){v=R==="next"?(O=N,d):(O=j,f),b.sort(S)},F._addAlgorithm(function(R,K,G){for(var oe,ue=R.key;O(ue);)if(++_===b.length)return K(G),!1;return!N(oe=ue)&&!j(oe)||(l._cmp(ue,b[_][1])===0||l._cmp(ue,b[_][0])===0||K(function(){v===d?R.continue(b[_][0]):R.continue(b[_][1])}),!1)}),F},gt.prototype.startsWithAnyOf=function(){var s=le.apply(we,arguments);return s.every(function(a){return typeof a=="string"})?s.length===0?vn(this):this.inAnyRange(s.map(function(a){return[a,a+lr]})):Lt(this,"startsWithAnyOf() only works with strings")};var Fr=gt;function gt(){}function Ct(s){return ot(function(a){return bs(a),s(a.target.error),!1})}function bs(s){s.stopPropagation&&s.stopPropagation(),s.preventDefault&&s.preventDefault()}var zr="storagemutated",fr="x-storagemutated-1",Vn=vs(null,zr),Ta=(Yt.prototype._lock=function(){return Ke(!Se.global),++this._reculock,this._reculock!==1||Se.global||(Se.lockOwnerFor=this),this},Yt.prototype._unlock=function(){if(Ke(!Se.global),--this._reculock==0)for(Se.global||(Se.lockOwnerFor=null);0<this._blockedFuncs.length&&!this._locked();){var s=this._blockedFuncs.shift();try{Bn(s[1],s[0])}catch{}}return this},Yt.prototype._locked=function(){return this._reculock&&Se.lockOwnerFor!==this},Yt.prototype.create=function(s){var a=this;if(this.mode){var l=this.db.idbdb,c=this.db._state.dbOpenError;if(Ke(!this.idbtrans),!s&&!l)switch(c&&c.name){case"DatabaseClosedError":throw new be.DatabaseClosed(c);case"MissingAPIError":throw new be.MissingAPI(c.message,c);default:throw new be.OpenFailed(c)}if(!this.active)throw new be.TransactionInactive;Ke(this._completion._state===null),(s=this.idbtrans=s||(this.db.core||l).transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability})).onerror=ot(function(d){bs(d),a._reject(s.error)}),s.onabort=ot(function(d){bs(d),a.active&&a._reject(new be.Abort(s.error)),a.active=!1,a.on("abort").fire(d)}),s.oncomplete=ot(function(){a.active=!1,a._resolve(),"mutatedParts"in s&&Vn.storagemutated.fire(s.mutatedParts)})}return this},Yt.prototype._promise=function(s,a,l){var c,d=this;return s==="readwrite"&&this.mode!=="readwrite"?xt(new be.ReadOnly("Transaction is readonly")):this.active?this._locked()?new fe(function(f,m){d._blockedFuncs.push([function(){d._promise(s,a,l).then(f,m)},Se])}):l?Fn(function(){var f=new fe(function(m,h){d._lock();var k=a(m,h,d);k&&k.then&&k.then(m,h)});return f.finally(function(){return d._unlock()}),f._lib=!0,f}):((c=new fe(function(f,m){var h=a(f,m,d);h&&h.then&&h.then(f,m)}))._lib=!0,c):xt(new be.TransactionInactive)},Yt.prototype._root=function(){return this.parent?this.parent._root():this},Yt.prototype.waitFor=function(s){var a,l=this._root(),c=fe.resolve(s),d=(l._waitingFor?l._waitingFor=l._waitingFor.then(function(){return c}):(l._waitingFor=c,l._waitingQueue=[],a=l.idbtrans.objectStore(l.storeNames[0]),(function f(){for(++l._spinCount;l._waitingQueue.length;)l._waitingQueue.shift()();l._waitingFor&&(a.get(-1/0).onsuccess=f)})()),l._waitingFor);return new fe(function(f,m){c.then(function(h){return l._waitingQueue.push(ot(f.bind(null,h)))},function(h){return l._waitingQueue.push(ot(m.bind(null,h)))}).finally(function(){l._waitingFor===d&&(l._waitingFor=null)})})},Yt.prototype.abort=function(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new be.Abort))},Yt.prototype.table=function(s){var a=this._memoizedTables||(this._memoizedTables={});if(A(a,s))return a[s];var l=this.schema[s];if(l)return(l=new this.db.Table(s,l,this)).core=this.db.core.table(s),a[s]=l;throw new be.NotFound("Table "+s+" not part of transaction")},Yt);function Yt(){}function Qs(s,a,l,c,d,f,m,h){return{name:s,keyPath:a,unique:l,multi:c,auto:d,compound:f,src:(l&&!m?"&":"")+(c?"*":"")+(d?"++":"")+Ra(a),type:h}}function Ra(s){return typeof s=="string"?s:s?"["+[].join.call(s,"+")+"]":""}function pr(s,a,l){return{name:s,primKey:a,indexes:l,mappedClass:null,idxByName:(c=function(d){return[d.name,d]},l.reduce(function(d,f,m){return f=c(f,m),f&&(d[f[0]]=f[1]),d},{}))};var c}var bn=function(s){try{return s.only([[]]),bn=function(){return[[]]},[[]]}catch{return bn=function(){return lr},lr}};function $n(s){return s==null?function(){}:typeof s=="string"?(a=s).split(".").length===1?function(l){return l[a]}:function(l){return Ye(l,a)}:function(l){return Ye(l,s)};var a}function js(s){return[].slice.call(s)}var Uo=0;function Ns(s){return s==null?":id":typeof s=="string"?s:"[".concat(s.join("+"),"]")}function Oi(s,a,k){function c(N){if(N.type===3)return null;if(N.type===4)throw new Error("Cannot convert never type to IDBKeyRange");var v=N.lower,S=N.upper,_=N.lowerOpen,N=N.upperOpen;return v===void 0?S===void 0?null:a.upperBound(S,!!N):S===void 0?a.lowerBound(v,!!_):a.bound(v,S,!!_,!!N)}function d(b){var v,S=b.name;return{name:S,schema:b,mutate:function(_){var N=_.trans,j=_.type,O=_.keys,F=_.values,R=_.range;return new Promise(function(K,G){K=ot(K);var oe=N.objectStore(S),ue=oe.keyPath==null,te=j==="put"||j==="add";if(!te&&j!=="delete"&&j!=="deleteRange")throw new Error("Invalid operation type: "+j);var me,pe=(O||F||{length:1}).length;if(O&&F&&O.length!==F.length)throw new Error("Given keys array must have same length as given values array.");if(pe===0)return K({numFailures:0,failures:{},results:[],lastResult:void 0});function ie(at){++Xe,bs(at)}var ge=[],We=[],Xe=0;if(j==="deleteRange"){if(R.type===4)return K({numFailures:Xe,failures:We,results:[],lastResult:void 0});R.type===3?ge.push(me=oe.clear()):ge.push(me=oe.delete(c(R)))}else{var ue=te?ue?[F,O]:[F,null]:[O,null],Pe=ue[0],Be=ue[1];if(te)for(var dt=0;dt<pe;++dt)ge.push(me=Be&&Be[dt]!==void 0?oe[j](Pe[dt],Be[dt]):oe[j](Pe[dt])),me.onerror=ie;else for(dt=0;dt<pe;++dt)ge.push(me=oe[j](Pe[dt])),me.onerror=ie}function Qt(at){at=at.target.result,ge.forEach(function(_n,Es){return _n.error!=null&&(We[Es]=_n.error)}),K({numFailures:Xe,failures:We,results:j==="delete"?O:ge.map(function(_n){return _n.result}),lastResult:at})}me.onerror=function(at){ie(at),Qt(at)},me.onsuccess=Qt})},getMany:function(_){var N=_.trans,j=_.keys;return new Promise(function(O,F){O=ot(O);for(var R,K=N.objectStore(S),G=j.length,oe=new Array(G),ue=0,te=0,me=function(ge){ge=ge.target,oe[ge._pos]=ge.result,++te===ue&&O(oe)},pe=Ct(F),ie=0;ie<G;++ie)j[ie]!=null&&((R=K.get(j[ie]))._pos=ie,R.onsuccess=me,R.onerror=pe,++ue);ue===0&&O(oe)})},get:function(_){var N=_.trans,j=_.key;return new Promise(function(O,F){O=ot(O);var R=N.objectStore(S).get(j);R.onsuccess=function(K){return O(K.target.result)},R.onerror=Ct(F)})},query:(v=h,function(_){return new Promise(function(N,j){N=ot(N);var O,F,R,te=_.trans,K=_.values,G=_.limit,ue=_.query,oe=G===1/0?void 0:G,me=ue.index,ue=ue.range,te=te.objectStore(S),te=me.isPrimaryKey?te:te.index(me.name),me=c(ue);if(G===0)return N({result:[]});v?((ue=K?te.getAll(me,oe):te.getAllKeys(me,oe)).onsuccess=function(pe){return N({result:pe.target.result})},ue.onerror=Ct(j)):(O=0,F=!K&&"openKeyCursor"in te?te.openKeyCursor(me):te.openCursor(me),R=[],F.onsuccess=function(pe){var ie=F.result;return!ie||(R.push(K?ie.value:ie.primaryKey),++O===G)?N({result:R}):void ie.continue()},F.onerror=Ct(j))})}),openCursor:function(_){var N=_.trans,j=_.values,O=_.query,F=_.reverse,R=_.unique;return new Promise(function(K,G){K=ot(K);var te=O.index,oe=O.range,ue=N.objectStore(S),ue=te.isPrimaryKey?ue:ue.index(te.name),te=F?R?"prevunique":"prev":R?"nextunique":"next",me=!j&&"openKeyCursor"in ue?ue.openKeyCursor(c(oe),te):ue.openCursor(c(oe),te);me.onerror=Ct(G),me.onsuccess=ot(function(pe){var ie,ge,We,Xe,Pe=me.result;Pe?(Pe.___id=++Uo,Pe.done=!1,ie=Pe.continue.bind(Pe),ge=(ge=Pe.continuePrimaryKey)&&ge.bind(Pe),We=Pe.advance.bind(Pe),Xe=function(){throw new Error("Cursor not stopped")},Pe.trans=N,Pe.stop=Pe.continue=Pe.continuePrimaryKey=Pe.advance=function(){throw new Error("Cursor not started")},Pe.fail=ot(G),Pe.next=function(){var Be=this,dt=1;return this.start(function(){return dt--?Be.continue():Be.stop()}).then(function(){return Be})},Pe.start=function(Be){function dt(){if(me.result)try{Be()}catch(at){Pe.fail(at)}else Pe.done=!0,Pe.start=function(){throw new Error("Cursor behind last entry")},Pe.stop()}var Qt=new Promise(function(at,_n){at=ot(at),me.onerror=Ct(_n),Pe.fail=_n,Pe.stop=function(Es){Pe.stop=Pe.continue=Pe.continuePrimaryKey=Pe.advance=Xe,at(Es)}});return me.onsuccess=ot(function(at){me.onsuccess=dt,dt()}),Pe.continue=ie,Pe.continuePrimaryKey=ge,Pe.advance=We,dt(),Qt},K(Pe)):K(null)},G)})},count:function(_){var N=_.query,j=_.trans,O=N.index,F=N.range;return new Promise(function(R,K){var G=j.objectStore(S),G=O.isPrimaryKey?G:G.index(O.name),oe=c(F),oe=oe?G.count(oe):G.count();oe.onsuccess=ot(function(ue){return R(ue.target.result)}),oe.onerror=Ct(K)})}}}f=k,m=js((k=s).objectStoreNames);var f,k={schema:{name:k.name,tables:m.map(function(b){return f.objectStore(b)}).map(function(b){var v=b.keyPath,S=b.autoIncrement,N=B(v),_={},N={name:b.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:v==null,compound:N,keyPath:v,autoIncrement:S,unique:!0,extractKey:$n(v)},indexes:js(b.indexNames).map(function(j){return b.index(j)}).map(function(R){var K=R.name,O=R.unique,F=R.multiEntry,R=R.keyPath,K={name:K,compound:B(R),keyPath:R,unique:O,multiEntry:F,extractKey:$n(R)};return _[Ns(R)]=K}),getIndexByKeyPath:function(j){return _[Ns(j)]}};return _[":id"]=N.primaryKey,v!=null&&(_[Ns(v)]=N.primaryKey),N})},hasGetAll:0<m.length&&"getAll"in f.objectStore(m[0])&&!(typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)},m=k.schema,h=k.hasGetAll,k=m.tables.map(d),T={};return k.forEach(function(b){return T[b.name]=b}),{stack:"dbcore",transaction:s.transaction.bind(s),table:function(b){if(T[b])return T[b];throw new Error("Table '".concat(b,"' not found"))},MIN_KEY:-1/0,MAX_KEY:bn(a),schema:m}}function Gs(s,a,l,c){return l=l.IDBKeyRange,a=Oi(a,l,c),{dbcore:s.dbcore.reduce(function(d,f){return f=f.create,D(D({},d),f(d))},a)}}function Br(s,a){var l=a.db,l=Gs(s._middlewares,l,s._deps,a);s.core=l.dbcore,s.tables.forEach(function(c){var d=c.name;s.core.schema.tables.some(function(f){return f.name===d})&&(c.core=s.core.table(d),s[d]instanceof s.Table)&&(s[d].core=c.core)})}function ks(s,a,l,c){l.forEach(function(d){var f=c[d];a.forEach(function(m){var h=(function k(T,b){return Re(T,b)||(T=Y(T))&&k(T,b)})(m,d);(!h||"value"in h&&h.value===void 0)&&(m===s.Transaction.prototype||m instanceof s.Transaction?xe(m,d,{get:function(){return this.table(d)},set:function(k){ee(this,d,{value:k,writable:!0,configurable:!0,enumerable:!0})}}):m[d]=new s.Table(d,f))})})}function cn(s,a){a.forEach(function(l){for(var c in l)l[c]instanceof s.Table&&delete l[c]})}function Li(s,a){return s._cfg.version-a._cfg.version}function Xs(s,a,l,c){var d=s._dbSchema,f=(l.objectStoreNames.contains("$meta")&&!d.$meta&&(d.$meta=pr("$meta",Vr("")[0],[]),s._storeNames.push("$meta")),s._createTransaction("readwrite",s._storeNames,d)),m=(f.create(l),f._completion.catch(c),f._reject.bind(f)),h=Se.transless||Se;Fn(function(){if(Se.trans=f,Se.transless=h,a!==0)return Br(s,l),T=a,((k=f).storeNames.includes("$meta")?k.table("$meta").get("version").then(function(b){return b??T}):fe.resolve(T)).then(function(O){var v=s,S=O,_=f,N=l,j=[],O=v._versions,F=v._dbSchema=jn(0,v.idbdb,N);return(O=O.filter(function(R){return R._cfg.version>=S})).length===0?fe.resolve():(O.forEach(function(R){j.push(function(){var K,G,oe,ue=F,te=R._cfg.dbschema,me=(qr(v,ue,N),qr(v,te,N),F=v._dbSchema=te,Ur(ue,te)),pe=(me.add.forEach(function(ie){Kr(N,ie[0],ie[1].primKey,ie[1].indexes)}),me.change.forEach(function(ie){if(ie.recreate)throw new be.Upgrade("Not yet support for changing primary key");var ge=N.objectStore(ie.name);ie.add.forEach(function(We){return Rt(ge,We)}),ie.change.forEach(function(We){ge.deleteIndex(We.name),Rt(ge,We)}),ie.del.forEach(function(We){return ge.deleteIndex(We)})}),R._cfg.contentUpgrade);if(pe&&R._cfg.version>S)return Br(v,N),_._memoizedTables={},K=se(te),me.del.forEach(function(ie){K[ie]=ue[ie]}),cn(v,[v.Transaction.prototype]),ks(v,[v.Transaction.prototype],Q(K),K),_.schema=K,(G=P(pe))&&Ir(),te=fe.follow(function(){var ie;(oe=pe(_))&&G&&(ie=Kt.bind(null,null),oe.then(ie,ie))}),oe&&typeof oe.then=="function"?fe.resolve(oe):te.then(function(){return oe})}),j.push(function(K){var G,oe,ue=R._cfg.dbschema;G=ue,oe=K,[].slice.call(oe.db.objectStoreNames).forEach(function(te){return G[te]==null&&oe.db.deleteObjectStore(te)}),cn(v,[v.Transaction.prototype]),ks(v,[v.Transaction.prototype],v._storeNames,v._dbSchema),_.schema=v._dbSchema}),j.push(function(K){v.idbdb.objectStoreNames.contains("$meta")&&(Math.ceil(v.idbdb.version/10)===R._cfg.version?(v.idbdb.deleteObjectStore("$meta"),delete v._dbSchema.$meta,v._storeNames=v._storeNames.filter(function(G){return G!=="$meta"})):K.objectStore("$meta").put(R._cfg.version,"version"))})}),(function R(){return j.length?fe.resolve(j.shift()(_.idbtrans)).then(R):fe.resolve()})().then(function(){Fi(F,N)}))}).catch(m);var k,T;Q(d).forEach(function(b){Kr(l,b,d[b].primKey,d[b].indexes)}),Br(s,l),fe.follow(function(){return s.on.populate.fire(f)}).catch(m)})}function Aa(s,a){Fi(s._dbSchema,a),a.db.version%10!=0||a.objectStoreNames.contains("$meta")||a.db.createObjectStore("$meta").add(Math.ceil(a.db.version/10-1),"version");var l=jn(0,s.idbdb,a);qr(s,s._dbSchema,a);for(var c=0,d=Ur(l,s._dbSchema).change;c<d.length;c++){var f=(m=>{if(m.change.length||m.recreate)return console.warn("Unable to patch indexes of table ".concat(m.name," because it has changes on the type of index or primary key.")),{value:void 0};var h=a.objectStore(m.name);m.add.forEach(function(k){Ot&&console.debug("Dexie upgrade patch: Creating missing index ".concat(m.name,".").concat(k.src)),Rt(h,k)})})(d[c]);if(typeof f=="object")return f.value}}function Ur(s,a){var l,c={del:[],add:[],change:[]};for(l in s)a[l]||c.del.push(l);for(l in a){var d=s[l],f=a[l];if(d){var m={name:l,def:f,recreate:!1,del:[],add:[],change:[]};if(""+(d.primKey.keyPath||"")!=""+(f.primKey.keyPath||"")||d.primKey.auto!==f.primKey.auto)m.recreate=!0,c.change.push(m);else{var h=d.idxByName,k=f.idxByName,T=void 0;for(T in h)k[T]||m.del.push(T);for(T in k){var b=h[T],v=k[T];b?b.src!==v.src&&m.change.push(v):m.add.push(v)}(0<m.del.length||0<m.add.length||0<m.change.length)&&c.change.push(m)}}else c.add.push([l,f])}return c}function Kr(s,a,l,c){var d=s.db.createObjectStore(a,l.keyPath?{keyPath:l.keyPath,autoIncrement:l.auto}:{autoIncrement:l.auto});c.forEach(function(f){return Rt(d,f)})}function Fi(s,a){Q(s).forEach(function(l){a.db.objectStoreNames.contains(l)||(Ot&&console.debug("Dexie: Creating missing table",l),Kr(a,l,s[l].primKey,s[l].indexes))})}function Rt(s,a){s.createIndex(a.name,a.keyPath,{unique:a.unique,multiEntry:a.multi})}function jn(s,a,l){var c={};return Fe(a.objectStoreNames,0).forEach(function(d){for(var f=l.objectStore(d),m=Qs(Ra(T=f.keyPath),T||"",!0,!1,!!f.autoIncrement,T&&typeof T!="string",!0),h=[],k=0;k<f.indexNames.length;++k){var b=f.index(f.indexNames[k]),T=b.keyPath,b=Qs(b.name,T,!!b.unique,!!b.multiEntry,!1,T&&typeof T!="string",!1);h.push(b)}c[d]=pr(d,m,h)}),c}function qr(s,a,l){for(var c=l.db.objectStoreNames,d=0;d<c.length;++d){var f=c[d],m=l.objectStore(f);s._hasGetAll="getAll"in m;for(var h=0;h<m.indexNames.length;++h){var k,T=m.indexNames[h],b=m.index(T).keyPath,b=typeof b=="string"?b:"["+Fe(b).join("+")+"]";a[f]&&(k=a[f].idxByName[b])&&(k.name=T,delete a[f].idxByName[b],a[f].idxByName[T]=k)}}typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&$.WorkerGlobalScope&&$ instanceof $.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(s._hasGetAll=!1)}function Vr(s){return s.split(",").map(function(a,l){var d=a.split(":"),c=(c=d[1])==null?void 0:c.trim(),d=(a=d[0].trim()).replace(/([&*]|\+\+)/g,""),f=/^\[/.test(d)?d.match(/^\[(.*)\]$/)[1].split("+"):d;return Qs(d,f||null,/\&/.test(a),/\*/.test(a),/\+\+/.test(a),B(f),l===0,c)})}Hn.prototype._createTableSchema=pr,Hn.prototype._parseIndexSyntax=Vr,Hn.prototype._parseStoresSpec=function(s,a){var l=this;Q(s).forEach(function(c){if(s[c]!==null){var d=l._parseIndexSyntax(s[c]),f=d.shift();if(!f)throw new be.Schema("Invalid schema for table "+c+": "+s[c]);if(f.unique=!0,f.multi)throw new be.Schema("Primary key cannot be multiEntry*");d.forEach(function(m){if(m.auto)throw new be.Schema("Only primary key can be marked as autoIncrement (++)");if(!m.keyPath)throw new be.Schema("Index must have a name and cannot be an empty string")}),f=l._createTableSchema(c,f,d),a[c]=f}})},Hn.prototype.stores=function(l){var a=this.db,l=(this._cfg.storesSource=this._cfg.storesSource?Z(this._cfg.storesSource,l):l,a._versions),c={},d={};return l.forEach(function(f){Z(c,f._cfg.storesSource),d=f._cfg.dbschema={},f._parseStoresSpec(c,d)}),a._dbSchema=d,cn(a,[a._allTables,a,a.Transaction.prototype]),ks(a,[a._allTables,a,a.Transaction.prototype,this._cfg.tables],Q(d),d),a._storeNames=Q(d),this},Hn.prototype.upgrade=function(s){return this._cfg.contentUpgrade=Jn(this._cfg.contentUpgrade||st,s),this};var Ko=Hn;function Hn(){}function Ss(s,a){var l=s._dbNamesDB;return l||(l=s._dbNamesDB=new kn(hs,{addons:[],indexedDB:s,IDBKeyRange:a})).version(1).stores({dbnames:"name"}),l.table("dbnames")}function mr(s){return s&&typeof s.databases=="function"}function $r(s){return Fn(function(){return Se.letThrough=!0,s()})}function Zs(s){return!("from"in s)}var At=function(s,a){var l;if(!this)return l=new At,s&&"d"in s&&Z(l,s),l;Z(this,arguments.length?{d:1,from:s,to:1<arguments.length?a:s}:{d:0})};function _s(s,a,l){var c=Oe(a,l);if(!isNaN(c)){if(0<c)throw RangeError();if(Zs(s))return Z(s,{from:a,to:l,d:1});var c=s.l,d=s.r;if(Oe(l,s.from)<0)return c?_s(c,a,l):s.l={from:a,to:l,d:1,l:null,r:null},Da(s);if(0<Oe(a,s.to))return d?_s(d,a,l):s.r={from:a,to:l,d:1,l:null,r:null},Da(s);Oe(a,s.from)<0&&(s.from=a,s.l=null,s.d=d?d.d+1:1),0<Oe(l,s.to)&&(s.to=l,s.r=null,s.d=s.l?s.l.d+1:1),a=!s.r,c&&!s.l&&Cs(s,c),d&&a&&Cs(s,d)}}function Cs(s,a){Zs(a)||(function l(c,d){var f=d.from,m=d.l,h=d.r;_s(c,f,d.to),m&&l(c,m),h&&l(c,h)})(s,a)}function Js(s,a){var l=ei(a),c=l.next();if(!c.done)for(var d=c.value,f=ei(s),m=f.next(d.from),h=m.value;!c.done&&!m.done;){if(Oe(h.from,d.to)<=0&&0<=Oe(h.to,d.from))return!0;Oe(d.from,h.from)<0?d=(c=l.next(h.from)).value:h=(m=f.next(d.from)).value}return!1}function ei(s){var a=Zs(s)?null:{s:0,n:s};return{next:function(l){for(var c=0<arguments.length;a;)switch(a.s){case 0:if(a.s=1,c)for(;a.n.l&&Oe(l,a.n.from)<0;)a={up:a,n:a.n.l,s:1};else for(;a.n.l;)a={up:a,n:a.n.l,s:1};case 1:if(a.s=2,!c||Oe(l,a.n.to)<=0)return{value:a.n,done:!1};case 2:if(a.n.r){a.s=3,a={up:a,n:a.n.r,s:0};continue}case 3:a=a.up}return{done:!0}}}}function Da(s){var a,l,c,d=(((d=s.r)==null?void 0:d.d)||0)-(((d=s.l)==null?void 0:d.d)||0),d=1<d?"r":d<-1?"l":"";d&&(a=d=="r"?"l":"r",l=D({},s),c=s[d],s.from=c.from,s.to=c.to,s[d]=c[d],l[d]=c[a],(s[a]=l).d=Ma(l)),s.d=Ma(s)}function Ma(l){var a=l.r,l=l.l;return(a?l?Math.max(a.d,l.d):a.d:l?l.d:0)+1}function ti(s,a){return Q(a).forEach(function(l){s[l]?Cs(s[l],a[l]):s[l]=(function c(d){var f,m,h={};for(f in d)A(d,f)&&(m=d[f],h[f]=!m||typeof m!="object"||lt.has(m.constructor)?m:c(m));return h})(a[l])}),s}function zi(s,a){return s.all||a.all||Object.keys(s).some(function(l){return a[l]&&Js(a[l],s[l])})}H(At.prototype,((Ut={add:function(s){return Cs(this,s),this},addKey:function(s){return _s(this,s,s),this},addKeys:function(s){var a=this;return s.forEach(function(l){return _s(a,l,l)}),this},hasKey:function(s){var a=ei(this).next(s).value;return a&&Oe(a.from,s)<=0&&0<=Oe(a.to,s)}})[U]=function(){return ei(this)},Ut));var Wn={},Bi={},Ui=!1;function ni(s){ti(Bi,s),Ui||(Ui=!0,setTimeout(function(){Ui=!1,Ki(Bi,!(Bi={}))},0))}function Ki(s,a){a===void 0&&(a=!1);var l=new Set;if(s.all)for(var c=0,d=Object.values(Wn);c<d.length;c++)ri(h=d[c],s,l,a);else for(var f in s){var m,h,f=/^idb\:\/\/(.*)\/(.*)\//.exec(f);f&&(m=f[1],f=f[2],h=Wn["idb://".concat(m,"/").concat(f)])&&ri(h,s,l,a)}l.forEach(function(k){return k()})}function ri(s,a,l,c){for(var d=[],f=0,m=Object.entries(s.queries.query);f<m.length;f++){for(var h=m[f],k=h[0],T=[],b=0,v=h[1];b<v.length;b++){var S=v[b];zi(a,S.obsSet)?S.subscribers.forEach(function(O){return l.add(O)}):c&&T.push(S)}c&&d.push([k,T])}if(c)for(var _=0,N=d;_<N.length;_++){var j=N[_],k=j[0],T=j[1];s.queries.query[k]=T}}function qo(s){var a=s._state,l=s._deps.indexedDB;if(a.isBeingOpened||s.idbdb)return a.dbReadyPromise.then(function(){return a.dbOpenError?xt(a.dbOpenError):s});a.isBeingOpened=!0,a.dbOpenError=null,a.openComplete=!1;var c=a.openCanceller,d=Math.round(10*s.verno),f=!1;function m(){if(a.openCanceller!==c)throw new be.DatabaseClosed("db.open() was cancelled")}function h(){return new fe(function(S,_){if(m(),!l)throw new be.MissingAPI;var N=s.name,j=a.autoSchema||!d?l.open(N):l.open(N,d);if(!j)throw new be.MissingAPI;j.onerror=Ct(_),j.onblocked=ot(s._fireOnBlocked),j.onupgradeneeded=ot(function(O){var F;b=j.transaction,a.autoSchema&&!s._options.allowEmptyDB?(j.onerror=bs,b.abort(),j.result.close(),(F=l.deleteDatabase(N)).onsuccess=F.onerror=ot(function(){_(new be.NoSuchDatabase("Database ".concat(N," doesnt exist")))})):(b.onerror=Ct(_),F=O.oldVersion>Math.pow(2,62)?0:O.oldVersion,v=F<1,s.idbdb=j.result,f&&Aa(s,b),Xs(s,F/10,b,_))},_),j.onsuccess=ot(function(){b=null;var O,F,R,K,G,oe,ue=s.idbdb=j.result,te=Fe(ue.objectStoreNames);if(0<te.length)try{var me=ue.transaction((G=te).length===1?G[0]:G,"readonly");if(a.autoSchema)oe=ue,K=me,(R=s).verno=oe.version/10,K=R._dbSchema=jn(0,oe,K),R._storeNames=Fe(oe.objectStoreNames,0),ks(R,[R._allTables],Q(K),K);else if(qr(s,s._dbSchema,me),F=me,((F=Ur(jn(0,(O=s).idbdb,F),O._dbSchema)).add.length||F.change.some(function(pe){return pe.add.length||pe.change.length}))&&!f)return console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Dexie will add missing parts and increment native version number to workaround this."),ue.close(),d=ue.version+1,f=!0,S(h());Br(s,me)}catch{}Un.push(s),ue.onversionchange=ot(function(pe){a.vcFired=!0,s.on("versionchange").fire(pe)}),ue.onclose=ot(function(){s.close({disableAutoOpen:!1})}),v&&(te=s._deps,G=N,mr(oe=te.indexedDB)||G===hs||Ss(oe,te.IDBKeyRange).put({name:G}).catch(st)),S()},_)}).catch(function(S){switch(S?.name){case"UnknownError":if(0<a.PR1398_maxLoop)return a.PR1398_maxLoop--,console.warn("Dexie: Workaround for Chrome UnknownError on open()"),h();break;case"VersionError":if(0<d)return d=0,h()}return fe.reject(S)})}var k,T=a.dbReadyResolve,b=null,v=!1;return fe.race([c,(typeof navigator>"u"?fe.resolve():!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise(function(S){function _(){return indexedDB.databases().finally(S)}k=setInterval(_,100),_()}).finally(function(){return clearInterval(k)}):Promise.resolve()).then(h)]).then(function(){return m(),a.onReadyBeingFired=[],fe.resolve($r(function(){return s.on.ready.fire(s.vip)})).then(function S(){var _;if(0<a.onReadyBeingFired.length)return _=a.onReadyBeingFired.reduce(Jn,st),a.onReadyBeingFired=[],fe.resolve($r(function(){return _(s.vip)})).then(S)})}).finally(function(){a.openCanceller===c&&(a.onReadyBeingFired=null,a.isBeingOpened=!1)}).catch(function(S){a.dbOpenError=S;try{b&&b.abort()}catch{}return c===a.openCanceller&&s._close(),xt(S)}).finally(function(){a.openComplete=!0,T()}).then(function(){var S;return v&&(S={},s.tables.forEach(function(_){_.schema.indexes.forEach(function(N){N.name&&(S["idb://".concat(s.name,"/").concat(_.name,"/").concat(N.name)]=new At(-1/0,[[[]]]))}),S["idb://".concat(s.name,"/").concat(_.name,"/")]=S["idb://".concat(s.name,"/").concat(_.name,"/:dels")]=new At(-1/0,[[[]]])}),Vn(zr).fire(S),Ki(S,!0)),s})}function qi(s){function a(f){return s.next(f)}var l=d(a),c=d(function(f){return s.throw(f)});function d(f){return function(h){var h=f(h),k=h.value;return h.done?k:k&&typeof k.then=="function"?k.then(l,c):B(k)?Promise.all(k).then(l,c):l(k)}}return d(a)()}function si(s,a,l){for(var c=B(s)?s.slice():[s],d=0;d<l;++d)c.push(a);return c}var Ia={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:function(s){return D(D({},s),{table:function(c){var l=s.table(c),c=l.schema,d={},f=[];function m(S,_,N){var R=Ns(S),j=d[R]=d[R]||[],O=S==null?0:typeof S=="string"?1:S.length,F=0<_,R=D(D({},N),{name:F?"".concat(R,"(virtual-from:").concat(N.name,")"):N.name,lowLevelIndex:N,isVirtual:F,keyTail:_,keyLength:O,extractKey:$n(S),unique:!F&&N.unique});return j.push(R),R.isPrimaryKey||f.push(R),1<O&&m(O===2?S[0]:S.slice(0,O-1),_+1,N),j.sort(function(K,G){return K.keyTail-G.keyTail}),R}var h=m(c.primaryKey.keyPath,0,c.primaryKey);d[":id"]=[h];for(var k=0,T=c.indexes;k<T.length;k++){var b=T[k];m(b.keyPath,0,b)}function v(S){var _,N=S.query.index;return N.isVirtual?D(D({},S),{query:{index:N.lowLevelIndex,range:(_=S.query.range,N=N.keyTail,{type:_.type===1?2:_.type,lower:si(_.lower,_.lowerOpen?s.MAX_KEY:s.MIN_KEY,N),lowerOpen:!0,upper:si(_.upper,_.upperOpen?s.MIN_KEY:s.MAX_KEY,N),upperOpen:!0})}}):S}return D(D({},l),{schema:D(D({},c),{primaryKey:h,indexes:f,getIndexByKeyPath:function(S){return(S=d[Ns(S)])&&S[0]}}),count:function(S){return l.count(v(S))},query:function(S){return l.query(v(S))},openCursor:function(S){var _=S.query.index,N=_.keyTail,j=_.keyLength;return _.isVirtual?l.openCursor(v(S)).then(function(F){return F&&O(F)}):l.openCursor(S);function O(F){return Object.create(F,{continue:{value:function(R){R!=null?F.continue(si(R,S.reverse?s.MAX_KEY:s.MIN_KEY,N)):S.unique?F.continue(F.key.slice(0,j).concat(S.reverse?s.MIN_KEY:s.MAX_KEY,N)):F.continue()}},continuePrimaryKey:{value:function(R,K){F.continuePrimaryKey(si(R,s.MAX_KEY,N),K)}},primaryKey:{get:function(){return F.primaryKey}},key:{get:function(){var R=F.key;return j===1?R[0]:R.slice(0,j)}},value:{get:function(){return F.value}}})}}})}})}};function Vi(s,a,l,c){return l=l||{},c=c||"",Q(s).forEach(function(d){var f,m,h;A(a,d)?(f=s[d],m=a[d],typeof f=="object"&&typeof m=="object"&&f&&m?(h=I(f))!==I(m)?l[c+d]=a[d]:h==="Object"?Vi(f,m,l,c+d+"."):f!==m&&(l[c+d]=a[d]):f!==m&&(l[c+d]=a[d])):l[c+d]=void 0}),Q(a).forEach(function(d){A(s,d)||(l[c+d]=a[d])}),l}function $i(s,a){return a.type==="delete"?a.keys:a.keys||a.values.map(s.extractKey)}var Vo={stack:"dbcore",name:"HooksMiddleware",level:2,create:function(s){return D(D({},s),{table:function(a){var l=s.table(a),c=l.schema.primaryKey;return D(D({},l),{mutate:function(d){var f=Se.trans,m=f.table(a).hook,h=m.deleting,k=m.creating,T=m.updating;switch(d.type){case"add":if(k.fire===st)break;return f._promise("readwrite",function(){return b(d)},!0);case"put":if(k.fire===st&&T.fire===st)break;return f._promise("readwrite",function(){return b(d)},!0);case"delete":if(h.fire===st)break;return f._promise("readwrite",function(){return b(d)},!0);case"deleteRange":if(h.fire===st)break;return f._promise("readwrite",function(){return(function v(S,_,N){return l.query({trans:S,values:!1,query:{index:c,range:_},limit:N}).then(function(j){var O=j.result;return b({type:"delete",keys:O,trans:S}).then(function(F){return 0<F.numFailures?Promise.reject(F.failures[0]):O.length<N?{failures:[],numFailures:0,lastResult:void 0}:v(S,D(D({},_),{lower:O[O.length-1],lowerOpen:!0}),N)})})})(d.trans,d.range,1e4)},!0)}return l.mutate(d);function b(v){var S,_,N,j=Se.trans,O=v.keys||$i(c,v);if(O)return(v=v.type==="add"||v.type==="put"?D(D({},v),{keys:O}):D({},v)).type!=="delete"&&(v.values=X([],v.values)),v.keys&&(v.keys=X([],v.keys)),S=l,N=O,((_=v).type==="add"?Promise.resolve([]):S.getMany({trans:_.trans,keys:N,cache:"immutable"})).then(function(F){var R=O.map(function(K,G){var oe,ue,te,me=F[G],pe={onerror:null,onsuccess:null};return v.type==="delete"?h.fire.call(pe,K,me,j):v.type==="add"||me===void 0?(oe=k.fire.call(pe,K,v.values[G],j),K==null&&oe!=null&&(v.keys[G]=K=oe,c.outbound||x(v.values[G],c.keyPath,K))):(oe=Vi(me,v.values[G]),(ue=T.fire.call(pe,oe,K,me,j))&&(te=v.values[G],Object.keys(ue).forEach(function(ie){A(te,ie)?te[ie]=ue[ie]:x(te,ie,ue[ie])}))),pe});return l.mutate(v).then(function(K){for(var G=K.failures,oe=K.results,ue=K.numFailures,K=K.lastResult,te=0;te<O.length;++te){var me=(oe||O)[te],pe=R[te];me==null?pe.onerror&&pe.onerror(G[te]):pe.onsuccess&&pe.onsuccess(v.type==="put"&&F[te]?v.values[te]:me)}return{failures:G,results:oe,numFailures:ue,lastResult:K}}).catch(function(K){return R.forEach(function(G){return G.onerror&&G.onerror(K)}),Promise.reject(K)})});throw new Error("Keys missing")}}})}})}};function Oa(s,a,l){try{if(!a||a.keys.length<s.length)return null;for(var c=[],d=0,f=0;d<a.keys.length&&f<s.length;++d)Oe(a.keys[d],s[f])===0&&(c.push(l?He(a.values[d]):a.values[d]),++f);return c.length===s.length?c:null}catch{return null}}var $o={stack:"dbcore",level:-1,create:function(s){return{table:function(a){var l=s.table(a);return D(D({},l),{getMany:function(c){var d;return c.cache?(d=Oa(c.keys,c.trans._cache,c.cache==="clone"))?fe.resolve(d):l.getMany(c).then(function(f){return c.trans._cache={keys:c.keys,values:c.cache==="clone"?He(f):f},f}):l.getMany(c)},mutate:function(c){return c.type!=="add"&&(c.trans._cache=null),l.mutate(c)}})}}}};function La(s,a){return s.trans.mode==="readonly"&&!!s.subscr&&!s.trans.explicit&&s.trans.db._options.cache!=="disabled"&&!a.schema.primaryKey.outbound}function Fa(s,a){switch(s){case"query":return a.values&&!a.unique;case"get":case"getMany":case"count":case"openCursor":return!1}}var Hi={stack:"dbcore",level:0,name:"Observability",create:function(s){var a=s.schema.name,l=new At(s.MIN_KEY,s.MAX_KEY);return D(D({},s),{transaction:function(c,d,f){if(Se.subscr&&d!=="readonly")throw new be.ReadOnly("Readwrite transaction in liveQuery context. Querier source: ".concat(Se.querier));return s.transaction(c,d,f)},table:function(c){function d(O){var j,O=O.query;return[j=O.index,new At((j=(O=O.range).lower)!=null?j:s.MIN_KEY,(j=O.upper)!=null?j:s.MAX_KEY)]}var f=s.table(c),m=f.schema,h=m.primaryKey,k=m.indexes,T=h.extractKey,b=h.outbound,v=h.autoIncrement&&k.filter(function(N){return N.compound&&N.keyPath.includes(h.keyPath)}),S=D(D({},f),{mutate:function(N){function j(ge){return ge="idb://".concat(a,"/").concat(c,"/").concat(ge),G[ge]||(G[ge]=new At)}var O,F,R,K=N.trans,G=N.mutatedParts||(N.mutatedParts={}),oe=j(""),ue=j(":dels"),te=N.type,pe=N.type==="deleteRange"?[N.range]:N.type==="delete"?[N.keys]:N.values.length<50?[$i(h,N).filter(function(ge){return ge}),N.values]:[],me=pe[0],pe=pe[1],ie=N.trans._cache;return B(me)?(oe.addKeys(me),(te=te==="delete"||me.length===pe.length?Oa(me,ie):null)||ue.addKeys(me),(te||pe)&&(O=j,F=te,R=pe,m.indexes.forEach(function(ge){var We=O(ge.name||"");function Xe(Be){return Be!=null?ge.extractKey(Be):null}function Pe(Be){ge.multiEntry&&B(Be)?Be.forEach(function(dt){return We.addKey(dt)}):We.addKey(Be)}(F||R).forEach(function(Be,at){var Qt=F&&Xe(F[at]),at=R&&Xe(R[at]);Oe(Qt,at)!==0&&(Qt!=null&&Pe(Qt),at!=null)&&Pe(at)})}))):me?(pe={from:(ie=me.lower)!=null?ie:s.MIN_KEY,to:(te=me.upper)!=null?te:s.MAX_KEY},ue.add(pe),oe.add(pe)):(oe.add(l),ue.add(l),m.indexes.forEach(function(ge){return j(ge.name).add(l)})),f.mutate(N).then(function(ge){return!me||N.type!=="add"&&N.type!=="put"||(oe.addKeys(ge.results),v&&v.forEach(function(We){for(var Xe=N.values.map(function(Qt){return We.extractKey(Qt)}),Pe=We.keyPath.findIndex(function(Qt){return Qt===h.keyPath}),Be=0,dt=ge.results.length;Be<dt;++Be)Xe[Be][Pe]=ge.results[Be];j(We.name).addKeys(Xe)})),K.mutatedParts=ti(K.mutatedParts||{},G),ge})}}),_={get:function(N){return[h,new At(N.key)]},getMany:function(N){return[h,new At().addKeys(N.keys)]},count:d,query:d,openCursor:d};return Q(_).forEach(function(N){S[N]=function(j){var O=Se.subscr,F=!!O,R=La(Se,f)&&Fa(N,j)?j.obsSet={}:O;if(F){var K,O=function(pe){return pe="idb://".concat(a,"/").concat(c,"/").concat(pe),R[pe]||(R[pe]=new At)},G=O(""),oe=O(":dels"),F=_[N](j),ue=F[0],F=F[1];if((N==="query"&&ue.isPrimaryKey&&!j.values?oe:O(ue.name||"")).add(F),!ue.isPrimaryKey){if(N!=="count")return K=N==="query"&&b&&j.values&&f.query(D(D({},j),{values:!1})),f[N].apply(this,arguments).then(function(pe){if(N==="query"){if(b&&j.values)return K.then(function(Xe){return Xe=Xe.result,G.addKeys(Xe),pe});var ie=j.values?pe.result.map(T):pe.result;(j.values?G:oe).addKeys(ie)}else{var ge,We;if(N==="openCursor")return We=j.values,(ge=pe)&&Object.create(ge,{key:{get:function(){return oe.addKey(ge.primaryKey),ge.key}},primaryKey:{get:function(){var Xe=ge.primaryKey;return oe.addKey(Xe),Xe}},value:{get:function(){return We&&G.addKey(ge.primaryKey),ge.value}}})}return pe});oe.add(l)}}return f[N].apply(this,arguments)}}),S}})}};function Hr(s,a,l){var c;return l.numFailures===0?a:a.type==="deleteRange"||(c=a.keys?a.keys.length:"values"in a&&a.values?a.values.length:1,l.numFailures===c)?null:(c=D({},a),B(c.keys)&&(c.keys=c.keys.filter(function(d,f){return!(f in l.failures)})),"values"in c&&B(c.values)&&(c.values=c.values.filter(function(d,f){return!(f in l.failures)})),c)}function Wi(s,a){return l=s,((c=a).lower===void 0||(c.lowerOpen?0<Oe(l,c.lower):0<=Oe(l,c.lower)))&&(l=s,(c=a).upper===void 0||(c.upperOpen?Oe(l,c.upper)<0:Oe(l,c.upper)<=0));var l,c}function Yi(s,a,l,c,d,f){var m,h,k,T,b,v;return!l||l.length===0||(m=a.query.index,h=m.multiEntry,k=a.query.range,T=c.schema.primaryKey.extractKey,b=m.extractKey,v=(m.lowLevelIndex||m).extractKey,(c=l.reduce(function(S,_){var N=S,j=[];if(_.type==="add"||_.type==="put")for(var O=new At,F=_.values.length-1;0<=F;--F){var R,K=_.values[F],G=T(K);!O.hasKey(G)&&(R=b(K),h&&B(R)?R.some(function(pe){return Wi(pe,k)}):Wi(R,k))&&(O.addKey(G),j.push(K))}switch(_.type){case"add":var oe=new At().addKeys(a.values?S.map(function(ie){return T(ie)}):S),N=S.concat(a.values?j.filter(function(ie){return ie=T(ie),!oe.hasKey(ie)&&(oe.addKey(ie),!0)}):j.map(function(ie){return T(ie)}).filter(function(ie){return!oe.hasKey(ie)&&(oe.addKey(ie),!0)}));break;case"put":var ue=new At().addKeys(_.values.map(function(ie){return T(ie)}));N=S.filter(function(ie){return!ue.hasKey(a.values?T(ie):ie)}).concat(a.values?j:j.map(function(ie){return T(ie)}));break;case"delete":var te=new At().addKeys(_.keys);N=S.filter(function(ie){return!te.hasKey(a.values?T(ie):ie)});break;case"deleteRange":var me=_.range;N=S.filter(function(ie){return!Wi(T(ie),me)})}return N},s))===s)?s:(c.sort(function(S,_){return Oe(v(S),v(_))||Oe(T(S),T(_))}),a.limit&&a.limit<1/0&&(c.length>a.limit?c.length=a.limit:s.length===a.limit&&c.length<a.limit&&(d.dirty=!0)),f?Object.freeze(c):c)}function Qi(s,a){return Oe(s.lower,a.lower)===0&&Oe(s.upper,a.upper)===0&&!!s.lowerOpen==!!a.lowerOpen&&!!s.upperOpen==!!a.upperOpen}function za(s,a){return((l,c,d,f)=>{if(l===void 0)return c!==void 0?-1:0;if(c===void 0)return 1;if((l=Oe(l,c))===0){if(d&&f)return 0;if(d)return 1;if(f)return-1}return l})(s.lower,a.lower,s.lowerOpen,a.lowerOpen)<=0&&0<=((l,c,d,f)=>{if(l===void 0)return c!==void 0?1:0;if(c===void 0)return-1;if((l=Oe(l,c))===0){if(d&&f)return 0;if(d)return-1;if(f)return 1}return l})(s.upper,a.upper,s.upperOpen,a.upperOpen)}function Ba(s,a,l,c){s.subscribers.add(l),c.addEventListener("abort",function(){var d,f;s.subscribers.delete(l),s.subscribers.size===0&&(d=s,f=a,setTimeout(function(){d.subscribers.size===0&&W(f,d)},3e3))})}var Ua={stack:"dbcore",level:0,name:"Cache",create:function(s){var a=s.schema.name;return D(D({},s),{transaction:function(l,c,d){var f,m,h=s.transaction(l,c,d);return c==="readwrite"&&(d=(f=new AbortController).signal,h.addEventListener("abort",(m=function(k){return function(){if(f.abort(),c==="readwrite"){for(var T=new Set,b=0,v=l;b<v.length;b++){var S=v[b],_=Wn["idb://".concat(a,"/").concat(S)];if(_){var N=s.table(S),j=_.optimisticOps.filter(function(ge){return ge.trans===h});if(h._explicit&&k&&h.mutatedParts)for(var O=0,F=Object.values(_.queries.query);O<F.length;O++)for(var R=0,K=(ue=F[O]).slice();R<K.length;R++)zi((te=K[R]).obsSet,h.mutatedParts)&&(W(ue,te),te.subscribers.forEach(function(ge){return T.add(ge)}));else if(0<j.length){_.optimisticOps=_.optimisticOps.filter(function(ge){return ge.trans!==h});for(var G=0,oe=Object.values(_.queries.query);G<oe.length;G++)for(var ue,te,me,pe=0,ie=(ue=oe[G]).slice();pe<ie.length;pe++)(te=ie[pe]).res!=null&&h.mutatedParts&&(k&&!te.dirty?(me=Object.isFrozen(te.res),me=Yi(te.res,te.req,j,N,te,me),te.dirty?(W(ue,te),te.subscribers.forEach(function(ge){return T.add(ge)})):me!==te.res&&(te.res=me,te.promise=fe.resolve({result:me}))):(te.dirty&&W(ue,te),te.subscribers.forEach(function(ge){return T.add(ge)})))}}}T.forEach(function(ge){return ge()})}}})(!1),{signal:d}),h.addEventListener("error",m(!1),{signal:d}),h.addEventListener("complete",m(!0),{signal:d})),h},table:function(l){var c=s.table(l),d=c.schema.primaryKey;return D(D({},c),{mutate:function(f){var m,h=Se.trans;return!d.outbound&&h.db._options.cache!=="disabled"&&!h.explicit&&h.idbtrans.mode==="readwrite"&&(m=Wn["idb://".concat(a,"/").concat(l)])?(h=c.mutate(f),f.type!=="add"&&f.type!=="put"||!(50<=f.values.length||$i(d,f).some(function(k){return k==null}))?(m.optimisticOps.push(f),f.mutatedParts&&ni(f.mutatedParts),h.then(function(k){0<k.numFailures&&(W(m.optimisticOps,f),(k=Hr(0,f,k))&&m.optimisticOps.push(k),f.mutatedParts)&&ni(f.mutatedParts)}),h.catch(function(){W(m.optimisticOps,f),f.mutatedParts&&ni(f.mutatedParts)})):h.then(function(k){var T=Hr(0,D(D({},f),{values:f.values.map(function(b,v){var S;return k.failures[v]?b:(x(S=(S=d.keyPath)!=null&&S.includes(".")?He(b):D({},b),d.keyPath,k.results[v]),S)})}),k);m.optimisticOps.push(T),queueMicrotask(function(){return f.mutatedParts&&ni(f.mutatedParts)})}),h):c.mutate(f)},query:function(f){var m,h,k,T,b,v,S;return La(Se,c)&&Fa("query",f)?(m=((k=Se.trans)==null?void 0:k.db._options.cache)==="immutable",h=(k=Se).requery,k=k.signal,v=((_,N,j,O)=>{var F=Wn["idb://".concat(_,"/").concat(N)];if(!F)return[];if(!(_=F.queries[j]))return[null,!1,F,null];var R=_[(O.query?O.query.index.name:null)||""];if(!R)return[null,!1,F,null];switch(j){case"query":var K=R.find(function(G){return G.req.limit===O.limit&&G.req.values===O.values&&Qi(G.req.query.range,O.query.range)});return K?[K,!0,F,R]:[R.find(function(G){return("limit"in G.req?G.req.limit:1/0)>=O.limit&&(!O.values||G.req.values)&&za(G.req.query.range,O.query.range)}),!1,F,R];case"count":return K=R.find(function(G){return Qi(G.req.query.range,O.query.range)}),[K,!!K,F,R]}})(a,l,"query",f),S=v[0],T=v[2],b=v[3],S&&v[1]?S.obsSet=f.obsSet:(v=c.query(f).then(function(_){var N=_.result;if(S&&(S.res=N),m){for(var j=0,O=N.length;j<O;++j)Object.freeze(N[j]);Object.freeze(N)}else _.result=He(N);return _}).catch(function(_){return b&&S&&W(b,S),Promise.reject(_)}),S={obsSet:f.obsSet,promise:v,subscribers:new Set,type:"query",req:f,dirty:!1},b?b.push(S):(b=[S],(T=T||(Wn["idb://".concat(a,"/").concat(l)]={queries:{query:{},count:{}},objs:new Map,optimisticOps:[],unsignaledParts:{}})).queries.query[f.query.index.name||""]=b)),Ba(S,b,h,k),S.promise.then(function(_){return{result:Yi(_.result,f,T?.optimisticOps,c,S,m)}})):c.query(f)}})}})}};function Nn(s,a){return new Proxy(s,{get:function(l,c,d){return c==="db"?a:Reflect.get(l,c,d)}})}vt.prototype.version=function(s){if(isNaN(s)||s<.1)throw new be.Type("Given version is not a positive number");if(s=Math.round(10*s)/10,this.idbdb||this._state.isBeingOpened)throw new be.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,s);var a=this._versions,l=a.filter(function(c){return c._cfg.version===s})[0];return l||(l=new this.Version(s),a.push(l),a.sort(Li),l.stores({}),this._state.autoSchema=!1),l},vt.prototype._whenReady=function(s){var a=this;return this.idbdb&&(this._state.openComplete||Se.letThrough||this._vip)?s():new fe(function(l,c){if(a._state.openComplete)return c(new be.DatabaseClosed(a._state.dbOpenError));if(!a._state.isBeingOpened){if(!a._state.autoOpen)return void c(new be.DatabaseClosed);a.open().catch(st)}a._state.dbReadyPromise.then(l,c)}).then(s)},vt.prototype.use=function(d){var a=d.stack,l=d.create,c=d.level,d=d.name,f=(d&&this.unuse({stack:a,name:d}),this._middlewares[a]||(this._middlewares[a]=[]));return f.push({stack:a,create:l,level:c??10,name:d}),f.sort(function(m,h){return m.level-h.level}),this},vt.prototype.unuse=function(s){var a=s.stack,l=s.name,c=s.create;return a&&this._middlewares[a]&&(this._middlewares[a]=this._middlewares[a].filter(function(d){return c?d.create!==c:!!l&&d.name!==l})),this},vt.prototype.open=function(){var s=this;return Bn(In,function(){return qo(s)})},vt.prototype._close=function(){this.on.close.fire(new CustomEvent("close"));var s=this._state,a=Un.indexOf(this);if(0<=a&&Un.splice(a,1),this.idbdb){try{this.idbdb.close()}catch{}this.idbdb=null}s.isBeingOpened||(s.dbReadyPromise=new fe(function(l){s.dbReadyResolve=l}),s.openCanceller=new fe(function(l,c){s.cancelOpen=c}))},vt.prototype.close=function(a){var a=(a===void 0?{disableAutoOpen:!0}:a).disableAutoOpen,l=this._state;a?(l.isBeingOpened&&l.cancelOpen(new be.DatabaseClosed),this._close(),l.autoOpen=!1,l.dbOpenError=new be.DatabaseClosed):(this._close(),l.autoOpen=this._options.autoOpen||l.isBeingOpened,l.openComplete=!1,l.dbOpenError=null)},vt.prototype.delete=function(s){var a=this,l=(s===void 0&&(s={disableAutoOpen:!0}),0<arguments.length&&typeof arguments[0]!="object"),c=this._state;return new fe(function(d,f){function m(){a.close(s);var h=a._deps.indexedDB.deleteDatabase(a.name);h.onsuccess=ot(function(){var k,T,b;k=a._deps,T=a.name,mr(b=k.indexedDB)||T===hs||Ss(b,k.IDBKeyRange).delete(T).catch(st),d()}),h.onerror=Ct(f),h.onblocked=a._fireOnBlocked}if(l)throw new be.InvalidArgument("Invalid closeOptions argument to db.delete()");c.isBeingOpened?c.dbReadyPromise.then(m):m()})},vt.prototype.backendDB=function(){return this.idbdb},vt.prototype.isOpen=function(){return this.idbdb!==null},vt.prototype.hasBeenClosed=function(){var s=this._state.dbOpenError;return s&&s.name==="DatabaseClosed"},vt.prototype.hasFailed=function(){return this._state.dbOpenError!==null},vt.prototype.dynamicallyOpened=function(){return this._state.autoSchema},Object.defineProperty(vt.prototype,"tables",{get:function(){var s=this;return Q(this._allTables).map(function(a){return s._allTables[a]})},enumerable:!1,configurable:!0}),vt.prototype.transaction=function(){var s=function(a,l,c){var d=arguments.length;if(d<2)throw new be.InvalidArgument("Too few arguments");for(var f=new Array(d-1);--d;)f[d-1]=arguments[d];return c=f.pop(),[a,Ge(f),c]}.apply(this,arguments);return this._transaction.apply(this,s)},vt.prototype._transaction=function(s,a,l){var c,d,f=this,m=Se.trans,h=(m&&m.db===this&&s.indexOf("!")===-1||(m=null),s.indexOf("?")!==-1);s=s.replace("!","").replace("?","");try{if(d=a.map(function(T){if(T=T instanceof f.Table?T.name:T,typeof T!="string")throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return T}),s=="r"||s===Or)c=Or;else{if(s!="rw"&&s!=Di)throw new be.InvalidArgument("Invalid transaction mode: "+s);c=Di}if(m){if(m.mode===Or&&c===Di){if(!h)throw new be.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");m=null}m&&d.forEach(function(T){if(m&&m.storeNames.indexOf(T)===-1){if(!h)throw new be.SubTransaction("Table "+T+" not included in parent transaction.");m=null}}),h&&m&&!m.active&&(m=null)}}catch(T){return m?m._promise(null,function(b,v){v(T)}):xt(T)}var k=function T(b,v,S,_,N){return fe.resolve().then(function(){var R=Se.transless||Se,j=b._createTransaction(v,S,b._dbSchema,_),R=(j.explicit=!0,{trans:j,transless:R});if(_)j.idbtrans=_.idbtrans;else try{j.create(),j.idbtrans._explicit=!0,b._state.PR1398_maxLoop=3}catch(K){return K.name===tt.InvalidState&&b.isOpen()&&0<--b._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),b.close({disableAutoOpen:!1}),b.open().then(function(){return T(b,v,S,null,N)})):xt(K)}var O,F=P(N),R=(F&&Ir(),fe.follow(function(){var K;(O=N.call(j,j))&&(F?(K=Kt.bind(null,null),O.then(K,K)):typeof O.next=="function"&&typeof O.throw=="function"&&(O=qi(O)))},R));return(O&&typeof O.then=="function"?fe.resolve(O).then(function(K){return j.active?K:xt(new be.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))}):R.then(function(){return O})).then(function(K){return _&&j._resolve(),j._completion.then(function(){return K})}).catch(function(K){return j._reject(K),xt(K)})})}.bind(null,this,c,d,m,l);return m?m._promise(c,k,"lock"):Se.trans?Bn(Se.transless,function(){return f._whenReady(k)}):this._whenReady(k)},vt.prototype.table=function(s){if(A(this._allTables,s))return this._allTables[s];throw new be.InvalidTable("Table ".concat(s," does not exist"))};var kn=vt;function vt(s,a){var l,c,d,f,m,h=this,k=(this._middlewares={},this.verno=0,vt.dependencies),k=(this._options=a=D({addons:vt.addons,autoOpen:!0,indexedDB:k.indexedDB,IDBKeyRange:k.IDBKeyRange,cache:"cloned"},a),this._deps={indexedDB:a.indexedDB,IDBKeyRange:a.IDBKeyRange},a.addons),T=(this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this,{dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:st,dbReadyPromise:null,cancelOpen:st,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3,autoOpen:a.autoOpen}),b=(T.dbReadyPromise=new fe(function(v){T.dbReadyResolve=v}),T.openCanceller=new fe(function(v,S){T.cancelOpen=S}),this._state=T,this.name=s,this.on=vs(this,"populate","blocked","versionchange","close",{ready:[Jn,st]}),this.once=function(v,S){var _=function(){for(var N=[],j=0;j<arguments.length;j++)N[j]=arguments[j];h.on(v).unsubscribe(_),S.apply(h,N)};return h.on(v,_)},this.on.ready.subscribe=Ze(this.on.ready.subscribe,function(v){return function(S,_){vt.vip(function(){var N,j=h._state;j.openComplete?(j.dbOpenError||fe.resolve().then(S),_&&v(S)):j.onReadyBeingFired?(j.onReadyBeingFired.push(S),_&&v(S)):(v(S),N=h,_||v(function O(){N.on.ready.unsubscribe(S),N.on.ready.unsubscribe(O)}))})}}),this.Collection=(l=this,ur(Ca.prototype,function(O,j){this.db=l;var _=gs,N=null;if(j)try{_=j()}catch(R){N=R}var j=O._ctx,O=j.table,F=O.hook.reading.fire;this._ctx={table:O,index:j.index,isPrimKey:!j.index||O.schema.primKey.keyPath&&j.index===O.schema.primKey.name,range:_,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:N,or:j.or,valueMapper:F!==An?F:null}})),this.Table=(c=this,ur(xs.prototype,function(v,S,_){this.db=c,this._tx=_,this.name=v,this.schema=S,this.hook=c._allTables[v]?c._allTables[v].hook:vs(null,{creating:[xa,st],reading:[_i,An],updating:[va,st],deleting:[Ci,st]})})),this.Transaction=(d=this,ur(Ta.prototype,function(v,S,_,N,j){var O=this;v!=="readonly"&&S.forEach(function(F){F=(F=_[F])==null?void 0:F.yProps,F&&(S=S.concat(F.map(function(R){return R.updatesTable})))}),this.db=d,this.mode=v,this.storeNames=S,this.schema=_,this.chromeTransactionDurability=N,this.idbtrans=null,this.on=vs(this,"complete","error","abort"),this.parent=j||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new fe(function(F,R){O._resolve=F,O._reject=R}),this._completion.then(function(){O.active=!1,O.on.complete.fire()},function(F){var R=O.active;return O.active=!1,O.on.error.fire(F),O.parent?O.parent._reject(F):R&&O.idbtrans&&O.idbtrans.abort(),xt(F)})})),this.Version=(f=this,ur(Ko.prototype,function(v){this.db=f,this._cfg={version:v,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})),this.WhereClause=(m=this,ur(Fr.prototype,function(v,S,_){if(this.db=m,this._ctx={table:v,index:S===":id"?null:S,or:_},this._cmp=this._ascending=Oe,this._descending=function(N,j){return Oe(j,N)},this._max=function(N,j){return 0<Oe(N,j)?N:j},this._min=function(N,j){return Oe(N,j)<0?N:j},this._IDBKeyRange=m._deps.IDBKeyRange,!this._IDBKeyRange)throw new be.MissingAPI})),this.on("versionchange",function(v){0<v.newVersion?console.warn("Another connection wants to upgrade database '".concat(h.name,"'. Closing db now to resume the upgrade.")):console.warn("Another connection wants to delete database '".concat(h.name,"'. Closing db now to resume the delete request.")),h.close({disableAutoOpen:!1})}),this.on("blocked",function(v){!v.newVersion||v.newVersion<v.oldVersion?console.warn("Dexie.delete('".concat(h.name,"') was blocked")):console.warn("Upgrade '".concat(h.name,"' blocked by other connection holding version ").concat(v.oldVersion/10))}),this._maxKey=bn(a.IDBKeyRange),this._createTransaction=function(v,S,_,N){return new h.Transaction(v,S,_,h._options.chromeTransactionDurability,N)},this._fireOnBlocked=function(v){h.on("blocked").fire(v),Un.filter(function(S){return S.name===h.name&&S!==h&&!S._state.vcFired}).map(function(S){return S.on("versionchange").fire(v)})},this.use($o),this.use(Ua),this.use(Hi),this.use(Ia),this.use(Vo),new Proxy(this,{get:function(v,S,_){var N;return S==="_vip"||(S==="table"?function(j){return Nn(h.table(j),b)}:(N=Reflect.get(v,S,_))instanceof xs?Nn(N,b):S==="tables"?N.map(function(j){return Nn(j,b)}):S==="_createTransaction"?function(){return Nn(N.apply(this,arguments),b)}:N)}}));this.vip=b,k.forEach(function(v){return v(h)})}var ii,hr=typeof Symbol<"u"&&"observable"in Symbol?Symbol.observable:"@@observable",Ka=(gr.prototype.subscribe=function(s,a,l){return this._subscribe(s&&typeof s!="function"?s:{next:s,error:a,complete:l})},gr.prototype[hr]=function(){return this},gr);function gr(s){this._subscribe=s}try{ii={indexedDB:$.indexedDB||$.mozIndexedDB||$.webkitIndexedDB||$.msIndexedDB,IDBKeyRange:$.IDBKeyRange||$.webkitIDBKeyRange}}catch{ii={indexedDB:null,IDBKeyRange:null}}function Wr(s){var a,l=!1,c=new Ka(function(d){var f=P(s),m,h=!1,k={},T={},b={get closed(){return h},unsubscribe:function(){h||(h=!0,m&&m.abort(),v&&Vn.storagemutated.unsubscribe(_))}},v=(d.start&&d.start(b),!1),S=function(){return $s(N)},_=function(j){ti(k,j),zi(T,k)&&S()},N=function(){var j,O,F;!h&&ii.indexedDB&&(k={},j={},m&&m.abort(),m=new AbortController,F=(R=>{var K=Ln();try{f&&Ir();var G=Fn(s,R);return G=f?G.finally(Kt):G}finally{K&&sr()}})(O={subscr:j,signal:m.signal,requery:S,querier:s,trans:null}),Promise.resolve(F).then(function(R){l=!0,a=R,h||O.signal.aborted||(k={},(K=>{for(var G in K)if(A(K,G))return;return 1})(T=j)||v||(Vn(zr,_),v=!0),$s(function(){return!h&&d.next&&d.next(R)}))},function(R){l=!1,["DatabaseClosedError","AbortError"].includes(R?.name)||h||$s(function(){h||d.error&&d.error(R)})}))};return setTimeout(S,0),b});return c.hasValue=function(){return l},c.getValue=function(){return a},c}var yr=kn;function Yr(s){var a=Sn;try{Sn=!0,Vn.storagemutated.fire(s),Ki(s,!0)}finally{Sn=a}}H(yr,D(D({},V),{delete:function(s){return new yr(s,{addons:[]}).delete()},exists:function(s){return new yr(s,{addons:[]}).open().then(function(a){return a.close(),!0}).catch("NoSuchDatabaseError",function(){return!1})},getDatabaseNames:function(s){try{return a=yr.dependencies,l=a.indexedDB,a=a.IDBKeyRange,(mr(l)?Promise.resolve(l.databases()).then(function(c){return c.map(function(d){return d.name}).filter(function(d){return d!==hs})}):Ss(l,a).toCollection().primaryKeys()).then(s)}catch{return xt(new be.MissingAPI)}var a,l},defineClass:function(){return function(s){Z(this,s)}},ignoreTransaction:function(s){return Se.trans?Bn(Se.transless,s):s()},vip:$r,async:function(s){return function(){try{var a=qi(s.apply(this,arguments));return a&&typeof a.then=="function"?a:fe.resolve(a)}catch(l){return xt(l)}}},spawn:function(s,a,l){try{var c=qi(s.apply(l,a||[]));return c&&typeof c.then=="function"?c:fe.resolve(c)}catch(d){return xt(d)}},currentTransaction:{get:function(){return Se.trans||null}},waitFor:function(s,a){return s=fe.resolve(typeof s=="function"?yr.ignoreTransaction(s):s).timeout(a||6e4),Se.trans?Se.trans.waitFor(s):s},Promise:fe,debug:{get:function(){return Ot},set:function(s){Us(s)}},derive:Me,extend:Z,props:H,override:Ze,Events:vs,on:Vn,liveQuery:Wr,extendObservabilitySet:ti,getByKeyPath:Ye,setByKeyPath:x,delByKeyPath:function(s,a){typeof a=="string"?x(s,a,void 0):"length"in a&&[].map.call(a,function(l){x(s,l,void 0)})},shallowClone:se,deepClone:He,getObjectDiff:Vi,cmp:Oe,asap:pt,minKey:-1/0,addons:[],connections:Un,errnames:tt,dependencies:ii,cache:Wn,semVer:"4.3.0",version:"4.3.0".split(".").map(function(s){return parseInt(s)}).reduce(function(s,a,l){return s+a/Math.pow(10,2*l)})})),yr.maxKey=bn(yr.dependencies.IDBKeyRange),typeof dispatchEvent<"u"&&typeof addEventListener<"u"&&(Vn(zr,function(s){Sn||(s=new CustomEvent(fr,{detail:s}),Sn=!0,dispatchEvent(s),Sn=!1)}),addEventListener(fr,function(s){s=s.detail,Sn||Yr(s)}));var Qr,Sn=!1,ai=function(){};return typeof BroadcastChannel<"u"&&((ai=function(){(Qr=new BroadcastChannel(fr)).onmessage=function(s){return s.data&&Yr(s.data)}})(),typeof Qr.unref=="function"&&Qr.unref(),Vn(zr,function(s){Sn||Qr.postMessage(s)})),typeof addEventListener<"u"&&(addEventListener("pagehide",function(s){if(!kn.disableBfCache&&s.persisted){Ot&&console.debug("Dexie: handling persisted pagehide"),Qr?.close();for(var a=0,l=Un;a<l.length;a++)l[a].close({disableAutoOpen:!1})}}),addEventListener("pageshow",function(s){!kn.disableBfCache&&s.persisted&&(Ot&&console.debug("Dexie: handling persisted pageshow"),ai(),Yr({all:new At(-1/0,[[]])}))})),fe.rejectionMapper=function(s,a){return!s||s instanceof Te||s instanceof TypeError||s instanceof SyntaxError||!s.name||!ds[s.name]?s:(a=new ds[s.name](a||s.message,s),"stack"in s&&xe(a,"stack",{get:function(){return this.inner.stack}}),a)},Us(Ot),D(kn,Object.freeze({__proto__:null,Dexie:kn,Entity:ka,PropModification:qn,RangeSet:At,add:function(s){return new qn({add:s})},cmp:Oe,default:kn,liveQuery:Wr,mergeRanges:Cs,rangesOverlap:Js,remove:function(s){return new qn({remove:s})},replacePrefix:function(s,a){return new qn({replacePrefix:[s,a]})}}),{default:kn}),kn})})(Io)),Io.exports}var im=sm();const pu=Dd(im),_d=Symbol.for("Dexie"),Fo=globalThis[_d]||(globalThis[_d]=pu);if(pu.semVer!==Fo.semVer)throw new Error(`Two different versions of Dexie loaded in the same app: ${pu.semVer} and ${Fo.semVer}`);const{liveQuery:am,mergeRanges:Tm,rangesOverlap:Rm,RangeSet:Am,cmp:Dm,Entity:Mm,PropModification:Im,replacePrefix:Om,add:Lm,remove:Fm,DexieYProvider:zm}=Fo,vu=y=>{let q="";return y.forEach(C=>{q+=String.fromCharCode(C)}),btoa(q)},Kd=async(y,q)=>{const D=new TextEncoder().encode(`${q}:${y}`),X=await crypto.subtle.digest("SHA-256",D);return vu(new Uint8Array(X))},wu=async y=>{const q=new Uint8Array(16);crypto.getRandomValues(q);const C=vu(q);return{hash:await Kd(y,C),salt:C}},om=async(y,q,C)=>!q||!C?!1:await Kd(y,C)===q,qd=()=>{const y=new Uint8Array(24);return crypto.getRandomValues(y),vu(y).replace(/=+$/u,"")},lm=y=>{if(!y)return"";const q=y.slice(-4);return`${"*".repeat(Math.max(0,y.length-4))}${q}`},Si=()=>{if(typeof crypto<"u"&&"randomUUID"in crypto)return crypto.randomUUID();const y=Math.random().toString(36).slice(2);return`${Date.now().toString(36)}-${y}`},cs=()=>new Date().toISOString(),Zn=y=>{const q=Number.isFinite(y)?y:0;return`PHP ${new Intl.NumberFormat("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}).format(q)}`},Cr=y=>{if(!y)return"";const q=new Date(y);return Number.isNaN(q.getTime())?"":q.toLocaleDateString()},_r=y=>{if(typeof y=="number")return y;const q=Number(y);return Number.isFinite(q)?q:0};class um extends Fo{employees;products;returns;activityLogs;settings;constructor(){super("bts-inventory-db"),this.version(1).stores({employees:"id, email, role, status",products:"id, valueCategory, article, parControlNumber, propertyNumber, status, assignedToEmployeeId",returns:"id, rrspNumber, productId, returnDate, status, returnedByEmployeeId",activityLogs:"id, action, entityType, entityId, performedByEmployeeId, timestamp",settings:"id"})}}const Ie=new um,ki={email:"admin@local",password:"admin123"},cm=async()=>{if(await Ie.employees.count()>0)return;const{hash:q,salt:C}=await wu(ki.password),D=Si();await Ie.employees.add({id:D,fullName:"System Administrator",email:ki.email,phone:"",department:"Administration",role:"admin",status:"active",passwordHash:q,passwordSalt:C,createdAt:cs(),location:"",twoFactorEnabled:!1,emailNotifications:!1,lowStockAlerts:!1,language:"English"}),await Ie.activityLogs.add({id:Si(),action:"CREATE",entityType:"employee",entityId:D,performedByEmployeeId:D,timestamp:cs(),details:"Initial admin account created",status:"success",ipAddress:"offline"})},dm=async()=>{if(await Ie.settings.count()>0)return;const q=Intl.DateTimeFormat().resolvedOptions().timeZone||"UTC";await Ie.settings.add({id:"system",systemName:"BTS Property Inventory Management System",companyName:"",timeZone:q,dateFormat:"YYYY-MM-DD",maintenanceMode:!1,notificationsLowStock:!1,notificationsNewReturn:!1,notificationsReturnApproved:!1,notificationsEmployeeAdded:!1,notificationsSystemUpdates:!1,passwordPolicy:"medium",sessionTimeoutMinutes:30,maxLoginAttempts:5,requireTwoFactor:!1,ipWhitelistEnabled:!1,backupFrequency:"monthly",lastBackupAt:"",smtpServer:"",smtpPort:"",smtpEncryption:"TLS",smtpFromEmail:"",apiKey:qd(),apiRateLimit:100,apiEnabled:!1})},fm=async()=>{Ie.isOpen()||await Ie.open(),await cm(),await dm()},Vd=he.createContext(void 0),Mo="bts-pims-session-user";function pm({children:y}){const[q,C]=he.useState(null),[D,X]=he.useState(!0),[$,Q]=he.useState(null);he.useEffect(()=>{let A=!0;return(async()=>{try{await fm();const ee=localStorage.getItem(Mo);if(ee){const xe=await Ie.employees.get(ee);xe&&xe.status==="active"?A&&C(xe):localStorage.removeItem(Mo)}}catch{A&&Q("Failed to initialize local database.")}finally{A&&X(!1)}})(),()=>{A=!1}},[]);const B=async(A,H)=>{const ee=A.trim().toLowerCase();if(!ee||!H)return{success:!1,error:"Email and password are required."};const xe=await Ie.employees.where("email").equals(ee).first();return xe?xe.status!=="active"?{success:!1,error:"Account is inactive. Contact an administrator."}:await om(H,xe.passwordHash,xe.passwordSalt)?(localStorage.setItem(Mo,xe.id),C(xe),{success:!0}):{success:!1,error:"Invalid email or password."}:{success:!1,error:"Invalid email or password."}},Z=()=>{localStorage.removeItem(Mo),C(null)},Y=async()=>{if(!q)return;const A=await Ie.employees.get(q.id);A&&C(A)},ce=he.useMemo(()=>({currentUser:q,loading:D,initError:$,login:B,logout:Z,refreshUser:Y}),[q,D,$]);return r.jsx(Vd.Provider,{value:ce,children:y})}const bu=()=>{const y=he.useContext(Vd);if(!y)throw new Error("useAuth must be used within AuthProvider");return y};function mm({initError:y}){const{login:q}=bu(),[C,D]=he.useState(""),[X,$]=he.useState(""),[Q,B]=he.useState(null),Z=async ce=>{ce.preventDefault(),B(null);const A=await q(C,X);A.success||B(A.error||"Unable to sign in.")},Y=()=>{D(ki.email),$(ki.password)};return r.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center p-4",children:r.jsx("div",{className:"w-full max-w-md",children:r.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8",children:[r.jsxs("div",{className:"text-center mb-8",children:[r.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-indigo-600 rounded-full mb-4",children:r.jsx(ya,{className:"w-8 h-8 text-white"})}),r.jsx("h1",{className:"font-bold text-gray-900 mb-2",children:"BTS Property Inventory Management System"}),r.jsx("p",{className:"text-gray-600",children:"Sign in to your account"})]}),r.jsxs("form",{onSubmit:Z,className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address"}),r.jsx("input",{id:"email",type:"email",value:C,onChange:ce=>D(ce.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent outline-none transition",placeholder:"you@company.com",required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-2",children:"Password"}),r.jsx("input",{id:"password",type:"password",value:X,onChange:ce=>$(ce.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent outline-none transition",placeholder:"********",required:!0})]}),y&&r.jsx("div",{className:"text-sm text-red-600 bg-red-50 border border-red-200 rounded-lg px-3 py-2",children:y}),Q&&r.jsx("div",{className:"text-sm text-red-600 bg-red-50 border border-red-200 rounded-lg px-3 py-2",children:Q}),r.jsxs("button",{type:"submit",className:"w-full bg-indigo-600 text-white py-3 rounded-lg hover:bg-indigo-700 transition font-medium flex items-center justify-center gap-2",children:[r.jsx(Ap,{className:"w-5 h-5"}),"Sign In"]})]}),r.jsxs("div",{className:"mt-8 pt-8 border-t border-gray-200",children:[r.jsx("p",{className:"text-sm text-gray-600 text-center mb-4",children:"First Run Admin Credentials"}),r.jsxs("div",{className:"space-y-3 text-sm text-gray-700",children:[r.jsxs("div",{className:"flex items-center justify-between rounded-lg bg-gray-50 px-3 py-2",children:[r.jsx("span",{children:"Email"}),r.jsx("span",{className:"font-medium",children:ki.email})]}),r.jsxs("div",{className:"flex items-center justify-between rounded-lg bg-gray-50 px-3 py-2",children:[r.jsx("span",{children:"Password"}),r.jsx("span",{className:"font-medium",children:ki.password})]}),r.jsxs("button",{type:"button",onClick:Y,className:"w-full px-4 py-2 bg-indigo-50 text-indigo-700 rounded-lg hover:bg-indigo-100 transition font-medium text-sm flex items-center justify-center gap-2",children:[r.jsx(ya,{className:"w-4 h-4"}),"Use Default Admin"]}),r.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-500",children:[r.jsx(cu,{className:"w-4 h-4"}),"Update these credentials after first login."]})]})]})]})})})}function hm(y,q,C){var D,X;typeof y=="function"?(D=q||[],X=C):(D=[],X=q);var $=ga.useRef({hasResult:!1,result:X,error:null}),Q=ga.useReducer(function(Y){return Y+1},0);Q[0];var B=Q[1],Z=ga.useMemo(function(){var Y=typeof y=="function"?y():y;if(!Y||typeof Y.subscribe!="function")throw y===Y?new TypeError("Given argument to useObservable() was neither a valid observable nor a function."):new TypeError("Observable factory given to useObservable() did not return a valid observable.");if(!$.current.hasResult&&typeof window<"u"&&(typeof Y.hasValue!="function"||Y.hasValue()))if(typeof Y.getValue=="function")$.current.result=Y.getValue(),$.current.hasResult=!0;else{var ce=Y.subscribe(function(A){$.current.result=A,$.current.hasResult=!0});typeof ce=="function"?ce():ce.unsubscribe()}return Y},D);if(ga.useDebugValue($.current.result),ga.useEffect(function(){var Y=Z.subscribe(function(ce){var A=$.current;(A.error!==null||A.result!==ce)&&(A.error=null,A.result=ce,A.hasResult=!0,B())},function(ce){var A=$.current;A.error!==ce&&(A.error=ce,B())});return typeof Y=="function"?Y:Y.unsubscribe.bind(Y)},D),$.current.error)throw $.current.error;return $.current.result}function Tt(y,q,C){return hm(function(){return am(y)},q||[],C)}function Cd({user:y}){const q=Tt(()=>Ie.products.toArray(),[]),C=Tt(()=>Ie.employees.toArray(),[]),D=Tt(()=>Ie.returns.toArray(),[]),X=Tt(()=>Ie.activityLogs.toArray(),[]),$=y.role==="admin",Q=y.role==="employee",B=he.useMemo(()=>(q||[]).filter(H=>H.assignedToEmployeeId===y.id),[q,y.id]),Z=he.useMemo(()=>(q||[]).filter(H=>H.onHandPerCount<H.balancePerCard).slice(0,3),[q]),Y=he.useMemo(()=>(X||[]).slice().sort((H,ee)=>new Date(ee.timestamp).getTime()-new Date(H.timestamp).getTime()).slice(0,4),[X]),ce={totalProducts:Q?B.length:(q||[]).length,lowStockItems:Q?0:Z.length,totalEmployees:$?(C||[]).length:0,pendingReturns:Q?(D||[]).filter(H=>H.returnedByEmployeeId===y.id&&H.status==="pending").length:(D||[]).filter(H=>H.status==="pending").length},A=H=>H==="CREATE"?"success":H==="ASSIGN"||H==="UPDATE"?"info":H==="DELETE"?"warning":"info";return r.jsxs("div",{className:"p-8",children:[r.jsxs("div",{className:"mb-8",children:[r.jsxs("h1",{className:"font-bold text-gray-900 mb-2",children:["Welcome back, ",y.fullName]}),r.jsxs("p",{className:"text-gray-600",children:[$&&"You have full system control and oversight",Q&&"View your assigned products and submit returns",!$&&!Q&&"Manage inventory workflows and return approvals"]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[r.jsxs("div",{className:"bg-white p-6 rounded-xl border border-gray-200",children:[r.jsxs("div",{className:"flex items-start justify-between mb-4",children:[r.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center",children:r.jsx(Oo,{className:"w-6 h-6 text-blue-600"})}),r.jsxs("span",{className:"text-sm text-green-600 flex items-center gap-1",children:[r.jsx(Nd,{className:"w-4 h-4"}),"Live"]})]}),r.jsx("p",{className:"text-gray-600 text-sm mb-1",children:Q?"Assigned Products":"Total Products"}),r.jsx("p",{className:"font-bold text-gray-900",children:ce.totalProducts})]}),!Q&&r.jsxs("div",{className:"bg-white p-6 rounded-xl border border-gray-200",children:[r.jsxs("div",{className:"flex items-start justify-between mb-4",children:[r.jsx("div",{className:"w-12 h-12 bg-orange-100 rounded-lg flex items-center justify-center",children:r.jsx(kd,{className:"w-6 h-6 text-orange-600"})}),r.jsxs("span",{className:"text-sm text-red-600 flex items-center gap-1",children:[r.jsx(Qp,{className:"w-4 h-4"}),"Threshold"]})]}),r.jsx("p",{className:"text-gray-600 text-sm mb-1",children:"Low Stock Items"}),r.jsx("p",{className:"font-bold text-gray-900",children:ce.lowStockItems})]}),$&&r.jsxs("div",{className:"bg-white p-6 rounded-xl border border-gray-200",children:[r.jsxs("div",{className:"flex items-start justify-between mb-4",children:[r.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-lg flex items-center justify-center",children:r.jsx(xu,{className:"w-6 h-6 text-purple-600"})}),r.jsxs("span",{className:"text-sm text-green-600 flex items-center gap-1",children:[r.jsx(Nd,{className:"w-4 h-4"}),"Active"]})]}),r.jsx("p",{className:"text-gray-600 text-sm mb-1",children:"Total Employees"}),r.jsx("p",{className:"font-bold text-gray-900",children:ce.totalEmployees})]}),r.jsxs("div",{className:"bg-white p-6 rounded-xl border border-gray-200",children:[r.jsxs("div",{className:"flex items-start justify-between mb-4",children:[r.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center",children:r.jsx(Lo,{className:"w-6 h-6 text-green-600"})}),r.jsxs("span",{className:"text-sm text-orange-600 flex items-center gap-1",children:[r.jsx(Id,{className:"w-4 h-4"}),"Pending"]})]}),r.jsx("p",{className:"text-gray-600 text-sm mb-1",children:"Pending Returns"}),r.jsx("p",{className:"font-bold text-gray-900",children:ce.pendingReturns})]})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[!Q&&r.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6",children:[r.jsx("h2",{className:"font-bold text-gray-900 mb-4",children:"Recent Activity"}),Y.length===0?r.jsx("p",{className:"text-sm text-gray-600",children:"No activity logged yet."}):r.jsx("div",{className:"space-y-4",children:Y.map(H=>{const ee=A(H.action);return r.jsxs("div",{className:"flex items-start gap-3 pb-4 border-b border-gray-100 last:border-0 last:pb-0",children:[r.jsxs("div",{className:`w-8 h-8 rounded-lg flex items-center justify-center ${ee==="success"?"bg-green-100":ee==="warning"?"bg-orange-100":"bg-blue-100"}`,children:[ee==="success"&&r.jsx(up,{className:"w-4 h-4 text-green-600"}),ee==="warning"&&r.jsx(kd,{className:"w-4 h-4 text-orange-600"}),ee==="info"&&r.jsx(Lo,{className:"w-4 h-4 text-blue-600"})]}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("p",{className:"text-sm font-medium text-gray-900",children:H.action}),r.jsx("p",{className:"text-sm text-gray-600 truncate",children:H.details}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:Cr(H.timestamp)})]})]},H.id)})})]}),!Q&&r.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h2",{className:"font-bold text-gray-900",children:"Low Stock Alert"}),r.jsxs("span",{className:"px-3 py-1 bg-orange-100 text-orange-700 rounded-full text-sm font-medium",children:[Z.length," Items"]})]}),Z.length===0?r.jsx("p",{className:"text-sm text-gray-600",children:"No low stock alerts."}):r.jsx("div",{className:"space-y-4",children:Z.map(H=>r.jsxs("div",{className:"flex items-center justify-between pb-4 border-b border-gray-100 last:border-0 last:pb-0",children:[r.jsxs("div",{className:"flex-1",children:[r.jsx("p",{className:"text-sm font-medium text-gray-900",children:H.article}),r.jsx("p",{className:"text-xs text-gray-500",children:H.description})]}),r.jsxs("div",{className:"text-right",children:[r.jsxs("p",{className:"text-sm font-medium text-orange-600",children:[H.onHandPerCount," units"]}),r.jsxs("p",{className:"text-xs text-gray-500",children:["Min: ",H.balancePerCard]})]})]},H.id))})]}),Q&&r.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6 lg:col-span-2",children:[r.jsx("h2",{className:"font-bold text-gray-900 mb-4",children:"My Assigned Products"}),B.length===0?r.jsx("p",{className:"text-sm text-gray-600",children:"No products assigned yet."}):r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:B.map(H=>r.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[r.jsxs("div",{className:"flex items-start justify-between mb-2",children:[r.jsxs("div",{children:[r.jsx("p",{className:"font-medium text-gray-900",children:H.article}),r.jsx("p",{className:"text-sm text-gray-600",children:H.description})]}),r.jsx("span",{className:"px-2 py-1 bg-green-100 text-green-700 rounded text-xs font-medium",children:H.status})]}),r.jsxs("div",{className:"flex items-center justify-between mt-3 pt-3 border-t border-gray-100",children:[r.jsx("span",{className:"text-sm text-gray-600",children:"Quantity"}),r.jsxs("span",{className:"font-medium text-gray-900",children:[H.onHandPerCount," units"]})]})]},H.id))})]})]})]})}const Zt=async({action:y,entityType:q,entityId:C,performedByEmployeeId:D,details:X,status:$="success"})=>{await Ie.activityLogs.add({id:Si(),action:y,entityType:q,entityId:C,performedByEmployeeId:D,timestamp:cs(),details:X,status:$,ipAddress:"offline"})},lu={valueCategory:"",article:"",description:"",date:"",parControlNumber:"",propertyNumber:"",unit:"",unitValue:"",balancePerCard:"",onHandPerCount:"",remarks:"",assignedToEmployeeId:""},Ed=["HV","MV","LV"],Pd=["pcs","set","box","unit","pack"];function gm({user:y}){const[q,C]=he.useState(""),[D,X]=he.useState("all"),[$,Q]=he.useState(!1),[B,Z]=he.useState(!1),[Y,ce]=he.useState(null),[A,H]=he.useState(lu),[ee,xe]=he.useState(null),Me=Tt(()=>Ie.products.toArray(),[]),Re=Tt(()=>Ie.employees.toArray(),[]),Ne=he.useMemo(()=>{const I=new Map;return(Re||[]).forEach(U=>I.set(U.id,U)),I},[Re]),Fe=y.role==="admin"||y.role==="supervisor",Ze=(Me||[]).filter(I=>y.role==="employee"?I.assignedToEmployeeId===y.id:!0).filter(I=>D==="all"?!0:I.status===D).filter(I=>{const U=q.trim().toLowerCase();return U?I.article.toLowerCase().includes(U)||I.propertyNumber.toLowerCase().includes(U)||I.parControlNumber.toLowerCase().includes(U)||I.description.toLowerCase().includes(U):!0}),Ke=(I,U)=>{const ve=_r(I),W=_r(U);return ve*W},pt=()=>{H(lu),xe(null),Q(!0)},Ye=I=>{ce(I),H({valueCategory:I.valueCategory,article:I.article,description:I.description,date:I.date,parControlNumber:I.parControlNumber,propertyNumber:I.propertyNumber,unit:I.unit,unitValue:String(I.unitValue),balancePerCard:String(I.balancePerCard),onHandPerCount:String(I.onHandPerCount),remarks:I.remarks,assignedToEmployeeId:I.assignedToEmployeeId||""}),xe(null),Z(!0)},x=I=>I?"assigned":"available",se=async I=>{if(I.preventDefault(),!Fe)return;if(xe(null),!A.valueCategory||!A.article.trim()||!A.date||!A.parControlNumber.trim()){xe("Value, article, date, and PAR control number are required.");return}const U=Ke(A.unitValue,A.onHandPerCount),ve=Si(),W=A.assignedToEmployeeId||void 0,we=x(A.assignedToEmployeeId);await Ie.products.add({id:ve,valueCategory:A.valueCategory,article:A.article.trim(),description:A.description.trim(),date:A.date,parControlNumber:A.parControlNumber.trim(),propertyNumber:A.propertyNumber.trim(),unit:A.unit,unitValue:_r(A.unitValue),balancePerCard:_r(A.balancePerCard),onHandPerCount:_r(A.onHandPerCount),total:U,remarks:A.remarks.trim(),assignedToEmployeeId:W,status:we}),await Zt({action:"CREATE",entityType:"product",entityId:ve,performedByEmployeeId:y.id,details:`Product added: ${A.article.trim()}`}),W&&await Zt({action:"ASSIGN",entityType:"product",entityId:ve,performedByEmployeeId:y.id,details:`Product assigned to ${Ne.get(W)?.fullName||"employee"}`}),Q(!1),H(lu)},de=async I=>{if(I.preventDefault(),!Fe||!Y)return;if(xe(null),!A.valueCategory||!A.article.trim()||!A.date||!A.parControlNumber.trim()){xe("Value, article, date, and PAR control number are required.");return}const U=A.assignedToEmployeeId||void 0,ve=Ke(A.unitValue,A.onHandPerCount),W=x(A.assignedToEmployeeId);await Ie.products.update(Y.id,{valueCategory:A.valueCategory,article:A.article.trim(),description:A.description.trim(),date:A.date,parControlNumber:A.parControlNumber.trim(),propertyNumber:A.propertyNumber.trim(),unit:A.unit,unitValue:_r(A.unitValue),balancePerCard:_r(A.balancePerCard),onHandPerCount:_r(A.onHandPerCount),total:ve,remarks:A.remarks.trim(),assignedToEmployeeId:U,status:W}),await Zt({action:"UPDATE",entityType:"product",entityId:Y.id,performedByEmployeeId:y.id,details:`Product updated: ${A.article.trim()}`}),U!==(Y.assignedToEmployeeId||"")&&await Zt({action:"ASSIGN",entityType:"product",entityId:Y.id,performedByEmployeeId:y.id,details:U?`Product assigned to ${Ne.get(U)?.fullName||"employee"}`:"Product unassigned"}),Z(!1),ce(null)},Ge=async I=>{!Fe||!window.confirm(`Delete ${I.article}? This cannot be undone.`)||(await Ie.products.delete(I.id),await Zt({action:"DELETE",entityType:"product",entityId:I.id,performedByEmployeeId:y.id,details:`Product deleted: ${I.article}`}))},lt=async I=>{try{if(navigator.clipboard)await navigator.clipboard.writeText(I);else{const U=document.createElement("textarea");U.value=I,document.body.appendChild(U),U.select(),document.execCommand("copy"),document.body.removeChild(U)}}catch{}},Ve=()=>{X(D==="all"?"available":D==="available"?"assigned":D==="assigned"?"returned":"all")},He=I=>{switch(I){case"available":return"bg-green-100 text-green-700";case"assigned":return"bg-orange-100 text-orange-700";case"returned":return"bg-blue-100 text-blue-700";default:return"bg-gray-100 text-gray-700"}},Nt=I=>{switch(I){case"HV":return"bg-purple-100 text-purple-700";case"MV":return"bg-blue-100 text-blue-700";case"LV":return"bg-green-100 text-green-700";default:return"bg-gray-100 text-gray-700"}};return r.jsxs("div",{className:"p-8",children:[r.jsxs("div",{className:"mb-8",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"font-bold text-gray-900 mb-2",children:"Products"}),r.jsx("p",{className:"text-gray-600",children:y.role==="employee"?"View your assigned products":"Manage inventory products"})]}),Fe&&r.jsxs("button",{onClick:pt,className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition flex items-center gap-2",children:[r.jsx(yu,{className:"w-5 h-5"}),"Add Product"]})]}),r.jsxs("div",{className:"flex gap-4",children:[r.jsxs("div",{className:"flex-1 relative",children:[r.jsx(zo,{className:"w-5 h-5 text-gray-400 absolute left-3 top-1/2 -translate-y-1/2"}),r.jsx("input",{type:"text",placeholder:"Search products...",value:q,onChange:I=>C(I.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent outline-none"})]}),r.jsxs("button",{onClick:Ve,title:`Filter: ${D}`,className:"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition flex items-center gap-2",children:[r.jsx(bp,{className:"w-5 h-5"}),"Filter"]})]})]}),r.jsx("div",{className:"bg-white rounded-xl border border-gray-200 overflow-hidden",children:r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Value"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Article"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"PAR Control No."}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Property No."}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Unit"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Unit Value"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"On Hand"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Total"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),y.role!=="employee"&&r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Assigned To"}),r.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),r.jsxs("tbody",{className:"divide-y divide-gray-200",children:[Ze.length===0&&r.jsx("tr",{children:r.jsx("td",{className:"px-6 py-6 text-center text-gray-500",colSpan:y.role!=="employee"?11:10,children:"No products available."})}),Ze.map(I=>r.jsxs("tr",{className:"hover:bg-gray-50",children:[r.jsx("td",{className:"px-6 py-4",children:r.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${Nt(I.valueCategory)}`,children:I.valueCategory})}),r.jsx("td",{className:"px-6 py-4",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-10 h-10 bg-indigo-100 rounded-lg flex items-center justify-center",children:r.jsx(Oo,{className:"w-5 h-5 text-indigo-600"})}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium text-gray-900",children:I.article}),r.jsx("p",{className:"text-xs text-gray-500",children:I.description})]})]})}),r.jsx("td",{className:"px-6 py-4 text-sm text-gray-600",children:I.parControlNumber}),r.jsx("td",{className:"px-6 py-4 text-sm text-gray-600",children:I.propertyNumber}),r.jsx("td",{className:"px-6 py-4 text-sm text-gray-600",children:I.unit}),r.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:Zn(I.unitValue)}),r.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:I.onHandPerCount}),r.jsx("td",{className:"px-6 py-4 text-sm font-medium text-gray-900",children:Zn(I.total)}),r.jsx("td",{className:"px-6 py-4",children:r.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${He(I.status)}`,children:I.status})}),y.role!=="employee"&&r.jsx("td",{className:"px-6 py-4 text-sm text-gray-600",children:I.assignedToEmployeeId&&Ne.get(I.assignedToEmployeeId)?.fullName||"-"}),r.jsx("td",{className:"px-6 py-4 text-right",children:r.jsxs("div",{className:"flex items-center justify-end gap-2",children:[Fe&&r.jsx("button",{onClick:()=>Ye(I),className:"p-2 hover:bg-gray-100 rounded-lg transition",children:r.jsx(zd,{className:"w-4 h-4 text-gray-600"})}),Fe&&r.jsx("button",{onClick:()=>Ge(I),className:"p-2 hover:bg-red-50 rounded-lg transition",children:r.jsx(Bd,{className:"w-4 h-4 text-red-600"})}),r.jsx("button",{onClick:()=>lt(I.propertyNumber),title:"Copy property number",className:"p-2 hover:bg-gray-100 rounded-lg transition",children:r.jsx(hp,{className:"w-4 h-4 text-gray-600"})})]})})]},I.id))]})]})})}),$&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:r.jsxs("div",{className:"bg-white rounded-xl max-w-3xl w-full p-6 max-h-[90vh] overflow-y-auto",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsx("h2",{className:"font-bold text-gray-900",children:"Add New Product"}),r.jsx("button",{onClick:()=>Q(!1),className:"p-2 hover:bg-gray-100 rounded-lg",children:r.jsx(us,{className:"w-5 h-5"})})]}),r.jsxs("form",{className:"space-y-4",onSubmit:se,children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Value *"}),r.jsxs("select",{value:A.valueCategory,onChange:I=>H({...A,valueCategory:I.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent outline-none",required:!0,children:[r.jsx("option",{value:"",children:"Select value classification"}),Ed.map(I=>r.jsxs("option",{value:I,children:[I," (",I==="HV"?"High":I==="MV"?"Mid":"Low"," Value)"]},I))]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Article *"}),r.jsx("input",{type:"text",value:A.article,onChange:I=>H({...A,article:I.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent outline-none",required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Date *"}),r.jsx("input",{type:"date",value:A.date,onChange:I=>H({...A,date:I.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent outline-none",required:!0})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description *"}),r.jsx("textarea",{rows:3,value:A.description,onChange:I=>H({...A,description:I.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent outline-none",required:!0})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"PAR Control Number *"}),r.jsx("input",{type:"text",value:A.parControlNumber,onChange:I=>H({...A,parControlNumber:I.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent outline-none",required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Property Number *"}),r.jsx("input",{type:"text",value:A.propertyNumber,onChange:I=>H({...A,propertyNumber:I.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent outline-none",required:!0})]})]}),r.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Unit *"}),r.jsxs("select",{value:A.unit,onChange:I=>H({...A,unit:I.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent outline-none",required:!0,children:[r.jsx("option",{value:"",children:"Select unit"}),Pd.map(I=>r.jsx("option",{value:I,children:I},I))]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Unit Value (PHP) *"}),r.jsx("input",{type:"number",step:"0.01",value:A.unitValue,onChange:I=>H({...A,unitValue:I.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent outline-none",required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Balance per Card *"}),r.jsx("input",{type:"number",value:A.balancePerCard,onChange:I=>H({...A,balancePerCard:I.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent outline-none",required:!0})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"On Hand per Count *"}),r.jsx("input",{type:"number",value:A.onHandPerCount,onChange:I=>H({...A,onHandPerCount:I.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent outline-none",required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Total (PHP)"}),r.jsx("input",{type:"text",value:Zn(Ke(A.unitValue,A.onHandPerCount)),disabled:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg bg-gray-50 text-gray-600"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Remarks"}),r.jsx("textarea",{rows:2,value:A.remarks,onChange:I=>H({...A,remarks:I.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent outline-none"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Assign to"}),r.jsxs("select",{value:A.assignedToEmployeeId,onChange:I=>H({...A,assignedToEmployeeId:I.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent outline-none",children:[r.jsx("option",{value:"",children:"Unassigned"}),(Re||[]).map(I=>r.jsxs("option",{value:I.id,children:[I.fullName," (",I.role,")"]},I.id))]})]}),ee&&r.jsx("p",{className:"text-sm text-red-600",children:ee}),r.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t border-gray-200",children:[r.jsx("button",{type:"button",onClick:()=>Q(!1),className:"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition",children:"Cancel"}),r.jsx("button",{type:"submit",className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition",children:"Add Product"})]})]})]})}),B&&Y&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:r.jsxs("div",{className:"bg-white rounded-xl max-w-3xl w-full p-6 max-h-[90vh] overflow-y-auto",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsx("h2",{className:"font-bold text-gray-900",children:"Edit Product"}),r.jsx("button",{onClick:()=>Z(!1),className:"p-2 hover:bg-gray-100 rounded-lg",children:r.jsx(us,{className:"w-5 h-5"})})]}),r.jsxs("form",{className:"space-y-4",onSubmit:de,children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Value *"}),r.jsx("select",{value:A.valueCategory,onChange:I=>H({...A,valueCategory:I.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent outline-none",required:!0,children:Ed.map(I=>r.jsxs("option",{value:I,children:[I," (",I==="HV"?"High":I==="MV"?"Mid":"Low"," Value)"]},I))})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Article *"}),r.jsx("input",{type:"text",value:A.article,onChange:I=>H({...A,article:I.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent outline-none",required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Date *"}),r.jsx("input",{type:"date",value:A.date,onChange:I=>H({...A,date:I.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent outline-none",required:!0})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description *"}),r.jsx("textarea",{rows:3,value:A.description,onChange:I=>H({...A,description:I.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent outline-none",required:!0})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"PAR Control Number *"}),r.jsx("input",{type:"text",value:A.parControlNumber,onChange:I=>H({...A,parControlNumber:I.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent outline-none",required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Property Number *"}),r.jsx("input",{type:"text",value:A.propertyNumber,onChange:I=>H({...A,propertyNumber:I.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent outline-none",required:!0})]})]}),r.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Unit *"}),r.jsx("select",{value:A.unit,onChange:I=>H({...A,unit:I.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent outline-none",required:!0,children:Pd.map(I=>r.jsx("option",{value:I,children:I},I))})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Unit Value (PHP) *"}),r.jsx("input",{type:"number",step:"0.01",value:A.unitValue,onChange:I=>H({...A,unitValue:I.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent outline-none",required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Balance per Card *"}),r.jsx("input",{type:"number",value:A.balancePerCard,onChange:I=>H({...A,balancePerCard:I.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent outline-none",required:!0})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"On Hand per Count *"}),r.jsx("input",{type:"number",value:A.onHandPerCount,onChange:I=>H({...A,onHandPerCount:I.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent outline-none",required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Total (PHP)"}),r.jsx("input",{type:"text",value:Zn(Ke(A.unitValue,A.onHandPerCount)),disabled:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg bg-gray-50 text-gray-600"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Remarks"}),r.jsx("textarea",{rows:2,value:A.remarks,onChange:I=>H({...A,remarks:I.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent outline-none"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Assign to"}),r.jsxs("select",{value:A.assignedToEmployeeId,onChange:I=>H({...A,assignedToEmployeeId:I.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent outline-none",children:[r.jsx("option",{value:"",children:"Unassigned"}),(Re||[]).map(I=>r.jsxs("option",{value:I.id,children:[I.fullName," (",I.role,")"]},I.id))]})]}),ee&&r.jsx("p",{className:"text-sm text-red-600",children:ee}),r.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t border-gray-200",children:[r.jsx("button",{type:"button",onClick:()=>Z(!1),className:"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition",children:"Cancel"}),r.jsx("button",{type:"submit",className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition",children:"Save Changes"})]})]})]})})]})}const Td={fullName:"",email:"",phone:"",department:"",role:"employee",status:"active",password:""};function ym({user:y}){const[q,C]=he.useState(""),[D,X]=he.useState(!1),[$,Q]=he.useState(null),[B,Z]=he.useState(Td),[Y,ce]=he.useState(null),A=Tt(()=>Ie.employees.toArray(),[]),H=Tt(()=>Ie.products.toArray(),[]),ee=he.useMemo(()=>{const x=new Map;return(H||[]).forEach(se=>{se.assignedToEmployeeId&&x.set(se.assignedToEmployeeId,(x.get(se.assignedToEmployeeId)||0)+1)}),x},[H]),xe=y.role==="admin",Me=(A||[]).filter(x=>{const se=q.trim().toLowerCase();return se?x.fullName.toLowerCase().includes(se)||x.email.toLowerCase().includes(se)||x.department.toLowerCase().includes(se):!0}),Re=x=>{switch(x){case"admin":return{color:"bg-purple-100 text-purple-700",icon:ya,label:"admin"};case"supervisor":return{color:"bg-blue-100 text-blue-700",icon:Ud,label:"supervisor"};default:return{color:"bg-green-100 text-green-700",icon:xu,label:"employee"}}},Ne=()=>{Z(Td),ce(null)},Fe=()=>{Ne(),X(!0)},Ze=x=>{Q(x),Z({fullName:x.fullName,email:x.email,phone:x.phone,department:x.department,role:x.role,status:x.status,password:""}),ce(null)},Ke=async x=>{if(x.preventDefault(),!xe)return;ce(null);const se=B.email.trim().toLowerCase();if(!B.fullName.trim()||!se||!B.password){ce("Full name, email, and password are required.");return}if(await Ie.employees.where("email").equals(se).first()){ce("An employee with this email already exists.");return}const{hash:Ge,salt:lt}=await wu(B.password),Ve=Si();await Ie.employees.add({id:Ve,fullName:B.fullName.trim(),email:se,phone:B.phone.trim(),department:B.department.trim(),role:B.role,status:B.status,passwordHash:Ge,passwordSalt:lt,createdAt:cs(),location:"",twoFactorEnabled:!1,emailNotifications:!1,lowStockAlerts:!1,language:"English"}),await Zt({action:"CREATE",entityType:"employee",entityId:Ve,performedByEmployeeId:y.id,details:`Employee created: ${B.fullName.trim()}`}),X(!1),Ne()},pt=async x=>{if(x.preventDefault(),!xe||!$)return;ce(null);const se=B.email.trim().toLowerCase();if(!B.fullName.trim()||!se){ce("Full name and email are required.");return}const de=await Ie.employees.where("email").equals(se).first();if(de&&de.id!==$.id){ce("Another employee already uses this email.");return}await Ie.employees.update($.id,{fullName:B.fullName.trim(),email:se,phone:B.phone.trim(),department:B.department.trim(),role:B.role,status:B.status}),await Zt({action:"UPDATE",entityType:"employee",entityId:$.id,performedByEmployeeId:y.id,details:`Employee updated: ${B.fullName.trim()}`}),Q(null)},Ye=async(x,se)=>{if(!xe)return;const de=(A||[]).filter(Ve=>Ve.role==="admin").length;if((A||[]).find(Ve=>Ve.id===x)?.role==="admin"&&de<=1){ce("At least one admin account must remain active.");return}window.confirm(`Remove ${se}? This cannot be undone.`)&&(await Ie.employees.delete(x),await Zt({action:"DELETE",entityType:"employee",entityId:x,performedByEmployeeId:y.id,details:`Employee removed: ${se}`}))};return r.jsxs("div",{className:"p-8",children:[r.jsxs("div",{className:"mb-8",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"font-bold text-gray-900 mb-2",children:"Employees"}),r.jsx("p",{className:"text-gray-600",children:y.role==="admin"?"Manage all employee records":"View your team members"})]}),xe&&r.jsxs("button",{onClick:Fe,className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition flex items-center gap-2",children:[r.jsx(yu,{className:"w-5 h-5"}),"Add Employee"]})]}),r.jsxs("div",{className:"relative",children:[r.jsx(zo,{className:"w-5 h-5 text-gray-400 absolute left-3 top-1/2 -translate-y-1/2"}),r.jsx("input",{type:"text",placeholder:"Search employees...",value:q,onChange:x=>C(x.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent outline-none"})]}),Y&&!D&&!$&&r.jsx("p",{className:"mt-3 text-sm text-red-600",children:Y})]}),Me.length===0?r.jsx("div",{className:"bg-white rounded-xl border border-gray-200 p-8 text-center text-gray-600",children:"No employees found."}):r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:Me.map(x=>{const se=Re(x.role),de=se.icon,Ge=ee.get(x.id)||0;return r.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6 hover:shadow-lg transition",children:[r.jsxs("div",{className:"flex items-start justify-between mb-4",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-12 h-12 bg-indigo-100 rounded-full flex items-center justify-center",children:r.jsx("span",{className:"font-bold text-indigo-600",children:x.fullName.split(" ").filter(Boolean).map(lt=>lt[0]).join("")})}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium text-gray-900",children:x.fullName}),r.jsx("p",{className:"text-sm text-gray-600",children:x.department||"No department set"})]})]}),xe&&r.jsx("button",{onClick:()=>Ze(x),className:"p-2 hover:bg-gray-100 rounded-lg transition",children:r.jsx(zd,{className:"w-4 h-4 text-gray-600"})})]}),r.jsxs("div",{className:"space-y-2 mb-4",children:[r.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[r.jsx(gu,{className:"w-4 h-4"}),x.email]}),r.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[r.jsx(Ld,{className:"w-4 h-4"}),x.phone||"No phone number"]})]}),r.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-gray-200",children:[r.jsxs("span",{className:`px-3 py-1 rounded-full text-xs font-medium flex items-center gap-1 ${se.color}`,children:[r.jsx(de,{className:"w-3 h-3"}),se.label]}),r.jsxs("div",{className:"text-right",children:[r.jsx("p",{className:"text-sm font-medium text-gray-900",children:Ge}),r.jsx("p",{className:"text-xs text-gray-500",children:"Products"})]})]}),xe&&r.jsxs("button",{onClick:()=>Ye(x.id,x.fullName),className:"w-full mt-4 px-4 py-2 border border-red-200 text-red-600 rounded-lg hover:bg-red-50 transition flex items-center justify-center gap-2",children:[r.jsx(Bd,{className:"w-4 h-4"}),"Remove"]})]},x.id)})}),D&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:r.jsxs("div",{className:"bg-white rounded-xl max-w-2xl w-full p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsx("h2",{className:"font-bold text-gray-900",children:"Add New Employee"}),r.jsx("button",{onClick:()=>X(!1),className:"p-2 hover:bg-gray-100 rounded-lg",children:r.jsx(us,{className:"w-5 h-5"})})]}),r.jsxs("form",{className:"space-y-4",onSubmit:Ke,children:[r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Full Name"}),r.jsx("input",{type:"text",value:B.fullName,onChange:x=>Z({...B,fullName:x.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent outline-none",required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),r.jsx("input",{type:"email",value:B.email,onChange:x=>Z({...B,email:x.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent outline-none",required:!0})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone"}),r.jsx("input",{type:"tel",value:B.phone,onChange:x=>Z({...B,phone:x.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent outline-none"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Department"}),r.jsx("input",{type:"text",value:B.department,onChange:x=>Z({...B,department:x.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent outline-none"})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Role"}),r.jsxs("select",{value:B.role,onChange:x=>Z({...B,role:x.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent outline-none",children:[r.jsx("option",{value:"employee",children:"Employee"}),r.jsx("option",{value:"supervisor",children:"Supervisor"}),r.jsx("option",{value:"admin",children:"Admin"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Status"}),r.jsxs("select",{value:B.status,onChange:x=>Z({...B,status:x.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent outline-none",children:[r.jsx("option",{value:"active",children:"Active"}),r.jsx("option",{value:"inactive",children:"Inactive"})]})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Password"}),r.jsx("input",{type:"password",value:B.password,onChange:x=>Z({...B,password:x.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent outline-none",required:!0})]}),Y&&r.jsx("p",{className:"text-sm text-red-600",children:Y}),r.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[r.jsx("button",{type:"button",onClick:()=>X(!1),className:"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition",children:"Cancel"}),r.jsx("button",{type:"submit",className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition",children:"Add Employee"})]})]})]})}),$&&!D&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:r.jsxs("div",{className:"bg-white rounded-xl max-w-2xl w-full p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsx("h2",{className:"font-bold text-gray-900",children:"Edit Employee"}),r.jsx("button",{onClick:()=>Q(null),className:"p-2 hover:bg-gray-100 rounded-lg",children:r.jsx(us,{className:"w-5 h-5"})})]}),r.jsxs("form",{className:"space-y-4",onSubmit:pt,children:[r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Full Name"}),r.jsx("input",{type:"text",value:B.fullName,onChange:x=>Z({...B,fullName:x.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent outline-none",required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),r.jsx("input",{type:"email",value:B.email,onChange:x=>Z({...B,email:x.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent outline-none",required:!0})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone"}),r.jsx("input",{type:"tel",value:B.phone,onChange:x=>Z({...B,phone:x.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent outline-none"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Department"}),r.jsx("input",{type:"text",value:B.department,onChange:x=>Z({...B,department:x.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent outline-none"})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Role"}),r.jsxs("select",{value:B.role,onChange:x=>Z({...B,role:x.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent outline-none",children:[r.jsx("option",{value:"employee",children:"Employee"}),r.jsx("option",{value:"supervisor",children:"Supervisor"}),r.jsx("option",{value:"admin",children:"Admin"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Status"}),r.jsxs("select",{value:B.status,onChange:x=>Z({...B,status:x.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent outline-none",children:[r.jsx("option",{value:"active",children:"Active"}),r.jsx("option",{value:"inactive",children:"Inactive"})]})]})]}),Y&&r.jsx("p",{className:"text-sm text-red-600",children:Y}),r.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[r.jsx("button",{type:"button",onClick:()=>Q(null),className:"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition",children:"Cancel"}),r.jsx("button",{type:"submit",className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition",children:"Save Changes"})]})]})]})})]})}const $d={employeeId:"",position:"employee",receivedDate:"",location:""},Rd={rrspNumber:"",productId:"",returnDate:"",quantity:"",condition:"",remarks:"",receivers:[{...$d}]},uu=[{value:"functional",label:"Functional"},{value:"destroyed",label:"Destroyed"},{value:"for disposal",label:"For Disposal"},{value:"need repair",label:"Need Repair"},{value:"damaged",label:"Damaged"}],Ad=["employee","supervisor","admin"];function xm({user:y}){const[q,C]=he.useState(""),[D,X]=he.useState(!1),[$,Q]=he.useState(null),[B,Z]=he.useState("all"),[Y,ce]=he.useState(Rd),[A,H]=he.useState(null),[ee,xe]=he.useState(""),Me=Tt(()=>Ie.returns.toArray(),[]),Re=Tt(()=>Ie.products.toArray(),[]),Ne=Tt(()=>Ie.employees.toArray(),[]),Fe=he.useMemo(()=>{const U=new Map;return(Re||[]).forEach(ve=>U.set(ve.id,ve)),U},[Re]),Ze=he.useMemo(()=>{const U=new Map;return(Ne||[]).forEach(ve=>U.set(ve.id,ve)),U},[Ne]),Ke=y.role==="admin"||y.role==="supervisor",pt=he.useMemo(()=>y.role==="employee"?(Re||[]).filter(U=>U.assignedToEmployeeId===y.id):Re||[],[Re,y]),Ye=he.useMemo(()=>(Me||[]).filter(U=>{if(y.role==="employee"&&U.returnedByEmployeeId!==y.id||B!=="all"&&U.status!==B)return!1;if(!q.trim())return!0;const ve=q.trim().toLowerCase();return(Fe.get(U.productId)?.article?.toLowerCase()||"").includes(ve)||U.rrspNumber.toLowerCase().includes(ve)}),[Me,B,q,y,Fe]),x=U=>{switch(U){case"pending":return{color:"bg-yellow-100 text-yellow-700",icon:Id};case"approved":return{color:"bg-green-100 text-green-700",icon:yd};case"rejected":return{color:"bg-red-100 text-red-700",icon:us};default:return{color:"bg-gray-100 text-gray-700",icon:op}}},se=U=>{switch(U){case"functional":return"bg-green-100 text-green-700";case"destroyed":case"for disposal":return"bg-red-100 text-red-700";case"need repair":case"damaged":return"bg-orange-100 text-orange-700";default:return"bg-gray-100 text-gray-700"}},de=()=>{ce(Rd),H(null)},Ge=()=>{ce(U=>({...U,receivers:[...U.receivers,{...$d}]}))},lt=U=>{ce(ve=>ve.receivers.length<=1?ve:{...ve,receivers:ve.receivers.filter((W,we)=>we!==U)})},Ve=(U,ve,W)=>{ce(we=>{const le=[...we.receivers],P={...le[U]};if(ve==="employeeId"){const V=Ze.get(W);P.employeeId=W,P.position=V?.role||P.position}else ve==="position"?P.position=W:ve==="receivedDate"?P.receivedDate=W:ve==="location"&&(P.location=W);return le[U]=P,{...we,receivers:le}})},He=async U=>{if(U.preventDefault(),H(null),!Y.rrspNumber.trim()||!Y.productId||!Y.returnDate||!Y.condition){H("RRSP number, product, return date, and condition are required.");return}const ve=_r(Y.quantity);if(ve<=0){H("Quantity must be greater than zero.");return}const W=Y.receivers.filter(Ee=>Ee.employeeId&&Ee.receivedDate&&Ee.location);if(W.length===0){H("At least one receiver with date and location is required.");return}const we=Si(),le=W.map(Ee=>({employeeId:Ee.employeeId,position:Ee.position,receivedDate:Ee.receivedDate,location:Ee.location})),P=le[0];await Ie.returns.add({id:we,rrspNumber:Y.rrspNumber.trim(),productId:Y.productId,returnDate:Y.returnDate,quantity:ve,condition:Y.condition,remarks:Y.remarks.trim(),returnedByEmployeeId:y.id,returnedByPosition:y.role,receivedDate:P.receivedDate,location:P.location,receivedByEmployeeIds:le.map(Ee=>Ee.employeeId),receivedByEntries:le,createdAt:cs(),status:"pending"});const V=Fe.get(Y.productId);if(V){const Ee=V.onHandPerCount+ve,Te=V.balancePerCard+ve,qe=V.assignedToEmployeeId===y.id?void 0:V.assignedToEmployeeId,Ue=V.assignedToEmployeeId===y.id?"returned":V.status;await Ie.products.update(V.id,{onHandPerCount:Ee,balancePerCard:Te,total:V.unitValue*Ee,assignedToEmployeeId:qe,status:Ue})}await Zt({action:"SUBMIT",entityType:"return",entityId:we,performedByEmployeeId:y.id,details:`Return submitted: ${Y.rrspNumber.trim()}`}),X(!1),de()},Nt=async()=>{$&&(await Ie.returns.update($.id,{status:"approved",processedByEmployeeId:y.id,processedDate:cs(),processingNotes:ee.trim()}),await Zt({action:"UPDATE",entityType:"return",entityId:$.id,performedByEmployeeId:y.id,details:`Return approved: ${$.rrspNumber}`}),Q(null),xe(""))},I=async U=>{if(!Ke)return;const ve=window.prompt("Add rejection notes (optional):")||"";await Ie.returns.update(U.id,{status:"rejected",processedByEmployeeId:y.id,processedDate:cs(),processingNotes:ve.trim()}),await Zt({action:"UPDATE",entityType:"return",entityId:U.id,performedByEmployeeId:y.id,details:`Return rejected: ${U.rrspNumber}`})};return r.jsxs("div",{className:"p-8",children:[r.jsxs("div",{className:"mb-8",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"font-bold text-gray-900 mb-2",children:"Returns Management (RRSP)"}),r.jsx("p",{className:"text-gray-600",children:y.role==="employee"?"Submit and track your return requests":"Review and process return requests"})]}),r.jsxs("button",{onClick:()=>{de(),X(!0)},className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition flex items-center gap-2",children:[r.jsx(yu,{className:"w-5 h-5"}),"Submit Return"]})]}),r.jsxs("div",{className:"flex gap-4",children:[r.jsxs("div",{className:"flex-1 relative",children:[r.jsx(zo,{className:"w-5 h-5 text-gray-400 absolute left-3 top-1/2 -translate-y-1/2"}),r.jsx("input",{type:"text",placeholder:"Search returns...",value:q,onChange:U=>C(U.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent outline-none"})]}),r.jsxs("select",{value:B,onChange:U=>Z(U.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent outline-none",children:[r.jsx("option",{value:"all",children:"All Status"}),r.jsx("option",{value:"pending",children:"Pending"}),r.jsx("option",{value:"approved",children:"Approved"}),r.jsx("option",{value:"rejected",children:"Rejected"})]})]})]}),r.jsxs("div",{className:"space-y-4",children:[Ye.length===0&&r.jsx("div",{className:"bg-white rounded-xl border border-gray-200 p-8 text-center text-gray-600",children:"No return records available."}),Ye.map(U=>{const ve=x(U.status),W=ve.icon,we=Fe.get(U.productId),le=Ze.get(U.returnedByEmployeeId),P=U.receivedByEntries||[],V=uu.find(Te=>Te.value===U.condition)?.label||U.condition,Ee=U.processedByEmployeeId?Ze.get(U.processedByEmployeeId):null;return r.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6",children:[r.jsxs("div",{className:"flex items-start justify-between mb-4",children:[r.jsx("div",{className:"flex-1",children:r.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[r.jsx("div",{className:"w-10 h-10 bg-indigo-100 rounded-lg flex items-center justify-center",children:r.jsx(Lo,{className:"w-5 h-5 text-indigo-600"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-medium text-gray-900",children:we?.article||"Unknown product"}),r.jsxs("p",{className:"text-sm text-gray-600",children:["RRSP No: ",U.rrspNumber]})]})]})}),r.jsxs("span",{className:`px-3 py-1 rounded-full text-xs font-medium flex items-center gap-1 ${ve.color}`,children:[r.jsx(W,{className:"w-3 h-3"}),U.status]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-4",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Return Date"}),r.jsx("p",{className:"text-sm font-medium text-gray-900",children:Cr(U.returnDate)})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Quantity"}),r.jsxs("p",{className:"text-sm font-medium text-gray-900",children:[U.quantity," units"]})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Condition"}),r.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${se(U.condition)}`,children:V})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Returned By"}),r.jsx("p",{className:"text-sm font-medium text-gray-900",children:le?.fullName||"Unknown"}),r.jsx("p",{className:"text-xs text-gray-500 capitalize",children:U.returnedByPosition})]})]}),U.remarks&&r.jsxs("div",{className:"mb-4",children:[r.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Remarks"}),r.jsx("p",{className:"text-sm text-gray-900",children:U.remarks})]}),r.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 mb-4",children:[r.jsx("p",{className:"text-sm font-medium text-gray-900 mb-3",children:"Receiver Information"}),P.map((Te,qe)=>{const Ue=Ze.get(Te.employeeId);return r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-2 last:mb-0",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-xs text-gray-600",children:"Name"}),r.jsx("p",{className:"text-sm font-medium text-gray-900",children:Ue?.fullName||"Unknown"})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-xs text-gray-600",children:"Position"}),r.jsx("p",{className:"text-sm text-gray-900 capitalize",children:Te.position})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-xs text-gray-600",children:"Received Date"}),r.jsx("p",{className:"text-sm text-gray-900",children:Cr(Te.receivedDate)})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-xs text-gray-600",children:"Location"}),r.jsx("p",{className:"text-sm text-gray-900",children:Te.location})]})]},`${Te.employeeId}-${qe}`)})]}),U.processedByEmployeeId&&r.jsxs("div",{className:"bg-blue-50 rounded-lg p-4 mb-4",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Processed By"}),r.jsx("p",{className:"text-sm font-medium text-gray-900",children:Ee?.fullName||"Unknown"})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Processed Date"}),r.jsx("p",{className:"text-sm font-medium text-gray-900",children:U.processedDate?Cr(U.processedDate):""})]})]}),U.processingNotes&&r.jsxs("div",{className:"mt-3",children:[r.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Processing Notes"}),r.jsx("p",{className:"text-sm text-gray-900",children:U.processingNotes})]})]}),Ke&&U.status==="pending"&&r.jsxs("div",{className:"flex gap-3 pt-4 border-t border-gray-200",children:[r.jsxs("button",{onClick:()=>{Q(U),xe("")},className:"flex-1 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition flex items-center justify-center gap-2",children:[r.jsx(yd,{className:"w-4 h-4"}),"Approve"]}),r.jsxs("button",{onClick:()=>I(U),className:"flex-1 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition flex items-center justify-center gap-2",children:[r.jsx(us,{className:"w-4 h-4"}),"Reject"]})]})]},U.id)})]}),D&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:r.jsxs("div",{className:"bg-white rounded-xl max-w-3xl w-full p-6 max-h-[90vh] overflow-y-auto",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsx("h2",{className:"font-bold text-gray-900",children:"Submit Return Request (RRSP)"}),r.jsx("button",{onClick:()=>X(!1),className:"p-2 hover:bg-gray-100 rounded-lg",children:r.jsx(us,{className:"w-5 h-5"})})]}),r.jsxs("form",{className:"space-y-6",onSubmit:He,children:[r.jsxs("div",{children:[r.jsx("h3",{className:"font-medium text-gray-900 mb-4",children:"Return Information"}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"RRSP No. *"}),r.jsx("input",{type:"text",value:Y.rrspNumber,onChange:U=>ce({...Y,rrspNumber:U.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent outline-none",required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Return Date *"}),r.jsx("input",{type:"date",value:Y.returnDate,onChange:U=>ce({...Y,returnDate:U.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent outline-none",required:!0})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Product *"}),r.jsxs("select",{value:Y.productId,onChange:U=>ce({...Y,productId:U.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent outline-none",required:!0,children:[r.jsx("option",{value:"",children:"Select product"}),pt.map(U=>r.jsx("option",{value:U.id,children:U.article},U.id))]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Quantity *"}),r.jsx("input",{type:"number",min:"1",value:Y.quantity,onChange:U=>ce({...Y,quantity:U.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent outline-none",required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Condition *"}),r.jsxs("select",{value:Y.condition,onChange:U=>ce({...Y,condition:U.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent outline-none",required:!0,children:[r.jsx("option",{value:"",children:"Select condition"}),uu.map(U=>r.jsx("option",{value:U.value,children:U.label},U.value))]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Remarks"}),r.jsx("textarea",{rows:3,value:Y.remarks,onChange:U=>ce({...Y,remarks:U.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent outline-none"})]})]})]}),r.jsxs("div",{className:"pt-4 border-t border-gray-200",children:[r.jsx("h3",{className:"font-medium text-gray-900 mb-4",children:"Returned By"}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Name *"}),r.jsx("input",{type:"text",value:y.fullName,readOnly:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg bg-gray-50 text-gray-600"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Position *"}),r.jsx("select",{value:y.role,disabled:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg bg-gray-50 text-gray-600",children:Ad.map(U=>r.jsx("option",{value:U,children:U},U))})]})]})]}),r.jsxs("div",{className:"pt-4 border-t border-gray-200",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h3",{className:"font-medium text-gray-900",children:"Receiver Information"}),r.jsxs("button",{type:"button",onClick:Ge,className:"px-3 py-1.5 text-sm bg-indigo-50 text-indigo-600 rounded-lg hover:bg-indigo-100 transition flex items-center gap-2",children:[r.jsx(em,{className:"w-4 h-4"}),"Add Another Receiver"]})]}),r.jsx("div",{className:"space-y-4",children:Y.receivers.map((U,ve)=>r.jsxs("div",{className:"p-4 border border-gray-200 rounded-lg",children:[r.jsxs("div",{className:"flex items-center justify-between mb-3",children:[r.jsxs("p",{className:"text-sm font-medium text-gray-700",children:["Receiver ",ve+1]}),Y.receivers.length>1&&r.jsx("button",{type:"button",onClick:()=>lt(ve),className:"text-red-600 hover:text-red-700 text-sm",children:"Remove"})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Name *"}),r.jsxs("select",{value:U.employeeId,onChange:W=>Ve(ve,"employeeId",W.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent outline-none",required:!0,children:[r.jsx("option",{value:"",children:"Select employee"}),(Ne||[]).map(W=>r.jsx("option",{value:W.id,children:W.fullName},W.id))]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Position *"}),r.jsx("select",{value:U.position,onChange:W=>Ve(ve,"position",W.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent outline-none",required:!0,children:Ad.map(W=>r.jsx("option",{value:W,children:W},W))})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Received Date *"}),r.jsx("input",{type:"date",value:U.receivedDate,onChange:W=>Ve(ve,"receivedDate",W.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent outline-none",required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Location *"}),r.jsx("input",{type:"text",value:U.location,onChange:W=>Ve(ve,"location",W.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent outline-none",required:!0})]})]})]},ve))})]}),A&&r.jsx("p",{className:"text-sm text-red-600",children:A}),r.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t border-gray-200",children:[r.jsx("button",{type:"button",onClick:()=>{X(!1),de()},className:"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition",children:"Cancel"}),r.jsx("button",{type:"submit",className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition",children:"Submit Return"})]})]})]})}),$&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:r.jsxs("div",{className:"bg-white rounded-xl max-w-lg w-full p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsx("h2",{className:"font-bold text-gray-900",children:"Approve Return"}),r.jsx("button",{onClick:()=>Q(null),className:"p-2 hover:bg-gray-100 rounded-lg",children:r.jsx(us,{className:"w-5 h-5"})})]}),r.jsxs("div",{className:"mb-4",children:[r.jsxs("p",{className:"text-sm text-gray-600 mb-2",children:["RRSP No: ",r.jsx("span",{className:"font-medium text-gray-900",children:$.rrspNumber})]}),r.jsxs("p",{className:"text-sm text-gray-600 mb-2",children:["Product: ",r.jsx("span",{className:"font-medium text-gray-900",children:Fe.get($.productId)?.article||"Unknown"})]}),r.jsxs("p",{className:"text-sm text-gray-600 mb-2",children:["Quantity: ",r.jsxs("span",{className:"font-medium text-gray-900",children:[$.quantity," units"]})]}),r.jsxs("p",{className:"text-sm text-gray-600",children:["Condition:"," ",r.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${se($.condition)}`,children:uu.find(U=>U.value===$.condition)?.label||$.condition})]})]}),r.jsxs("form",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Processing Notes"}),r.jsx("textarea",{rows:3,value:ee,onChange:U=>xe(U.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent outline-none",placeholder:"Add notes about the approval..."})]}),r.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[r.jsx("button",{type:"button",onClick:()=>Q(null),className:"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition",children:"Cancel"}),r.jsx("button",{type:"button",onClick:Nt,className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition",children:"Confirm Approval"})]})]})]})})]})}const vm=(y,q)=>{if(y==="custom"&&q)return new Date(q);const C=new Date,D=new Date(C);switch(y){case"week":D.setDate(C.getDate()-7);break;case"month":D.setMonth(C.getMonth()-1);break;case"quarter":D.setMonth(C.getMonth()-3);break;case"year":D.setFullYear(C.getFullYear()-1);break;default:D.setMonth(C.getMonth()-1)}return D},wm=y=>{switch(y){case"HV":return"bg-purple-100 text-purple-700";case"MV":return"bg-blue-100 text-blue-700";case"LV":return"bg-green-100 text-green-700";default:return"bg-gray-100 text-gray-700"}},bm=y=>{switch(y){case"functional":return"bg-green-100 text-green-700";case"destroyed":case"for disposal":return"bg-red-100 text-red-700";case"need repair":case"damaged":return"bg-orange-100 text-orange-700";default:return"bg-gray-100 text-gray-700"}};function jm({user:y}){const[q,C]=he.useState("inventory"),[D,X]=he.useState("month"),[$,Q]=he.useState(new Set),[B,Z]=he.useState(null),Y=Tt(()=>Ie.products.toArray(),[]),ce=Tt(()=>Ie.returns.toArray(),[]),A=Tt(()=>Ie.employees.toArray(),[]),H=he.useMemo(()=>{const x=new Map;return(A||[]).forEach(se=>x.set(se.id,se.fullName)),x},[A]),ee=vm(D,B?.start),xe=B?.end?new Date(B.end):new Date,Me=he.useMemo(()=>(Y||[]).filter(x=>{const se=new Date(x.date);return se>=ee&&se<=xe}),[Y,ee,xe]),Re=he.useMemo(()=>(ce||[]).filter(x=>{const se=new Date(x.returnDate);return se>=ee&&se<=xe}),[ce,ee,xe]),Ne=y.role==="admin",Fe=x=>{const se=new Set($);se.has(x)?se.delete(x):se.add(x),Q(se)},Ze=(x,se)=>{const de=x.map(He=>He.map(Nt=>`"${String(Nt).replace(/"/g,'""')}"`).join(",")).join(`
`),Ge=new Blob([de],{type:"text/csv;charset=utf-8;"}),lt=URL.createObjectURL(Ge),Ve=document.createElement("a");Ve.href=lt,Ve.download=se,Ve.click(),URL.revokeObjectURL(lt)},Ke=(x,se)=>{const de=window.open("","_blank");de&&(de.document.write(`
      <html>
        <head><title>${se}</title></head>
        <body style="font-family: Arial, sans-serif; padding: 16px;">
          <h2>${se}</h2>
          <pre style="white-space: pre-wrap;">${x}</pre>
        </body>
      </html>
    `),de.document.close(),de.focus(),de.print())},pt=x=>{if(q==="inventory"){const se=[["Article","Description","Date","PAR Control Number","Property Number","Unit","Unit Value","Balance","On Hand","Total","Remarks","Value","Assigned To"]];if(Me.forEach(de=>{se.push([de.article,de.description,de.date,de.parControlNumber,de.propertyNumber,de.unit,Zn(de.unitValue),String(de.balancePerCard),String(de.onHandPerCount),Zn(de.total),de.remarks,de.valueCategory,de.assignedToEmployeeId&&H.get(de.assignedToEmployeeId)||""])}),x==="excel")Ze(se,"inventory-report.csv");else{const de=se.map(Ge=>Ge.join(" | ")).join(`
`);Ke(de,"Inventory Report")}}else{const se=[["RRSP Number","Return Date","Quantity","Condition","Returned By","Product","Location","Status"]];if(Re.forEach(de=>{const Ge=Y?.find(lt=>lt.id===de.productId);se.push([de.rrspNumber,de.returnDate,String(de.quantity),de.condition,H.get(de.returnedByEmployeeId)||"",Ge?.article||"",de.location,de.status])}),x==="excel")Ze(se,"returns-report.csv");else{const de=se.map(Ge=>Ge.join(" | ")).join(`
`);Ke(de,"Returns Report")}}},Ye=()=>{const x=window.prompt("Enter start date (YYYY-MM-DD):",B?.start||"");if(!x)return;const se=window.prompt("Enter end date (YYYY-MM-DD):",B?.end||"");se&&(Z({start:x,end:se}),X("custom"))};return r.jsxs("div",{className:"p-8",children:[r.jsxs("div",{className:"mb-8",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"font-bold text-gray-900 mb-2",children:"Reports"}),r.jsx("p",{className:"text-gray-600",children:"View and export system reports"})]}),Ne&&r.jsxs("div",{className:"flex gap-2",children:[r.jsxs("button",{onClick:()=>pt("pdf"),className:"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition flex items-center gap-2",children:[r.jsx(du,{className:"w-5 h-5"}),"Export PDF"]}),r.jsxs("button",{onClick:()=>pt("excel"),className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition flex items-center gap-2",children:[r.jsx(du,{className:"w-5 h-5"}),"Export Excel"]})]})]}),r.jsxs("div",{className:"flex gap-4",children:[r.jsxs("select",{value:q,onChange:x=>C(x.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent outline-none",children:[r.jsx("option",{value:"inventory",children:"Inventory Report"}),r.jsx("option",{value:"returns",children:"Returns Report"})]}),r.jsxs("select",{value:D,onChange:x=>X(x.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent outline-none",children:[r.jsx("option",{value:"week",children:"Last Week"}),r.jsx("option",{value:"month",children:"Last Month"}),r.jsx("option",{value:"quarter",children:"Last Quarter"}),r.jsx("option",{value:"year",children:"Last Year"}),r.jsx("option",{value:"custom",children:"Custom Range"})]}),r.jsxs("button",{onClick:Ye,className:"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition flex items-center gap-2",children:[r.jsx(hu,{className:"w-5 h-5"}),"Custom Range"]})]})]}),q==="inventory"&&r.jsxs("div",{className:"space-y-4",children:[Me.length===0&&r.jsx("div",{className:"bg-white rounded-xl border border-gray-200 p-8 text-center text-gray-600",children:"Not enough data to generate report"}),Me.map(x=>{const se=$.has(x.id);return r.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 overflow-hidden",children:[r.jsxs("div",{className:"p-6",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Article:"}),r.jsx("p",{className:"font-medium text-gray-900",children:x.article})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Description:"}),r.jsx("p",{className:"text-sm text-gray-900",children:x.description})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Date:"}),r.jsx("p",{className:"text-sm text-gray-900",children:Cr(x.date)})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"PAR Control Number:"}),r.jsx("p",{className:"text-sm text-gray-900",children:x.parControlNumber})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Property Number:"}),r.jsx("p",{className:"text-sm text-gray-900",children:x.propertyNumber})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Unit:"}),r.jsx("p",{className:"text-sm text-gray-900",children:x.unit})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Unit Value:"}),r.jsx("p",{className:"text-sm text-gray-900",children:Zn(x.unitValue)})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Balance per Card:"}),r.jsx("p",{className:"text-sm text-gray-900",children:x.balancePerCard})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"On Hand per Count:"}),r.jsx("p",{className:"text-sm text-gray-900",children:x.onHandPerCount})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Total:"}),r.jsx("p",{className:"font-medium text-gray-900",children:Zn(x.total)})]}),r.jsxs("div",{className:"md:col-span-2",children:[r.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Remarks:"}),r.jsx("p",{className:"text-sm text-gray-900",children:x.remarks})]})]}),se&&r.jsx("div",{className:"mt-4 pt-4 border-t border-gray-200",children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Value:"}),r.jsx("span",{className:`inline-flex px-3 py-1 rounded-full text-xs font-medium ${wm(x.valueCategory)}`,children:x.valueCategory})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Assigned To:"}),r.jsx("p",{className:"text-sm font-medium text-gray-900",children:x.assignedToEmployeeId?H.get(x.assignedToEmployeeId)||"Unknown":"Unassigned"})]})]})})]}),r.jsx("button",{onClick:()=>Fe(x.id),className:"w-full px-6 py-3 bg-gray-50 hover:bg-gray-100 transition flex items-center justify-center gap-2 text-sm font-medium text-gray-700 border-t border-gray-200",children:se?r.jsxs(r.Fragment,{children:[r.jsx(bd,{className:"w-4 h-4"}),"Hide Details",r.jsx(vd,{className:"w-4 h-4"})]}):r.jsxs(r.Fragment,{children:[r.jsx(jd,{className:"w-4 h-4"}),"Show More Details",r.jsx(xd,{className:"w-4 h-4"})]})})]},x.id)})]}),q==="returns"&&r.jsxs("div",{className:"space-y-4",children:[Re.length===0&&r.jsx("div",{className:"bg-white rounded-xl border border-gray-200 p-8 text-center text-gray-600",children:"Not enough data to generate report"}),Re.map(x=>{const se=$.has(x.id),de=Y?.find(Ge=>Ge.id===x.productId);return r.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 overflow-hidden",children:[r.jsxs("div",{className:"p-6",children:[r.jsx("h3",{className:"font-medium text-gray-900 mb-4",children:"Property Product Information"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Article:"}),r.jsx("p",{className:"font-medium text-gray-900",children:de?.article||"Unknown"})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Description:"}),r.jsx("p",{className:"text-sm text-gray-900",children:de?.description||""})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Date:"}),r.jsx("p",{className:"text-sm text-gray-900",children:de?.date?Cr(de.date):""})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"PAR Control Number:"}),r.jsx("p",{className:"text-sm text-gray-900",children:de?.parControlNumber||""})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Property Number:"}),r.jsx("p",{className:"text-sm text-gray-900",children:de?.propertyNumber||""})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Unit:"}),r.jsx("p",{className:"text-sm text-gray-900",children:de?.unit||""})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Unit Value:"}),r.jsx("p",{className:"text-sm text-gray-900",children:de?Zn(de.unitValue):""})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Balance per Card:"}),r.jsx("p",{className:"text-sm text-gray-900",children:de?.balancePerCard??""})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"On Hand per Count:"}),r.jsx("p",{className:"text-sm text-gray-900",children:de?.onHandPerCount??""})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Total:"}),r.jsx("p",{className:"font-medium text-gray-900",children:de?Zn(de.total):""})]}),r.jsxs("div",{className:"md:col-span-2",children:[r.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Remarks:"}),r.jsx("p",{className:"text-sm text-gray-900",children:de?.remarks||""})]})]}),se&&r.jsxs("div",{className:"mt-6 pt-6 border-t border-gray-200",children:[r.jsx("h3",{className:"font-medium text-gray-900 mb-4",children:"Return Information"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"RRSP No.:"}),r.jsx("p",{className:"font-medium text-gray-900",children:x.rrspNumber})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Return Date:"}),r.jsx("p",{className:"text-sm text-gray-900",children:Cr(x.returnDate)})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Quantity:"}),r.jsxs("p",{className:"text-sm text-gray-900",children:[x.quantity," units"]})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Condition:"}),r.jsx("span",{className:`inline-flex px-3 py-1 rounded-full text-xs font-medium ${bm(x.condition)}`,children:x.condition})]}),r.jsxs("div",{className:"md:col-span-2",children:[r.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Remarks:"}),r.jsx("p",{className:"text-sm text-gray-900",children:x.remarks})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Returned By - Name:"}),r.jsx("p",{className:"text-sm text-gray-900",children:H.get(x.returnedByEmployeeId)||"Unknown"})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Position:"}),r.jsx("p",{className:"text-sm text-gray-900 capitalize",children:x.returnedByPosition})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Received Date:"}),r.jsx("p",{className:"text-sm text-gray-900",children:Cr(x.receivedDate)})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Location:"}),r.jsx("p",{className:"text-sm text-gray-900",children:x.location})]})]})]})]}),r.jsx("button",{onClick:()=>Fe(x.id),className:"w-full px-6 py-3 bg-gray-50 hover:bg-gray-100 transition flex items-center justify-center gap-2 text-sm font-medium text-gray-700 border-t border-gray-200",children:se?r.jsxs(r.Fragment,{children:[r.jsx(bd,{className:"w-4 h-4"}),"Hide Details",r.jsx(vd,{className:"w-4 h-4"})]}):r.jsxs(r.Fragment,{children:[r.jsx(jd,{className:"w-4 h-4"}),"Show More Details",r.jsx(xd,{className:"w-4 h-4"})]})})]},x.id)})]})]})}const Nm=y=>y.includes(",")||y.includes('"')||y.includes(`
`)?`"${y.replace(/"/g,'""')}"`:y;function km({user:y}){const[q,C]=he.useState(""),[D,X]=he.useState("all"),[$,Q]=he.useState(null),[B,Z]=he.useState(1),Y=10,ce=Tt(()=>Ie.activityLogs.toArray(),[]),A=Tt(()=>Ie.employees.toArray(),[]),H=he.useMemo(()=>{const x=new Map;return(A||[]).forEach(se=>x.set(se.id,se)),x},[A]),ee=he.useMemo(()=>{const x=new Set;return(ce||[]).forEach(se=>x.add(se.action)),Array.from(x).sort()},[ce]),xe=he.useMemo(()=>(ce||[]).map(x=>({...x,userName:H.get(x.performedByEmployeeId)?.fullName||"System",target:x.entityType})),[ce,H]),Me=xe.filter(x=>{if(D!=="all"&&x.action!==D)return!1;if($){const de=new Date(x.timestamp),Ge=new Date($.start),lt=new Date($.end);if(de<Ge||de>lt)return!1}if(!q.trim())return!0;const se=q.trim().toLowerCase();return x.details.toLowerCase().includes(se)||x.userName.toLowerCase().includes(se)||x.target.toLowerCase().includes(se)}),Re=Math.max(1,Math.ceil(Me.length/Y)),Ne=Math.min(B,Re),Fe=Me.slice((Ne-1)*Y,Ne*Y),Ze=x=>{switch(x){case"success":return"bg-green-100 text-green-700";case"warning":return"bg-yellow-100 text-yellow-700";case"error":return"bg-red-100 text-red-700";default:return"bg-gray-100 text-gray-700"}},Ke=x=>{switch(x){case"CREATE":return"bg-blue-100 text-blue-700";case"UPDATE":return"bg-purple-100 text-purple-700";case"DELETE":return"bg-red-100 text-red-700";case"ASSIGN":return"bg-orange-100 text-orange-700";case"SUBMIT":return"bg-cyan-100 text-cyan-700";case"SYNC":return"bg-indigo-100 text-indigo-700";default:return"bg-gray-100 text-gray-700"}},pt=()=>{const x=["Timestamp","User","Action","Target","Details","IP Address","Status"],se=xe.map(He=>[new Date(He.timestamp).toLocaleString(),He.userName,He.action,He.target,He.details,He.ipAddress,He.status]),de=[x,...se].map(He=>He.map(Nt=>Nm(String(Nt||""))).join(",")).join(`
`),Ge=new Blob([de],{type:"text/csv;charset=utf-8;"}),lt=URL.createObjectURL(Ge),Ve=document.createElement("a");Ve.href=lt,Ve.download="activity-logs.csv",Ve.click(),URL.revokeObjectURL(lt)},Ye=()=>{const x=window.prompt("Enter start date (YYYY-MM-DD):",$?.start||"");if(!x)return;const se=window.prompt("Enter end date (YYYY-MM-DD):",$?.end||"");se&&(Q({start:x,end:se}),Z(1))};return r.jsxs("div",{className:"p-8",children:[r.jsxs("div",{className:"mb-8",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"font-bold text-gray-900 mb-2",children:"Activity Logs"}),r.jsx("p",{className:"text-gray-600",children:"View all system activity and audit trail"})]}),r.jsxs("button",{onClick:pt,className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition flex items-center gap-2",children:[r.jsx(du,{className:"w-5 h-5"}),"Export Logs"]})]}),r.jsxs("div",{className:"flex gap-4",children:[r.jsxs("div",{className:"flex-1 relative",children:[r.jsx(zo,{className:"w-5 h-5 text-gray-400 absolute left-3 top-1/2 -translate-y-1/2"}),r.jsx("input",{type:"text",placeholder:"Search activity logs...",value:q,onChange:x=>C(x.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent outline-none"})]}),r.jsxs("select",{value:D,onChange:x=>X(x.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent outline-none",children:[r.jsx("option",{value:"all",children:"All Actions"}),ee.map(x=>r.jsx("option",{value:x,children:x},x))]}),r.jsxs("button",{onClick:Ye,className:"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition flex items-center gap-2",children:[r.jsx(hu,{className:"w-5 h-5"}),"Date Range"]})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[r.jsxs("div",{className:"bg-white p-4 rounded-xl border border-gray-200",children:[r.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Total Actions"}),r.jsx("p",{className:"font-bold text-gray-900",children:xe.length})]}),r.jsxs("div",{className:"bg-white p-4 rounded-xl border border-gray-200",children:[r.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Successful"}),r.jsx("p",{className:"font-bold text-green-600",children:xe.filter(x=>x.status==="success").length})]}),r.jsxs("div",{className:"bg-white p-4 rounded-xl border border-gray-200",children:[r.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Warnings"}),r.jsx("p",{className:"font-bold text-yellow-600",children:xe.filter(x=>x.status==="warning").length})]}),r.jsxs("div",{className:"bg-white p-4 rounded-xl border border-gray-200",children:[r.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Errors"}),r.jsx("p",{className:"font-bold text-red-600",children:xe.filter(x=>x.status==="error").length})]})]}),r.jsx("div",{className:"bg-white rounded-xl border border-gray-200 overflow-hidden",children:r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Timestamp"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"User"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Action"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Target"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Details"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"IP Address"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"})]})}),r.jsxs("tbody",{className:"divide-y divide-gray-200",children:[Fe.length===0&&r.jsx("tr",{children:r.jsx("td",{className:"px-6 py-6 text-center text-gray-500",colSpan:7,children:"No activity logs available."})}),Fe.map(x=>r.jsxs("tr",{className:"hover:bg-gray-50",children:[r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Od,{className:"w-4 h-4 text-gray-400"}),r.jsx("span",{className:"text-sm text-gray-900",children:new Date(x.timestamp).toLocaleString()})]})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:x.userName}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${Ke(x.action)}`,children:x.action})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:x.target}),r.jsx("td",{className:"px-6 py-4 text-sm text-gray-600 max-w-md truncate",children:x.details}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600 font-mono",children:x.ipAddress}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${Ze(x.status)}`,children:x.status})})]},x.id))]})]})})}),r.jsxs("div",{className:"mt-6 flex items-center justify-between",children:[r.jsxs("p",{className:"text-sm text-gray-600",children:["Showing ",Fe.length," of ",Me.length," logs"]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx("button",{onClick:()=>Z(x=>Math.max(1,x-1)),disabled:Ne===1,className:"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition text-sm disabled:opacity-50",children:"Previous"}),r.jsx("button",{onClick:()=>Z(x=>Math.min(Re,x+1)),disabled:Ne===Re,className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition text-sm disabled:opacity-50",children:"Next"})]})]})]})}const Sm={id:"system",systemName:"",companyName:"",timeZone:"",dateFormat:"YYYY-MM-DD",maintenanceMode:!1,notificationsLowStock:!1,notificationsNewReturn:!1,notificationsReturnApproved:!1,notificationsEmployeeAdded:!1,notificationsSystemUpdates:!1,passwordPolicy:"medium",sessionTimeoutMinutes:30,maxLoginAttempts:5,requireTwoFactor:!1,ipWhitelistEnabled:!1,backupFrequency:"monthly",lastBackupAt:"",smtpServer:"",smtpPort:"",smtpEncryption:"TLS",smtpFromEmail:"",apiKey:"",apiRateLimit:100,apiEnabled:!1};function _m({user:y}){const[q,C]=he.useState("general"),[D,X]=he.useState(Sm),[$,Q]=he.useState(""),B=Tt(()=>Ie.settings.get("system"),[]),Z=he.useMemo(()=>"supportedValuesOf"in Intl?Intl.supportedValuesOf("timeZone"):["UTC","UTC+08:00","UTC+09:00","UTC+01:00","UTC-05:00","UTC-08:00"],[]);he.useEffect(()=>{B&&X(B)},[B]);const Y=async()=>{await Ie.settings.put(D),await Zt({action:"UPDATE",entityType:"sync",entityId:"settings",performedByEmployeeId:y.id,details:"System settings updated"}),Q("Settings saved."),setTimeout(()=>Q(""),2e3)},ce=async()=>{const ee={...D,lastBackupAt:cs()};X(ee),await Ie.settings.put(ee),await Zt({action:"SYNC",entityType:"sync",entityId:"backup",performedByEmployeeId:y.id,details:"Manual backup triggered"})},A=()=>{X({...D,apiKey:qd()})},H=Ie.isOpen()?"Connected and operational":"Disconnected";return B?r.jsxs("div",{className:"p-8",children:[r.jsxs("div",{className:"mb-8",children:[r.jsx("h1",{className:"font-bold text-gray-900 mb-2",children:"System Settings"}),r.jsx("p",{className:"text-gray-600",children:"Configure system-wide settings and preferences"})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[r.jsx("div",{className:"lg:col-span-1",children:r.jsx("div",{className:"bg-white rounded-xl border border-gray-200 p-4",children:r.jsx("nav",{className:"space-y-1",children:[{id:"general",label:"General",icon:Fd},{id:"notifications",label:"Notifications",icon:Jf},{id:"security",label:"Security",icon:Tp},{id:"database",label:"Database",icon:wd},{id:"email",label:"Email",icon:gu},{id:"api",label:"API Settings",icon:Np}].map(ee=>{const xe=ee.icon;return r.jsxs("button",{onClick:()=>C(ee.id),className:`w-full px-4 py-3 rounded-lg flex items-center gap-3 transition ${q===ee.id?"bg-indigo-50 text-indigo-700 font-medium":"text-gray-700 hover:bg-gray-50"}`,children:[r.jsx(xe,{className:"w-5 h-5"}),r.jsx("span",{children:ee.label})]},ee.id)})})})}),r.jsx("div",{className:"lg:col-span-3",children:r.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6",children:[q==="general"&&r.jsxs("div",{children:[r.jsx("h2",{className:"font-bold text-gray-900 mb-6",children:"General Settings"}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"System Name"}),r.jsx("input",{type:"text",value:D.systemName,onChange:ee=>X({...D,systemName:ee.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent outline-none"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Company Name"}),r.jsx("input",{type:"text",value:D.companyName,onChange:ee=>X({...D,companyName:ee.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent outline-none"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Time Zone"}),r.jsx("select",{value:D.timeZone,onChange:ee=>X({...D,timeZone:ee.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent outline-none",children:Z.map(ee=>r.jsx("option",{value:ee,children:ee},ee))})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Date Format"}),r.jsxs("select",{value:D.dateFormat,onChange:ee=>X({...D,dateFormat:ee.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent outline-none",children:[r.jsx("option",{value:"MM/DD/YYYY",children:"MM/DD/YYYY"}),r.jsx("option",{value:"DD/MM/YYYY",children:"DD/MM/YYYY"}),r.jsx("option",{value:"YYYY-MM-DD",children:"YYYY-MM-DD"})]})]}),r.jsxs("div",{className:"flex items-center justify-between py-3 border-t border-gray-200",children:[r.jsxs("div",{children:[r.jsx("p",{className:"font-medium text-gray-900",children:"Maintenance Mode"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Temporarily disable system access"})]}),r.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[r.jsx("input",{type:"checkbox",checked:D.maintenanceMode,onChange:ee=>X({...D,maintenanceMode:ee.target.checked}),className:"sr-only peer"}),r.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-indigo-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-indigo-600"})]})]})]})]}),q==="notifications"&&r.jsxs("div",{children:[r.jsx("h2",{className:"font-bold text-gray-900 mb-6",children:"Notification Settings"}),r.jsx("div",{className:"space-y-4",children:[{id:"low-stock",label:"Low Stock Alerts",description:"Notify when products reach minimum stock level",key:"notificationsLowStock"},{id:"new-return",label:"New Return Requests",description:"Notify administrators when returns are submitted",key:"notificationsNewReturn"},{id:"return-approved",label:"Return Approvals",description:"Notify employees when their returns are processed",key:"notificationsReturnApproved"},{id:"employee-added",label:"New Employees",description:"Notify when new employee accounts are created",key:"notificationsEmployeeAdded"},{id:"system-updates",label:"System Updates",description:"Notify about system maintenance and updates",key:"notificationsSystemUpdates"}].map(ee=>r.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100 last:border-0",children:[r.jsxs("div",{children:[r.jsx("p",{className:"font-medium text-gray-900",children:ee.label}),r.jsx("p",{className:"text-sm text-gray-600",children:ee.description})]}),r.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[r.jsx("input",{type:"checkbox",checked:D[ee.key],onChange:xe=>X({...D,[ee.key]:xe.target.checked}),className:"sr-only peer"}),r.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-indigo-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-indigo-600"})]})]},ee.id))})]}),q==="security"&&r.jsxs("div",{children:[r.jsx("h2",{className:"font-bold text-gray-900 mb-6",children:"Security Settings"}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Password Policy"}),r.jsxs("select",{value:D.passwordPolicy,onChange:ee=>X({...D,passwordPolicy:ee.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent outline-none",children:[r.jsx("option",{value:"strong",children:"Strong (12+ characters, mixed case, numbers, symbols)"}),r.jsx("option",{value:"medium",children:"Medium (8+ characters, mixed case, numbers)"}),r.jsx("option",{value:"basic",children:"Basic (6+ characters)"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Session Timeout (minutes)"}),r.jsx("input",{type:"number",value:D.sessionTimeoutMinutes,onChange:ee=>X({...D,sessionTimeoutMinutes:Number(ee.target.value)}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent outline-none"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Maximum Login Attempts"}),r.jsx("input",{type:"number",value:D.maxLoginAttempts,onChange:ee=>X({...D,maxLoginAttempts:Number(ee.target.value)}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent outline-none"})]}),r.jsxs("div",{className:"flex items-center justify-between py-3 border-t border-gray-200",children:[r.jsxs("div",{children:[r.jsx("p",{className:"font-medium text-gray-900",children:"Two-Factor Authentication"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Require 2FA for all users"})]}),r.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[r.jsx("input",{type:"checkbox",checked:D.requireTwoFactor,onChange:ee=>X({...D,requireTwoFactor:ee.target.checked}),className:"sr-only peer"}),r.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-indigo-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-indigo-600"})]})]}),r.jsxs("div",{className:"flex items-center justify-between py-3 border-t border-gray-200",children:[r.jsxs("div",{children:[r.jsx("p",{className:"font-medium text-gray-900",children:"IP Whitelist"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Only allow access from specific IP addresses"})]}),r.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[r.jsx("input",{type:"checkbox",checked:D.ipWhitelistEnabled,onChange:ee=>X({...D,ipWhitelistEnabled:ee.target.checked}),className:"sr-only peer"}),r.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-indigo-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-indigo-600"})]})]})]})]}),q==="database"&&r.jsxs("div",{children:[r.jsx("h2",{className:"font-bold text-gray-900 mb-6",children:"Database Settings"}),r.jsxs("div",{className:"space-y-6",children:[r.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx(wd,{className:"w-5 h-5 text-blue-600 mt-0.5"}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium text-blue-900",children:"Database Status"}),r.jsx("p",{className:"text-sm text-blue-700 mt-1",children:H})]})]})}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Backup Frequency"}),r.jsxs("select",{value:D.backupFrequency,onChange:ee=>X({...D,backupFrequency:ee.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent outline-none",children:[r.jsx("option",{value:"daily",children:"Daily"}),r.jsx("option",{value:"weekly",children:"Weekly"}),r.jsx("option",{value:"monthly",children:"Monthly"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Last Backup"}),r.jsx("input",{type:"text",value:D.lastBackupAt?new Date(D.lastBackupAt).toLocaleString():"Not yet",disabled:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg bg-gray-50 text-gray-600"})]}),r.jsx("button",{onClick:ce,className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition",children:"Backup Now"})]})]}),q==="email"&&r.jsxs("div",{children:[r.jsx("h2",{className:"font-bold text-gray-900 mb-6",children:"Email Settings"}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"SMTP Server"}),r.jsx("input",{type:"text",value:D.smtpServer,onChange:ee=>X({...D,smtpServer:ee.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent outline-none"})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"SMTP Port"}),r.jsx("input",{type:"text",value:D.smtpPort,onChange:ee=>X({...D,smtpPort:ee.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent outline-none"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Encryption"}),r.jsxs("select",{value:D.smtpEncryption,onChange:ee=>X({...D,smtpEncryption:ee.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent outline-none",children:[r.jsx("option",{value:"TLS",children:"TLS"}),r.jsx("option",{value:"SSL",children:"SSL"}),r.jsx("option",{value:"None",children:"None"})]})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"From Email"}),r.jsx("input",{type:"email",value:D.smtpFromEmail,onChange:ee=>X({...D,smtpFromEmail:ee.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent outline-none"})]}),r.jsx("button",{onClick:()=>{Q("Email settings queued for test."),setTimeout(()=>Q(""),2e3)},className:"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition",children:"Send Test Email"})]})]}),q==="api"&&r.jsxs("div",{children:[r.jsx("h2",{className:"font-bold text-gray-900 mb-6",children:"API Settings"}),r.jsxs("div",{className:"space-y-6",children:[r.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx(ya,{className:"w-5 h-5 text-yellow-600 mt-0.5"}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium text-yellow-900",children:"API Access"}),r.jsx("p",{className:"text-sm text-yellow-700 mt-1",children:"Manage API keys and access tokens"})]})]})}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"API Key"}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx("input",{type:"text",value:lm(D.apiKey),disabled:!0,className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg bg-gray-50 text-gray-600 font-mono"}),r.jsx("button",{onClick:A,className:"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition",children:"Regenerate"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Rate Limit (requests/minute)"}),r.jsx("input",{type:"number",value:D.apiRateLimit,onChange:ee=>X({...D,apiRateLimit:Number(ee.target.value)}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent outline-none"})]}),r.jsxs("div",{className:"flex items-center justify-between py-3 border-t border-gray-200",children:[r.jsxs("div",{children:[r.jsx("p",{className:"font-medium text-gray-900",children:"Enable API Access"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Allow external applications to access the API"})]}),r.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[r.jsx("input",{type:"checkbox",checked:D.apiEnabled,onChange:ee=>X({...D,apiEnabled:ee.target.checked}),className:"sr-only peer"}),r.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-indigo-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-indigo-600"})]})]})]})]}),r.jsx("div",{className:"mt-8 pt-6 border-t border-gray-200",children:r.jsxs("div",{className:"flex items-center justify-between",children:[$&&r.jsx("p",{className:"text-sm text-green-600",children:$}),r.jsxs("button",{onClick:Y,className:"px-6 py-3 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition flex items-center gap-2",children:[r.jsx(fu,{className:"w-5 h-5"}),"Save Changes"]})]})})]})})]})]}):r.jsx("div",{className:"p-8",children:r.jsx("p",{className:"text-gray-600",children:"Loading settings..."})})}function Cm({user:y}){const{refreshUser:q}=bu(),[C,D]=he.useState(!1),[X,$]=he.useState(null),[Q,B]=he.useState({firstName:"",lastName:"",email:"",phone:"",department:"",location:""}),[Z,Y]=he.useState({emailNotifications:!1,lowStockAlerts:!1,language:"English",twoFactorEnabled:!1}),ce=Tt(()=>Ie.products.toArray(),[]),A=Tt(()=>Ie.returns.toArray(),[]),H=he.useMemo(()=>(ce||[]).filter(Ne=>Ne.assignedToEmployeeId===y.id).length,[ce,y.id]),ee=he.useMemo(()=>(A||[]).filter(Ne=>Ne.returnedByEmployeeId===y.id).length,[A,y.id]);he.useEffect(()=>{const[Ne,...Fe]=y.fullName.split(" ");B({firstName:Ne||"",lastName:Fe.join(" "),email:y.email,phone:y.phone,department:y.department,location:y.location}),Y({emailNotifications:!!y.emailNotifications,lowStockAlerts:!!y.lowStockAlerts,language:y.language||"English",twoFactorEnabled:!!y.twoFactorEnabled})},[y]);const xe=async()=>{$(null);const Ne=`${Q.firstName} ${Q.lastName}`.trim();if(!Ne||!Q.email.trim()){$("Name and email are required.");return}const Fe=Q.email.trim().toLowerCase(),Ze=await Ie.employees.where("email").equals(Fe).first();if(Ze&&Ze.id!==y.id){$("Another employee already uses this email.");return}await Ie.employees.update(y.id,{fullName:Ne,email:Fe,phone:Q.phone.trim(),department:Q.department.trim(),location:Q.location.trim(),emailNotifications:Z.emailNotifications,lowStockAlerts:Z.lowStockAlerts,language:Z.language,twoFactorEnabled:Z.twoFactorEnabled}),await Zt({action:"UPDATE",entityType:"employee",entityId:y.id,performedByEmployeeId:y.id,details:"Profile updated"}),await q(),D(!1)},Me=async()=>{const Ne=window.prompt("Enter a new password:");if(!Ne)return;if(Ne.length<6){$("Password must be at least 6 characters.");return}const Fe=window.prompt("Confirm the new password:");if(Ne!==Fe){$("Passwords do not match.");return}const{hash:Ze,salt:Ke}=await wu(Ne);await Ie.employees.update(y.id,{passwordHash:Ze,passwordSalt:Ke}),await Zt({action:"UPDATE",entityType:"employee",entityId:y.id,performedByEmployeeId:y.id,details:"Password updated"}),$(null)},Re=()=>{window.alert("Active session: current browser session.")};return r.jsxs("div",{className:"p-8",children:[r.jsxs("div",{className:"mb-8",children:[r.jsx("h1",{className:"font-bold text-gray-900 mb-2",children:"My Profile"}),r.jsx("p",{className:"text-gray-600",children:"View and update your personal information"})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[r.jsx("div",{className:"lg:col-span-1",children:r.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6",children:[r.jsxs("div",{className:"text-center mb-6",children:[r.jsxs("div",{className:"relative inline-block",children:[r.jsx("div",{className:"w-24 h-24 bg-indigo-100 rounded-full flex items-center justify-center mx-auto mb-4",children:r.jsx("span",{className:"text-3xl font-bold text-indigo-600",children:y.fullName.split(" ").filter(Boolean).map(Ne=>Ne[0]).join("")})}),r.jsx("button",{className:"absolute bottom-3 right-0 w-8 h-8 bg-indigo-600 rounded-full flex items-center justify-center hover:bg-indigo-700 transition",children:r.jsx(np,{className:"w-4 h-4 text-white"})})]}),r.jsx("h2",{className:"font-bold text-gray-900 mb-1",children:y.fullName}),r.jsx("p",{className:"text-sm text-gray-600 capitalize",children:y.role})]}),r.jsxs("div",{className:"space-y-4 pt-6 border-t border-gray-200",children:[r.jsxs("div",{className:"flex items-center gap-3 text-sm",children:[r.jsx(gu,{className:"w-4 h-4 text-gray-400"}),r.jsx("span",{className:"text-gray-600",children:y.email})]}),r.jsxs("div",{className:"flex items-center gap-3 text-sm",children:[r.jsx(Ld,{className:"w-4 h-4 text-gray-400"}),r.jsx("span",{className:"text-gray-600",children:y.phone||"No phone number"})]}),r.jsxs("div",{className:"flex items-center gap-3 text-sm",children:[r.jsx(Lp,{className:"w-4 h-4 text-gray-400"}),r.jsx("span",{className:"text-gray-600",children:y.location||"No location set"})]}),r.jsxs("div",{className:"flex items-center gap-3 text-sm",children:[r.jsx(hu,{className:"w-4 h-4 text-gray-400"}),r.jsxs("span",{className:"text-gray-600",children:["Joined ",Cr(y.createdAt)]})]})]}),r.jsx("div",{className:"mt-6 pt-6 border-t border-gray-200",children:r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-sm text-gray-600",children:"Products Assigned"}),r.jsx("span",{className:"text-sm font-medium text-gray-900",children:H})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-sm text-gray-600",children:"Returns Submitted"}),r.jsx("span",{className:"text-sm font-medium text-gray-900",children:ee})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-sm text-gray-600",children:"Account Status"}),r.jsx("span",{className:`text-sm font-medium ${y.status==="active"?"text-green-600":"text-red-600"}`,children:y.status})]})]})})]})}),r.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[r.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsx("h2",{className:"font-bold text-gray-900",children:"Personal Information"}),r.jsx("button",{onClick:()=>D(!C),className:"px-4 py-2 text-indigo-600 hover:bg-indigo-50 rounded-lg transition text-sm font-medium",children:C?"Cancel":"Edit"})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"First Name"}),r.jsx("input",{type:"text",value:Q.firstName,onChange:Ne=>B({...Q,firstName:Ne.target.value}),disabled:!C,className:`w-full px-4 py-2 border border-gray-300 rounded-lg outline-none ${C?"focus:ring-2 focus:ring-indigo-500 focus:border-transparent":"bg-gray-50 text-gray-600"}`})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Last Name"}),r.jsx("input",{type:"text",value:Q.lastName,onChange:Ne=>B({...Q,lastName:Ne.target.value}),disabled:!C,className:`w-full px-4 py-2 border border-gray-300 rounded-lg outline-none ${C?"focus:ring-2 focus:ring-indigo-500 focus:border-transparent":"bg-gray-50 text-gray-600"}`})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),r.jsx("input",{type:"email",value:Q.email,onChange:Ne=>B({...Q,email:Ne.target.value}),disabled:!C,className:`w-full px-4 py-2 border border-gray-300 rounded-lg outline-none ${C?"focus:ring-2 focus:ring-indigo-500 focus:border-transparent":"bg-gray-50 text-gray-600"}`})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone"}),r.jsx("input",{type:"tel",value:Q.phone,onChange:Ne=>B({...Q,phone:Ne.target.value}),disabled:!C,className:`w-full px-4 py-2 border border-gray-300 rounded-lg outline-none ${C?"focus:ring-2 focus:ring-indigo-500 focus:border-transparent":"bg-gray-50 text-gray-600"}`})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Department"}),r.jsx("input",{type:"text",value:Q.department,onChange:Ne=>B({...Q,department:Ne.target.value}),disabled:!C,className:`w-full px-4 py-2 border border-gray-300 rounded-lg outline-none ${C?"focus:ring-2 focus:ring-indigo-500 focus:border-transparent":"bg-gray-50 text-gray-600"}`})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Location"}),r.jsx("input",{type:"text",value:Q.location,onChange:Ne=>B({...Q,location:Ne.target.value}),disabled:!C,className:`w-full px-4 py-2 border border-gray-300 rounded-lg outline-none ${C?"focus:ring-2 focus:ring-indigo-500 focus:border-transparent":"bg-gray-50 text-gray-600"}`})]})]}),X&&r.jsx("p",{className:"text-sm text-red-600 mt-4",children:X}),C&&r.jsx("div",{className:"mt-6 pt-6 border-t border-gray-200",children:r.jsxs("button",{onClick:xe,className:"px-6 py-3 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition flex items-center gap-2",children:[r.jsx(fu,{className:"w-5 h-5"}),"Save Changes"]})})]}),r.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6",children:[r.jsx("h2",{className:"font-bold text-gray-900 mb-6",children:"Security Settings"}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between py-4 border-b border-gray-100",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-10 h-10 bg-indigo-100 rounded-lg flex items-center justify-center",children:r.jsx(_p,{className:"w-5 h-5 text-indigo-600"})}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium text-gray-900",children:"Change Password"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Update your password regularly for security"})]})]}),r.jsx("button",{onClick:Me,className:"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition text-sm",children:"Change"})]}),r.jsxs("div",{className:"flex items-center justify-between py-4 border-b border-gray-100",children:[r.jsxs("div",{children:[r.jsx("p",{className:"font-medium text-gray-900",children:"Two-Factor Authentication"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Add an extra layer of security to your account"})]}),r.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[r.jsx("input",{type:"checkbox",checked:Z.twoFactorEnabled,onChange:Ne=>Y({...Z,twoFactorEnabled:Ne.target.checked}),className:"sr-only peer"}),r.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-indigo-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-indigo-600"})]})]}),r.jsxs("div",{className:"flex items-center justify-between py-4",children:[r.jsxs("div",{children:[r.jsx("p",{className:"font-medium text-gray-900",children:"Active Sessions"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Manage devices where you're currently logged in"})]}),r.jsx("button",{onClick:Re,className:"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition text-sm",children:"View"})]})]})]}),r.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6",children:[r.jsx("h2",{className:"font-bold text-gray-900 mb-6",children:"Preferences"}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between py-3",children:[r.jsxs("div",{children:[r.jsx("p",{className:"font-medium text-gray-900",children:"Email Notifications"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Receive email updates about your activity"})]}),r.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[r.jsx("input",{type:"checkbox",checked:Z.emailNotifications,onChange:Ne=>Y({...Z,emailNotifications:Ne.target.checked}),className:"sr-only peer"}),r.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-indigo-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-indigo-600"})]})]}),r.jsxs("div",{className:"flex items-center justify-between py-3",children:[r.jsxs("div",{children:[r.jsx("p",{className:"font-medium text-gray-900",children:"Low Stock Alerts"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Get notified when assigned products are low"})]}),r.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[r.jsx("input",{type:"checkbox",checked:Z.lowStockAlerts,onChange:Ne=>Y({...Z,lowStockAlerts:Ne.target.checked}),className:"sr-only peer"}),r.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-indigo-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-indigo-600"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Language"}),r.jsxs("select",{value:Z.language,onChange:Ne=>Y({...Z,language:Ne.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent outline-none",children:[r.jsx("option",{children:"English"}),r.jsx("option",{children:"Spanish"}),r.jsx("option",{children:"French"}),r.jsx("option",{children:"German"})]})]}),r.jsx("div",{className:"pt-4",children:r.jsxs("button",{onClick:xe,className:"px-6 py-3 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition flex items-center gap-2",children:[r.jsx(fu,{className:"w-5 h-5"}),"Save Preferences"]})})]})]})]})]})]})}function Em({user:y,currentPage:q,onNavigate:C,onLogout:D}){const X=[{id:"dashboard",label:"Dashboard",icon:Ep,roles:["admin","supervisor","employee"]},{id:"products",label:"Products",icon:Oo,roles:["admin","supervisor","employee"]},{id:"employees",label:"Employees",icon:xu,roles:["admin"]},{id:"returns",label:"Returns",icon:Lo,roles:["admin","supervisor","employee"]},{id:"reports",label:"Reports",icon:vp,roles:["admin"]},{id:"activity-logs",label:"Activity Logs",icon:Od,roles:["admin"]},{id:"settings",label:"Settings",icon:Fd,roles:["admin"]}],$=()=>{switch(y.role){case"admin":return"bg-purple-100 text-purple-700 border-purple-200";case"supervisor":return"bg-blue-100 text-blue-700 border-blue-200";case"employee":return"bg-green-100 text-green-700 border-green-200"}},Q=()=>{switch(y.role){case"admin":return r.jsx(ya,{className:"w-4 h-4"});case"supervisor":return r.jsx(Ud,{className:"w-4 h-4"});case"employee":return r.jsx(cu,{className:"w-4 h-4"})}};return r.jsxs("aside",{className:"w-64 bg-white border-r border-gray-200 flex flex-col",children:[r.jsxs("div",{className:"p-6 border-b border-gray-200",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[r.jsx("div",{className:"w-10 h-10 bg-indigo-600 rounded-lg flex items-center justify-center",children:r.jsx(Oo,{className:"w-6 h-6 text-white"})}),r.jsxs("div",{children:[r.jsx("h1",{className:"font-bold text-gray-900",children:"BTS PIMS"}),r.jsx("p",{className:"text-xs text-gray-500",children:"Property System"})]})]}),r.jsxs("div",{className:`px-3 py-2 rounded-lg border ${$()} flex items-center gap-2`,children:[Q(),r.jsx("span",{className:"text-sm font-medium capitalize",children:y.role})]})]}),r.jsx("nav",{className:"flex-1 p-4 space-y-1",children:X.map(B=>{if(!B.roles.includes(y.role))return null;const Z=B.icon,Y=q===B.id;return r.jsxs("button",{onClick:()=>C(B.id),className:`w-full px-4 py-3 rounded-lg flex items-center gap-3 transition ${Y?"bg-indigo-50 text-indigo-700 font-medium":"text-gray-700 hover:bg-gray-50"}`,children:[r.jsx(Z,{className:"w-5 h-5"}),r.jsx("span",{children:B.label})]},B.id)})}),r.jsxs("div",{className:"p-4 border-t border-gray-200 space-y-1",children:[r.jsxs("button",{onClick:()=>C("profile"),className:`w-full px-4 py-3 rounded-lg flex items-center gap-3 transition ${q==="profile"?"bg-indigo-50 text-indigo-700 font-medium":"text-gray-700 hover:bg-gray-50"}`,children:[r.jsx(cu,{className:"w-5 h-5"}),r.jsx("span",{children:"Profile"})]}),r.jsxs("button",{onClick:D,className:"w-full px-4 py-3 rounded-lg flex items-center gap-3 text-red-600 hover:bg-red-50 transition",children:[r.jsx(Mp,{className:"w-5 h-5"}),r.jsx("span",{children:"Logout"})]})]})]})}function Pm(){const{currentUser:y,loading:q,initError:C,logout:D}=bu(),[X,$]=he.useState("dashboard"),Q=he.useMemo(()=>({dashboard:["admin","supervisor","employee"],products:["admin","supervisor","employee"],employees:["admin"],returns:["admin","supervisor","employee"],reports:["admin"],"activity-logs":["admin"],settings:["admin"],profile:["admin","supervisor","employee"]}),[]);if(he.useEffect(()=>{if(!y)return;const Z=Q[X];Z&&!Z.includes(y.role)&&$("dashboard")},[X,y,Q]),q)return r.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:r.jsx("p",{className:"text-gray-600",children:"Loading local database..."})});if(!y)return r.jsx(mm,{initError:C});const B=()=>{switch(X){case"dashboard":return r.jsx(Cd,{user:y});case"products":return r.jsx(gm,{user:y});case"employees":return r.jsx(ym,{user:y});case"returns":return r.jsx(xm,{user:y});case"reports":return r.jsx(jm,{user:y});case"activity-logs":return r.jsx(km,{user:y});case"settings":return r.jsx(_m,{user:y});case"profile":return r.jsx(Cm,{user:y});default:return r.jsx(Cd,{user:y})}};return r.jsxs("div",{className:"flex h-screen bg-gray-50",children:[r.jsx(Em,{user:y,currentPage:X,onNavigate:$,onLogout:D}),r.jsx("main",{className:"flex-1 overflow-auto",children:B()})]})}Wf.createRoot(document.getElementById("root")).render(r.jsx(pm,{children:r.jsx(Pm,{})}));
